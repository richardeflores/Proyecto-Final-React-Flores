function W1(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Qs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zv={exports:{}},tu={},ey={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=Symbol.for("react.element"),H1=Symbol.for("react.portal"),q1=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),Q1=Symbol.for("react.profiler"),G1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),Y1=Symbol.for("react.forward_ref"),J1=Symbol.for("react.suspense"),Z1=Symbol.for("react.memo"),eT=Symbol.for("react.lazy"),um=Symbol.iterator;function tT(t){return t===null||typeof t!="object"?null:(t=um&&t[um]||t["@@iterator"],typeof t=="function"?t:null)}var ty={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ny=Object.assign,ry={};function lo(t,e,n){this.props=t,this.context=e,this.refs=ry,this.updater=n||ty}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iy(){}iy.prototype=lo.prototype;function wf(t,e,n){this.props=t,this.context=e,this.refs=ry,this.updater=n||ty}var Ef=wf.prototype=new iy;Ef.constructor=wf;ny(Ef,lo.prototype);Ef.isPureReactComponent=!0;var cm=Array.isArray,oy=Object.prototype.hasOwnProperty,Tf={current:null},sy={key:!0,ref:!0,__self:!0,__source:!0};function ay(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)oy.call(e,r)&&!sy.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Gs,type:t,key:o,ref:s,props:i,_owner:Tf.current}}function nT(t,e){return{$$typeof:Gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gs}function rT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hm=/\/+/g;function rc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?rT(""+t.key):e.toString(36)}function Xa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Gs:case H1:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+rc(s,0):r,cm(i)?(n="",t!=null&&(n=t.replace(hm,"$&/")+"/"),Xa(i,e,n,"",function(c){return c})):i!=null&&(Cf(i)&&(i=nT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(hm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",cm(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+rc(o,l);s+=Xa(o,e,n,u,i)}else if(u=tT(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+rc(o,l++),s+=Xa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function xa(t,e,n){if(t==null)return t;var r=[],i=0;return Xa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function iT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gt={current:null},Ya={transition:null},oT={ReactCurrentDispatcher:gt,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:Tf};function ly(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:xa,forEach:function(t,e,n){xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xa(t,function(){e++}),e},toArray:function(t){return xa(t,function(e){return e})||[]},only:function(t){if(!Cf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=lo;Z.Fragment=q1;Z.Profiler=Q1;Z.PureComponent=wf;Z.StrictMode=K1;Z.Suspense=J1;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oT;Z.act=ly;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ny({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Tf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)oy.call(e,u)&&!sy.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Gs,type:t.type,key:i,ref:o,props:r,_owner:s}};Z.createContext=function(t){return t={$$typeof:X1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G1,_context:t},t.Consumer=t};Z.createElement=ay;Z.createFactory=function(t){var e=ay.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:Y1,render:t}};Z.isValidElement=Cf;Z.lazy=function(t){return{$$typeof:eT,_payload:{_status:-1,_result:t},_init:iT}};Z.memo=function(t,e){return{$$typeof:Z1,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Ya.transition;Ya.transition={};try{t()}finally{Ya.transition=e}};Z.unstable_act=ly;Z.useCallback=function(t,e){return gt.current.useCallback(t,e)};Z.useContext=function(t){return gt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return gt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return gt.current.useEffect(t,e)};Z.useId=function(){return gt.current.useId()};Z.useImperativeHandle=function(t,e,n){return gt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return gt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return gt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return gt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return gt.current.useReducer(t,e,n)};Z.useRef=function(t){return gt.current.useRef(t)};Z.useState=function(t){return gt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return gt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return gt.current.useTransition()};Z.version="18.3.1";ey.exports=Z;var E=ey.exports;const Je=Qs(E),sT=W1({__proto__:null,default:Je},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aT=E,lT=Symbol.for("react.element"),uT=Symbol.for("react.fragment"),cT=Object.prototype.hasOwnProperty,hT=aT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fT={key:!0,ref:!0,__self:!0,__source:!0};function uy(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)cT.call(e,r)&&!fT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:lT,type:t,key:o,ref:s,props:i,_owner:hT.current}}tu.Fragment=uT;tu.jsx=uy;tu.jsxs=uy;Zv.exports=tu;var O=Zv.exports,cy={exports:{}},Ot={},hy={exports:{}},fy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,K){var q=F.length;F.push(K);e:for(;0<q;){var te=q-1>>>1,J=F[te];if(0<i(J,K))F[te]=K,F[q]=J,q=te;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var K=F[0],q=F.pop();if(q!==K){F[0]=q;e:for(var te=0,J=F.length,re=J>>>1;te<re;){var de=2*(te+1)-1,ye=F[de],Qe=de+1,nt=F[Qe];if(0>i(ye,q))Qe<J&&0>i(nt,ye)?(F[te]=nt,F[Qe]=q,te=Qe):(F[te]=ye,F[de]=q,te=de);else if(Qe<J&&0>i(nt,q))F[te]=nt,F[Qe]=q,te=Qe;else break e}}return K}function i(F,K){var q=F.sortIndex-K.sortIndex;return q!==0?q:F.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,p=null,m=3,_=!1,x=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(F){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=F)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function D(F){if(k=!1,T(F),!x)if(n(u)!==null)x=!0,ae(M);else{var K=n(c);K!==null&&fe(D,K.startTime-F)}}function M(F,K){x=!1,k&&(k=!1,C(g),g=-1),_=!0;var q=m;try{for(T(K),p=n(u);p!==null&&(!(p.expirationTime>K)||F&&!A());){var te=p.callback;if(typeof te=="function"){p.callback=null,m=p.priorityLevel;var J=te(p.expirationTime<=K);K=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),T(K)}else r(u);p=n(u)}if(p!==null)var re=!0;else{var de=n(c);de!==null&&fe(D,de.startTime-K),re=!1}return re}finally{p=null,m=q,_=!1}}var L=!1,w=null,g=-1,S=5,R=-1;function A(){return!(t.unstable_now()-R<S)}function N(){if(w!==null){var F=t.unstable_now();R=F;var K=!0;try{K=w(!0,F)}finally{K?I():(L=!1,w=null)}}else L=!1}var I;if(typeof y=="function")I=function(){y(N)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=N,I=function(){me.postMessage(null)}}else I=function(){P(N,0)};function ae(F){w=F,L||(L=!0,I())}function fe(F,K){g=P(function(){F(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){x||_||(x=!0,ae(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(F){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var q=m;m=K;try{return F()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,K){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=m;m=F;try{return K()}finally{m=q}},t.unstable_scheduleCallback=function(F,K,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,F={id:f++,callback:K,priorityLevel:F,startTime:q,expirationTime:J,sortIndex:-1},q>te?(F.sortIndex=q,e(c,F),n(u)===null&&F===n(c)&&(k?(C(g),g=-1):k=!0,fe(D,q-te))):(F.sortIndex=J,e(u,F),x||_||(x=!0,ae(M))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var K=m;return function(){var q=m;m=K;try{return F.apply(this,arguments)}finally{m=q}}}})(fy);hy.exports=fy;var dT=hy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pT=E,Nt=dT;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dy=new Set,vs={};function ii(t,e){Wi(t,e),Wi(t+"Capture",e)}function Wi(t,e){for(vs[t]=e,t=0;t<e.length;t++)dy.add(e[t])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kc=Object.prototype.hasOwnProperty,mT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fm={},dm={};function gT(t){return Kc.call(dm,t)?!0:Kc.call(fm,t)?!1:mT.test(t)?dm[t]=!0:(fm[t]=!0,!1)}function vT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function yT(t,e,n,r){if(e===null||typeof e>"u"||vT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){et[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];et[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){et[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){et[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){et[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){et[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){et[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){et[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){et[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sf=/[\-:]([a-z])/g;function If(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sf,If);et[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sf,If);et[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sf,If);et[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){et[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});et.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){et[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function xf(t,e,n,r){var i=et.hasOwnProperty(e)?et[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(yT(e,n,i,r)&&(n=null),r||i===null?gT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ln=pT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ra=Symbol.for("react.element"),Ti=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),Rf=Symbol.for("react.strict_mode"),Qc=Symbol.for("react.profiler"),py=Symbol.for("react.provider"),my=Symbol.for("react.context"),Af=Symbol.for("react.forward_ref"),Gc=Symbol.for("react.suspense"),Xc=Symbol.for("react.suspense_list"),Pf=Symbol.for("react.memo"),qn=Symbol.for("react.lazy"),gy=Symbol.for("react.offscreen"),pm=Symbol.iterator;function Lo(t){return t===null||typeof t!="object"?null:(t=pm&&t[pm]||t["@@iterator"],typeof t=="function"?t:null)}var Ae=Object.assign,ic;function Ho(t){if(ic===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ic=e&&e[1]||""}return`
`+ic+t}var oc=!1;function sc(t,e){if(!t||oc)return"";oc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{oc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ho(t):""}function _T(t){switch(t.tag){case 5:return Ho(t.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return t=sc(t.type,!1),t;case 11:return t=sc(t.type.render,!1),t;case 1:return t=sc(t.type,!0),t;default:return""}}function Yc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ci:return"Fragment";case Ti:return"Portal";case Qc:return"Profiler";case Rf:return"StrictMode";case Gc:return"Suspense";case Xc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case my:return(t.displayName||"Context")+".Consumer";case py:return(t._context.displayName||"Context")+".Provider";case Af:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pf:return e=t.displayName||null,e!==null?e:Yc(t.type)||"Memo";case qn:e=t._payload,t=t._init;try{return Yc(t(e))}catch{}}return null}function wT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yc(e);case 8:return e===Rf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ET(t){var e=vy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Aa(t){t._valueTracker||(t._valueTracker=ET(t))}function yy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jc(t,e){var n=e.checked;return Ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _y(t,e){e=e.checked,e!=null&&xf(t,"checked",e,!1)}function Zc(t,e){_y(t,e);var n=vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eh(t,e.type,n):e.hasOwnProperty("defaultValue")&&eh(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eh(t,e,n){(e!=="number"||pl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var qo=Array.isArray;function Li(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function th(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return Ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($(92));if(qo(n)){if(1<n.length)throw Error($(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function wy(t,e){var n=vr(e.value),r=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ym(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ey(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ey(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pa,Ty=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pa=Pa||document.createElement("div"),Pa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TT=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){TT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function Cy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function Sy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Cy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var CT=Ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rh(t,e){if(e){if(CT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function ih(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=null;function kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sh=null,Mi=null,bi=null;function _m(t){if(t=Js(t)){if(typeof sh!="function")throw Error($(280));var e=t.stateNode;e&&(e=su(e),sh(t.stateNode,t.type,e))}}function Iy(t){Mi?bi?bi.push(t):bi=[t]:Mi=t}function xy(){if(Mi){var t=Mi,e=bi;if(bi=Mi=null,_m(t),e)for(t=0;t<e.length;t++)_m(e[t])}}function Ry(t,e){return t(e)}function Ay(){}var ac=!1;function Py(t,e,n){if(ac)return t(e,n);ac=!0;try{return Ry(t,e,n)}finally{ac=!1,(Mi!==null||bi!==null)&&(Ay(),xy())}}function _s(t,e){var n=t.stateNode;if(n===null)return null;var r=su(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var ah=!1;if(An)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{ah=!1}function ST(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var ns=!1,ml=null,gl=!1,lh=null,IT={onError:function(t){ns=!0,ml=t}};function xT(t,e,n,r,i,o,s,l,u){ns=!1,ml=null,ST.apply(IT,arguments)}function RT(t,e,n,r,i,o,s,l,u){if(xT.apply(this,arguments),ns){if(ns){var c=ml;ns=!1,ml=null}else throw Error($(198));gl||(gl=!0,lh=c)}}function oi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ky(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wm(t){if(oi(t)!==t)throw Error($(188))}function AT(t){var e=t.alternate;if(!e){if(e=oi(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return wm(i),t;if(o===r)return wm(i),e;o=o.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function Ny(t){return t=AT(t),t!==null?Dy(t):null}function Dy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dy(t);if(e!==null)return e;t=t.sibling}return null}var Oy=Nt.unstable_scheduleCallback,Em=Nt.unstable_cancelCallback,PT=Nt.unstable_shouldYield,kT=Nt.unstable_requestPaint,De=Nt.unstable_now,NT=Nt.unstable_getCurrentPriorityLevel,Nf=Nt.unstable_ImmediatePriority,Vy=Nt.unstable_UserBlockingPriority,vl=Nt.unstable_NormalPriority,DT=Nt.unstable_LowPriority,Ly=Nt.unstable_IdlePriority,nu=null,hn=null;function OT(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(nu,t,void 0,(t.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:MT,VT=Math.log,LT=Math.LN2;function MT(t){return t>>>=0,t===0?32:31-(VT(t)/LT|0)|0}var ka=64,Na=4194304;function Ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ko(l):(o&=s,o!==0&&(r=Ko(o)))}else s=n&~i,s!==0?r=Ko(s):o!==0&&(r=Ko(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jt(e),i=1<<n,r|=t[n],e&=~i;return r}function bT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Jt(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=bT(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function uh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function My(){var t=ka;return ka<<=1,!(ka&4194240)&&(ka=64),t}function lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jt(e),t[e]=n}function FT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jt(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function by(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var jy,Of,Fy,$y,By,ch=!1,Da=[],ir=null,or=null,sr=null,ws=new Map,Es=new Map,Gn=[],$T="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tm(t,e){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":ws.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(e.pointerId)}}function bo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Js(e),e!==null&&Of(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BT(t,e,n,r,i){switch(e){case"focusin":return ir=bo(ir,t,e,n,r,i),!0;case"dragenter":return or=bo(or,t,e,n,r,i),!0;case"mouseover":return sr=bo(sr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ws.set(o,bo(ws.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Es.set(o,bo(Es.get(o)||null,t,e,n,r,i)),!0}return!1}function Uy(t){var e=Fr(t.target);if(e!==null){var n=oi(e);if(n!==null){if(e=n.tag,e===13){if(e=ky(n),e!==null){t.blockedOn=e,By(t.priority,function(){Fy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ja(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);oh=r,n.target.dispatchEvent(r),oh=null}else return e=Js(n),e!==null&&Of(e),t.blockedOn=n,!1;e.shift()}return!0}function Cm(t,e,n){Ja(t)&&n.delete(e)}function UT(){ch=!1,ir!==null&&Ja(ir)&&(ir=null),or!==null&&Ja(or)&&(or=null),sr!==null&&Ja(sr)&&(sr=null),ws.forEach(Cm),Es.forEach(Cm)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,ch||(ch=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,UT)))}function Ts(t){function e(i){return jo(i,t)}if(0<Da.length){jo(Da[0],t);for(var n=1;n<Da.length;n++){var r=Da[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ir!==null&&jo(ir,t),or!==null&&jo(or,t),sr!==null&&jo(sr,t),ws.forEach(e),Es.forEach(e),n=0;n<Gn.length;n++)r=Gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gn.length&&(n=Gn[0],n.blockedOn===null);)Uy(n),n.blockedOn===null&&Gn.shift()}var ji=Ln.ReactCurrentBatchConfig,_l=!0;function zT(t,e,n,r){var i=pe,o=ji.transition;ji.transition=null;try{pe=1,Vf(t,e,n,r)}finally{pe=i,ji.transition=o}}function WT(t,e,n,r){var i=pe,o=ji.transition;ji.transition=null;try{pe=4,Vf(t,e,n,r)}finally{pe=i,ji.transition=o}}function Vf(t,e,n,r){if(_l){var i=hh(t,e,n,r);if(i===null)yc(t,e,r,wl,n),Tm(t,r);else if(BT(i,t,e,n,r))r.stopPropagation();else if(Tm(t,r),e&4&&-1<$T.indexOf(t)){for(;i!==null;){var o=Js(i);if(o!==null&&jy(o),o=hh(t,e,n,r),o===null&&yc(t,e,r,wl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yc(t,e,r,null,n)}}var wl=null;function hh(t,e,n,r){if(wl=null,t=kf(r),t=Fr(t),t!==null)if(e=oi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ky(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wl=t,null}function zy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NT()){case Nf:return 1;case Vy:return 4;case vl:case DT:return 16;case Ly:return 536870912;default:return 16}default:return 16}}var Jn=null,Lf=null,Za=null;function Wy(){if(Za)return Za;var t,e=Lf,n=e.length,r,i="value"in Jn?Jn.value:Jn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Za=i.slice(t,1<r?1-r:void 0)}function el(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Oa(){return!0}function Sm(){return!1}function Vt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Oa:Sm,this.isPropagationStopped=Sm,this}return Ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Oa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Oa)},persist:function(){},isPersistent:Oa}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mf=Vt(uo),Ys=Ae({},uo,{view:0,detail:0}),HT=Vt(Ys),uc,cc,Fo,ru=Ae({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(uc=t.screenX-Fo.screenX,cc=t.screenY-Fo.screenY):cc=uc=0,Fo=t),uc)},movementY:function(t){return"movementY"in t?t.movementY:cc}}),Im=Vt(ru),qT=Ae({},ru,{dataTransfer:0}),KT=Vt(qT),QT=Ae({},Ys,{relatedTarget:0}),hc=Vt(QT),GT=Ae({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),XT=Vt(GT),YT=Ae({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JT=Vt(YT),ZT=Ae({},uo,{data:0}),xm=Vt(ZT),eC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nC[t])?!!e[t]:!1}function bf(){return rC}var iC=Ae({},Ys,{key:function(t){if(t.key){var e=eC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=el(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(t){return t.type==="keypress"?el(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?el(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oC=Vt(iC),sC=Ae({},ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rm=Vt(sC),aC=Ae({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),lC=Vt(aC),uC=Ae({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cC=Vt(uC),hC=Ae({},ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fC=Vt(hC),dC=[9,13,27,32],jf=An&&"CompositionEvent"in window,rs=null;An&&"documentMode"in document&&(rs=document.documentMode);var pC=An&&"TextEvent"in window&&!rs,Hy=An&&(!jf||rs&&8<rs&&11>=rs),Am=" ",Pm=!1;function qy(t,e){switch(t){case"keyup":return dC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ky(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Si=!1;function mC(t,e){switch(t){case"compositionend":return Ky(e);case"keypress":return e.which!==32?null:(Pm=!0,Am);case"textInput":return t=e.data,t===Am&&Pm?null:t;default:return null}}function gC(t,e){if(Si)return t==="compositionend"||!jf&&qy(t,e)?(t=Wy(),Za=Lf=Jn=null,Si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Hy&&e.locale!=="ko"?null:e.data;default:return null}}var vC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vC[t.type]:e==="textarea"}function Qy(t,e,n,r){Iy(r),e=El(e,"onChange"),0<e.length&&(n=new Mf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var is=null,Cs=null;function yC(t){o0(t,0)}function iu(t){var e=Ri(t);if(yy(e))return t}function _C(t,e){if(t==="change")return e}var Gy=!1;if(An){var fc;if(An){var dc="oninput"in document;if(!dc){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),dc=typeof Nm.oninput=="function"}fc=dc}else fc=!1;Gy=fc&&(!document.documentMode||9<document.documentMode)}function Dm(){is&&(is.detachEvent("onpropertychange",Xy),Cs=is=null)}function Xy(t){if(t.propertyName==="value"&&iu(Cs)){var e=[];Qy(e,Cs,t,kf(t)),Py(yC,e)}}function wC(t,e,n){t==="focusin"?(Dm(),is=e,Cs=n,is.attachEvent("onpropertychange",Xy)):t==="focusout"&&Dm()}function EC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(Cs)}function TC(t,e){if(t==="click")return iu(e)}function CC(t,e){if(t==="input"||t==="change")return iu(e)}function SC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:SC;function Ss(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kc.call(e,i)||!en(t[i],e[i]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vm(t,e){var n=Om(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Om(n)}}function Yy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jy(){for(var t=window,e=pl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pl(t.document)}return e}function Ff(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IC(t){var e=Jy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yy(n.ownerDocument.documentElement,n)){if(r!==null&&Ff(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Vm(n,o);var s=Vm(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xC=An&&"documentMode"in document&&11>=document.documentMode,Ii=null,fh=null,os=null,dh=!1;function Lm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dh||Ii==null||Ii!==pl(r)||(r=Ii,"selectionStart"in r&&Ff(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),os&&Ss(os,r)||(os=r,r=El(fh,"onSelect"),0<r.length&&(e=new Mf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ii)))}function Va(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xi={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionend:Va("Transition","TransitionEnd")},pc={},Zy={};An&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function ou(t){if(pc[t])return pc[t];if(!xi[t])return t;var e=xi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zy)return pc[t]=e[n];return t}var e0=ou("animationend"),t0=ou("animationiteration"),n0=ou("animationstart"),r0=ou("transitionend"),i0=new Map,Mm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){i0.set(t,e),ii(e,[t])}for(var mc=0;mc<Mm.length;mc++){var gc=Mm[mc],RC=gc.toLowerCase(),AC=gc[0].toUpperCase()+gc.slice(1);Ir(RC,"on"+AC)}Ir(e0,"onAnimationEnd");Ir(t0,"onAnimationIteration");Ir(n0,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(r0,"onTransitionEnd");Wi("onMouseEnter",["mouseout","mouseover"]);Wi("onMouseLeave",["mouseout","mouseover"]);Wi("onPointerEnter",["pointerout","pointerover"]);Wi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qo));function bm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RT(r,e,void 0,t),t.currentTarget=null}function o0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;bm(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;bm(i,l,c),o=u}}}if(gl)throw t=lh,gl=!1,lh=null,t}function Ee(t,e){var n=e[yh];n===void 0&&(n=e[yh]=new Set);var r=t+"__bubble";n.has(r)||(s0(e,t,2,!1),n.add(r))}function vc(t,e,n){var r=0;e&&(r|=4),s0(n,t,r,e)}var La="_reactListening"+Math.random().toString(36).slice(2);function Is(t){if(!t[La]){t[La]=!0,dy.forEach(function(n){n!=="selectionchange"&&(PC.has(n)||vc(n,!1,t),vc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[La]||(e[La]=!0,vc("selectionchange",!1,e))}}function s0(t,e,n,r){switch(zy(e)){case 1:var i=zT;break;case 4:i=WT;break;default:i=Vf}n=i.bind(null,e,n,t),i=void 0,!ah||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Fr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Py(function(){var c=o,f=kf(n),p=[];e:{var m=i0.get(t);if(m!==void 0){var _=Mf,x=t;switch(t){case"keypress":if(el(n)===0)break e;case"keydown":case"keyup":_=oC;break;case"focusin":x="focus",_=hc;break;case"focusout":x="blur",_=hc;break;case"beforeblur":case"afterblur":_=hc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Im;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=KT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=lC;break;case e0:case t0:case n0:_=XT;break;case r0:_=cC;break;case"scroll":_=HT;break;case"wheel":_=fC;break;case"copy":case"cut":case"paste":_=JT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Rm}var k=(e&4)!==0,P=!k&&t==="scroll",C=k?m!==null?m+"Capture":null:m;k=[];for(var y=c,T;y!==null;){T=y;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,C!==null&&(D=_s(y,C),D!=null&&k.push(xs(y,D,T)))),P)break;y=y.return}0<k.length&&(m=new _(m,x,null,n,f),p.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",m&&n!==oh&&(x=n.relatedTarget||n.fromElement)&&(Fr(x)||x[Pn]))break e;if((_||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,_?(x=n.relatedTarget||n.toElement,_=c,x=x?Fr(x):null,x!==null&&(P=oi(x),x!==P||x.tag!==5&&x.tag!==6)&&(x=null)):(_=null,x=c),_!==x)){if(k=Im,D="onMouseLeave",C="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=Rm,D="onPointerLeave",C="onPointerEnter",y="pointer"),P=_==null?m:Ri(_),T=x==null?m:Ri(x),m=new k(D,y+"leave",_,n,f),m.target=P,m.relatedTarget=T,D=null,Fr(f)===c&&(k=new k(C,y+"enter",x,n,f),k.target=T,k.relatedTarget=P,D=k),P=D,_&&x)t:{for(k=_,C=x,y=0,T=k;T;T=mi(T))y++;for(T=0,D=C;D;D=mi(D))T++;for(;0<y-T;)k=mi(k),y--;for(;0<T-y;)C=mi(C),T--;for(;y--;){if(k===C||C!==null&&k===C.alternate)break t;k=mi(k),C=mi(C)}k=null}else k=null;_!==null&&jm(p,m,_,k,!1),x!==null&&P!==null&&jm(p,P,x,k,!0)}}e:{if(m=c?Ri(c):window,_=m.nodeName&&m.nodeName.toLowerCase(),_==="select"||_==="input"&&m.type==="file")var M=_C;else if(km(m))if(Gy)M=CC;else{M=EC;var L=wC}else(_=m.nodeName)&&_.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=TC);if(M&&(M=M(t,c))){Qy(p,M,n,f);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&eh(m,"number",m.value)}switch(L=c?Ri(c):window,t){case"focusin":(km(L)||L.contentEditable==="true")&&(Ii=L,fh=c,os=null);break;case"focusout":os=fh=Ii=null;break;case"mousedown":dh=!0;break;case"contextmenu":case"mouseup":case"dragend":dh=!1,Lm(p,n,f);break;case"selectionchange":if(xC)break;case"keydown":case"keyup":Lm(p,n,f)}var w;if(jf)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Si?qy(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Hy&&n.locale!=="ko"&&(Si||g!=="onCompositionStart"?g==="onCompositionEnd"&&Si&&(w=Wy()):(Jn=f,Lf="value"in Jn?Jn.value:Jn.textContent,Si=!0)),L=El(c,g),0<L.length&&(g=new xm(g,t,null,n,f),p.push({event:g,listeners:L}),w?g.data=w:(w=Ky(n),w!==null&&(g.data=w)))),(w=pC?mC(t,n):gC(t,n))&&(c=El(c,"onBeforeInput"),0<c.length&&(f=new xm("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=w))}o0(p,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function El(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=_s(t,n),o!=null&&r.unshift(xs(t,o,i)),o=_s(t,e),o!=null&&r.push(xs(t,o,i))),t=t.return}return r}function mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=_s(n,o),u!=null&&s.unshift(xs(n,u,l))):i||(u=_s(n,o),u!=null&&s.push(xs(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var kC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function Fm(t){return(typeof t=="string"?t:""+t).replace(kC,`
`).replace(NC,"")}function Ma(t,e,n){if(e=Fm(e),Fm(t)!==e&&n)throw Error($(425))}function Tl(){}var ph=null,mh=null;function gh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,DC=typeof clearTimeout=="function"?clearTimeout:void 0,$m=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof $m<"u"?function(t){return $m.resolve(null).then(t).catch(VC)}:vh;function VC(t){setTimeout(function(){throw t})}function _c(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ts(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ts(e)}function ar(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),un="__reactFiber$"+co,Rs="__reactProps$"+co,Pn="__reactContainer$"+co,yh="__reactEvents$"+co,LC="__reactListeners$"+co,MC="__reactHandles$"+co;function Fr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pn]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bm(t);t!==null;){if(n=t[un])return n;t=Bm(t)}return e}t=n,n=t.parentNode}return null}function Js(t){return t=t[un]||t[Pn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ri(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function su(t){return t[Rs]||null}var _h=[],Ai=-1;function xr(t){return{current:t}}function Ce(t){0>Ai||(t.current=_h[Ai],_h[Ai]=null,Ai--)}function _e(t,e){Ai++,_h[Ai]=t.current,t.current=e}var yr={},ft=xr(yr),Et=xr(!1),Xr=yr;function Hi(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(t){return t=t.childContextTypes,t!=null}function Cl(){Ce(Et),Ce(ft)}function Um(t,e,n){if(ft.current!==yr)throw Error($(168));_e(ft,e),_e(Et,n)}function a0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($(108,wT(t)||"Unknown",i));return Ae({},n,r)}function Sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Xr=ft.current,_e(ft,t),_e(Et,Et.current),!0}function zm(t,e,n){var r=t.stateNode;if(!r)throw Error($(169));n?(t=a0(t,e,Xr),r.__reactInternalMemoizedMergedChildContext=t,Ce(Et),Ce(ft),_e(ft,t)):Ce(Et),_e(Et,n)}var En=null,au=!1,wc=!1;function l0(t){En===null?En=[t]:En.push(t)}function bC(t){au=!0,l0(t)}function Rr(){if(!wc&&En!==null){wc=!0;var t=0,e=pe;try{var n=En;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}En=null,au=!1}catch(i){throw En!==null&&(En=En.slice(t+1)),Oy(Nf,Rr),i}finally{pe=e,wc=!1}}return null}var Pi=[],ki=0,Il=null,xl=0,Lt=[],Mt=0,Yr=null,Sn=1,In="";function Mr(t,e){Pi[ki++]=xl,Pi[ki++]=Il,Il=t,xl=e}function u0(t,e,n){Lt[Mt++]=Sn,Lt[Mt++]=In,Lt[Mt++]=Yr,Yr=t;var r=Sn;t=In;var i=32-Jt(r)-1;r&=~(1<<i),n+=1;var o=32-Jt(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Sn=1<<32-Jt(e)+i|n<<i|r,In=o+t}else Sn=1<<o|n<<i|r,In=t}function $f(t){t.return!==null&&(Mr(t,1),u0(t,1,0))}function Bf(t){for(;t===Il;)Il=Pi[--ki],Pi[ki]=null,xl=Pi[--ki],Pi[ki]=null;for(;t===Yr;)Yr=Lt[--Mt],Lt[Mt]=null,In=Lt[--Mt],Lt[Mt]=null,Sn=Lt[--Mt],Lt[Mt]=null}var Pt=null,At=null,Se=!1,Xt=null;function c0(t,e){var n=jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pt=t,At=ar(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pt=t,At=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:Sn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pt=t,At=null,!0):!1;default:return!1}}function wh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eh(t){if(Se){var e=At;if(e){var n=e;if(!Wm(t,e)){if(wh(t))throw Error($(418));e=ar(n.nextSibling);var r=Pt;e&&Wm(t,e)?c0(r,n):(t.flags=t.flags&-4097|2,Se=!1,Pt=t)}}else{if(wh(t))throw Error($(418));t.flags=t.flags&-4097|2,Se=!1,Pt=t}}}function Hm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pt=t}function ba(t){if(t!==Pt)return!1;if(!Se)return Hm(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gh(t.type,t.memoizedProps)),e&&(e=At)){if(wh(t))throw h0(),Error($(418));for(;e;)c0(t,e),e=ar(e.nextSibling)}if(Hm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){At=ar(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}At=null}}else At=Pt?ar(t.stateNode.nextSibling):null;return!0}function h0(){for(var t=At;t;)t=ar(t.nextSibling)}function qi(){At=Pt=null,Se=!1}function Uf(t){Xt===null?Xt=[t]:Xt.push(t)}var jC=Ln.ReactCurrentBatchConfig;function $o(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error($(284));if(!n._owner)throw Error($(290,t))}return t}function ja(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qm(t){var e=t._init;return e(t._payload)}function f0(t){function e(C,y){if(t){var T=C.deletions;T===null?(C.deletions=[y],C.flags|=16):T.push(y)}}function n(C,y){if(!t)return null;for(;y!==null;)e(C,y),y=y.sibling;return null}function r(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function i(C,y){return C=hr(C,y),C.index=0,C.sibling=null,C}function o(C,y,T){return C.index=T,t?(T=C.alternate,T!==null?(T=T.index,T<y?(C.flags|=2,y):T):(C.flags|=2,y)):(C.flags|=1048576,y)}function s(C){return t&&C.alternate===null&&(C.flags|=2),C}function l(C,y,T,D){return y===null||y.tag!==6?(y=Rc(T,C.mode,D),y.return=C,y):(y=i(y,T),y.return=C,y)}function u(C,y,T,D){var M=T.type;return M===Ci?f(C,y,T.props.children,D,T.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===qn&&qm(M)===y.type)?(D=i(y,T.props),D.ref=$o(C,y,T),D.return=C,D):(D=al(T.type,T.key,T.props,null,C.mode,D),D.ref=$o(C,y,T),D.return=C,D)}function c(C,y,T,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Ac(T,C.mode,D),y.return=C,y):(y=i(y,T.children||[]),y.return=C,y)}function f(C,y,T,D,M){return y===null||y.tag!==7?(y=Hr(T,C.mode,D,M),y.return=C,y):(y=i(y,T),y.return=C,y)}function p(C,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rc(""+y,C.mode,T),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ra:return T=al(y.type,y.key,y.props,null,C.mode,T),T.ref=$o(C,null,y),T.return=C,T;case Ti:return y=Ac(y,C.mode,T),y.return=C,y;case qn:var D=y._init;return p(C,D(y._payload),T)}if(qo(y)||Lo(y))return y=Hr(y,C.mode,T,null),y.return=C,y;ja(C,y)}return null}function m(C,y,T,D){var M=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:l(C,y,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ra:return T.key===M?u(C,y,T,D):null;case Ti:return T.key===M?c(C,y,T,D):null;case qn:return M=T._init,m(C,y,M(T._payload),D)}if(qo(T)||Lo(T))return M!==null?null:f(C,y,T,D,null);ja(C,T)}return null}function _(C,y,T,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(T)||null,l(y,C,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ra:return C=C.get(D.key===null?T:D.key)||null,u(y,C,D,M);case Ti:return C=C.get(D.key===null?T:D.key)||null,c(y,C,D,M);case qn:var L=D._init;return _(C,y,T,L(D._payload),M)}if(qo(D)||Lo(D))return C=C.get(T)||null,f(y,C,D,M,null);ja(y,D)}return null}function x(C,y,T,D){for(var M=null,L=null,w=y,g=y=0,S=null;w!==null&&g<T.length;g++){w.index>g?(S=w,w=null):S=w.sibling;var R=m(C,w,T[g],D);if(R===null){w===null&&(w=S);break}t&&w&&R.alternate===null&&e(C,w),y=o(R,y,g),L===null?M=R:L.sibling=R,L=R,w=S}if(g===T.length)return n(C,w),Se&&Mr(C,g),M;if(w===null){for(;g<T.length;g++)w=p(C,T[g],D),w!==null&&(y=o(w,y,g),L===null?M=w:L.sibling=w,L=w);return Se&&Mr(C,g),M}for(w=r(C,w);g<T.length;g++)S=_(w,C,g,T[g],D),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?g:S.key),y=o(S,y,g),L===null?M=S:L.sibling=S,L=S);return t&&w.forEach(function(A){return e(C,A)}),Se&&Mr(C,g),M}function k(C,y,T,D){var M=Lo(T);if(typeof M!="function")throw Error($(150));if(T=M.call(T),T==null)throw Error($(151));for(var L=M=null,w=y,g=y=0,S=null,R=T.next();w!==null&&!R.done;g++,R=T.next()){w.index>g?(S=w,w=null):S=w.sibling;var A=m(C,w,R.value,D);if(A===null){w===null&&(w=S);break}t&&w&&A.alternate===null&&e(C,w),y=o(A,y,g),L===null?M=A:L.sibling=A,L=A,w=S}if(R.done)return n(C,w),Se&&Mr(C,g),M;if(w===null){for(;!R.done;g++,R=T.next())R=p(C,R.value,D),R!==null&&(y=o(R,y,g),L===null?M=R:L.sibling=R,L=R);return Se&&Mr(C,g),M}for(w=r(C,w);!R.done;g++,R=T.next())R=_(w,C,g,R.value,D),R!==null&&(t&&R.alternate!==null&&w.delete(R.key===null?g:R.key),y=o(R,y,g),L===null?M=R:L.sibling=R,L=R);return t&&w.forEach(function(N){return e(C,N)}),Se&&Mr(C,g),M}function P(C,y,T,D){if(typeof T=="object"&&T!==null&&T.type===Ci&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Ra:e:{for(var M=T.key,L=y;L!==null;){if(L.key===M){if(M=T.type,M===Ci){if(L.tag===7){n(C,L.sibling),y=i(L,T.props.children),y.return=C,C=y;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===qn&&qm(M)===L.type){n(C,L.sibling),y=i(L,T.props),y.ref=$o(C,L,T),y.return=C,C=y;break e}n(C,L);break}else e(C,L);L=L.sibling}T.type===Ci?(y=Hr(T.props.children,C.mode,D,T.key),y.return=C,C=y):(D=al(T.type,T.key,T.props,null,C.mode,D),D.ref=$o(C,y,T),D.return=C,C=D)}return s(C);case Ti:e:{for(L=T.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(C,y.sibling),y=i(y,T.children||[]),y.return=C,C=y;break e}else{n(C,y);break}else e(C,y);y=y.sibling}y=Ac(T,C.mode,D),y.return=C,C=y}return s(C);case qn:return L=T._init,P(C,y,L(T._payload),D)}if(qo(T))return x(C,y,T,D);if(Lo(T))return k(C,y,T,D);ja(C,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(C,y.sibling),y=i(y,T),y.return=C,C=y):(n(C,y),y=Rc(T,C.mode,D),y.return=C,C=y),s(C)):n(C,y)}return P}var Ki=f0(!0),d0=f0(!1),Rl=xr(null),Al=null,Ni=null,zf=null;function Wf(){zf=Ni=Al=null}function Hf(t){var e=Rl.current;Ce(Rl),t._currentValue=e}function Th(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fi(t,e){Al=t,zf=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wt=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(zf!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(Al===null)throw Error($(308));Ni=t,Al.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var $r=null;function qf(t){$r===null?$r=[t]:$r.push(t)}function p0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qf(e)):(n.next=i.next,i.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Kn=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kn(t,n)}return i=r.interleaved,i===null?(e.next=e,qf(r)):(e.next=i.next,i.next=e),r.interleaved=e,kn(t,n)}function tl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}function Km(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pl(t,e,n,r){var i=t.updateQueue;Kn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=c=u=null,l=o;do{var m=l.lane,_=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,k=l;switch(m=e,_=n,k.tag){case 1:if(x=k.payload,typeof x=="function"){p=x.call(_,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=k.payload,m=typeof x=="function"?x.call(_,p,m):x,m==null)break e;p=Ae({},p,m);break e;case 2:Kn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else _={eventTime:_,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=_,u=p):f=f.next=_,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zr|=s,t.lanes=s,t.memoizedState=p}}function Qm(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($(191,i));i.call(r)}}}var Zs={},fn=xr(Zs),As=xr(Zs),Ps=xr(Zs);function Br(t){if(t===Zs)throw Error($(174));return t}function Qf(t,e){switch(_e(Ps,e),_e(As,t),_e(fn,Zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=nh(e,t)}Ce(fn),_e(fn,e)}function Qi(){Ce(fn),Ce(As),Ce(Ps)}function g0(t){Br(Ps.current);var e=Br(fn.current),n=nh(e,t.type);e!==n&&(_e(As,t),_e(fn,n))}function Gf(t){As.current===t&&(Ce(fn),Ce(As))}var Ie=xr(0);function kl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ec=[];function Xf(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var nl=Ln.ReactCurrentDispatcher,Tc=Ln.ReactCurrentBatchConfig,Jr=0,xe=null,$e=null,We=null,Nl=!1,ss=!1,ks=0,FC=0;function ot(){throw Error($(321))}function Yf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!en(t[n],e[n]))return!1;return!0}function Jf(t,e,n,r,i,o){if(Jr=o,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nl.current=t===null||t.memoizedState===null?zC:WC,t=n(r,i),ss){o=0;do{if(ss=!1,ks=0,25<=o)throw Error($(301));o+=1,We=$e=null,e.updateQueue=null,nl.current=HC,t=n(r,i)}while(ss)}if(nl.current=Dl,e=$e!==null&&$e.next!==null,Jr=0,We=$e=xe=null,Nl=!1,e)throw Error($(300));return t}function Zf(){var t=ks!==0;return ks=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?xe.memoizedState=We=t:We=We.next=t,We}function Bt(){if($e===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var e=We===null?xe.memoizedState:We.next;if(e!==null)We=e,$e=t;else{if(t===null)throw Error($(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},We===null?xe.memoizedState=We=t:We=We.next=t}return We}function Ns(t,e){return typeof e=="function"?e(t):e}function Cc(t){var e=Bt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=$e,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((Jr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,xe.lanes|=f,Zr|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,en(r,e.memoizedState)||(wt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,xe.lanes|=o,Zr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Sc(t){var e=Bt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);en(o,e.memoizedState)||(wt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function v0(){}function y0(t,e){var n=xe,r=Bt(),i=e(),o=!en(r.memoizedState,i);if(o&&(r.memoizedState=i,wt=!0),r=r.queue,ed(E0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Ds(9,w0.bind(null,n,r,i,e),void 0,null),He===null)throw Error($(349));Jr&30||_0(n,e,i)}return i}function _0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function w0(t,e,n,r){e.value=n,e.getSnapshot=r,T0(e)&&C0(t)}function E0(t,e,n){return n(function(){T0(e)&&C0(t)})}function T0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!en(t,n)}catch{return!0}}function C0(t){var e=kn(t,1);e!==null&&Zt(e,t,1,-1)}function Gm(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},e.queue=t,t=t.dispatch=UC.bind(null,xe,t),[e.memoizedState,t]}function Ds(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function S0(){return Bt().memoizedState}function rl(t,e,n,r){var i=ln();xe.flags|=t,i.memoizedState=Ds(1|e,n,void 0,r===void 0?null:r)}function lu(t,e,n,r){var i=Bt();r=r===void 0?null:r;var o=void 0;if($e!==null){var s=$e.memoizedState;if(o=s.destroy,r!==null&&Yf(r,s.deps)){i.memoizedState=Ds(e,n,o,r);return}}xe.flags|=t,i.memoizedState=Ds(1|e,n,o,r)}function Xm(t,e){return rl(8390656,8,t,e)}function ed(t,e){return lu(2048,8,t,e)}function I0(t,e){return lu(4,2,t,e)}function x0(t,e){return lu(4,4,t,e)}function R0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function A0(t,e,n){return n=n!=null?n.concat([t]):null,lu(4,4,R0.bind(null,e,t),n)}function td(){}function P0(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function k0(t,e){var n=Bt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function N0(t,e,n){return Jr&21?(en(n,e)||(n=My(),xe.lanes|=n,Zr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wt=!0),t.memoizedState=n)}function $C(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Tc.transition;Tc.transition={};try{t(!1),e()}finally{pe=n,Tc.transition=r}}function D0(){return Bt().memoizedState}function BC(t,e,n){var r=cr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},O0(t))V0(e,n);else if(n=p0(t,e,n,r),n!==null){var i=mt();Zt(n,t,r,i),L0(n,e,r)}}function UC(t,e,n){var r=cr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(O0(t))V0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,en(l,s)){var u=e.interleaved;u===null?(i.next=i,qf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=p0(t,e,i,r),n!==null&&(i=mt(),Zt(n,t,r,i),L0(n,e,r))}}function O0(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function V0(t,e){ss=Nl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function L0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Df(t,n)}}var Dl={readContext:$t,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},zC={readContext:$t,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:Xm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rl(4194308,4,R0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rl(4194308,4,t,e)},useInsertionEffect:function(t,e){return rl(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BC.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:Gm,useDebugValue:td,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=Gm(!1),e=t[0];return t=$C.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=ln();if(Se){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),He===null)throw Error($(349));Jr&30||_0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Xm(E0.bind(null,r,o,t),[t]),r.flags|=2048,Ds(9,w0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ln(),e=He.identifierPrefix;if(Se){var n=In,r=Sn;n=(r&~(1<<32-Jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ks++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=FC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WC={readContext:$t,useCallback:P0,useContext:$t,useEffect:ed,useImperativeHandle:A0,useInsertionEffect:I0,useLayoutEffect:x0,useMemo:k0,useReducer:Cc,useRef:S0,useState:function(){return Cc(Ns)},useDebugValue:td,useDeferredValue:function(t){var e=Bt();return N0(e,$e.memoizedState,t)},useTransition:function(){var t=Cc(Ns)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:v0,useSyncExternalStore:y0,useId:D0,unstable_isNewReconciler:!1},HC={readContext:$t,useCallback:P0,useContext:$t,useEffect:ed,useImperativeHandle:A0,useInsertionEffect:I0,useLayoutEffect:x0,useMemo:k0,useReducer:Sc,useRef:S0,useState:function(){return Sc(Ns)},useDebugValue:td,useDeferredValue:function(t){var e=Bt();return $e===null?e.memoizedState=t:N0(e,$e.memoizedState,t)},useTransition:function(){var t=Sc(Ns)[0],e=Bt().memoizedState;return[t,e]},useMutableSource:v0,useSyncExternalStore:y0,useId:D0,unstable_isNewReconciler:!1};function Qt(t,e){if(t&&t.defaultProps){e=Ae({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ch(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ae({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uu={isMounted:function(t){return(t=t._reactInternals)?oi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=cr(t),o=xn(r,i);o.payload=e,n!=null&&(o.callback=n),e=lr(t,o,i),e!==null&&(Zt(e,t,i,r),tl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=cr(t),o=xn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=lr(t,o,i),e!==null&&(Zt(e,t,i,r),tl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=cr(t),i=xn(n,r);i.tag=2,e!=null&&(i.callback=e),e=lr(t,i,r),e!==null&&(Zt(e,t,r,n),tl(e,t,r))}};function Ym(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ss(n,r)||!Ss(i,o):!0}function M0(t,e,n){var r=!1,i=yr,o=e.contextType;return typeof o=="object"&&o!==null?o=$t(o):(i=Tt(e)?Xr:ft.current,r=e.contextTypes,o=(r=r!=null)?Hi(t,i):yr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uu.enqueueReplaceState(e,e.state,null)}function Sh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Kf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$t(o):(o=Tt(e)?Xr:ft.current,i.context=Hi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ch(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uu.enqueueReplaceState(i,i.state,null),Pl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gi(t,e){try{var n="",r=e;do n+=_T(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ic(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ih(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qC=typeof WeakMap=="function"?WeakMap:Map;function b0(t,e,n){n=xn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Vl||(Vl=!0,Lh=r),Ih(t,e)},n}function j0(t,e,n){n=xn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Ih(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ih(t,e),typeof r!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Zm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sS.bind(null,t,e,n),e.then(t,t))}function eg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xn(-1,1),e.tag=2,lr(n,e,1))),n.lanes|=1),t)}var KC=Ln.ReactCurrentOwner,wt=!1;function pt(t,e,n,r){e.child=t===null?d0(e,null,n,r):Ki(e,t.child,n,r)}function ng(t,e,n,r,i){n=n.render;var o=e.ref;return Fi(e,i),r=Jf(t,e,n,r,o,i),n=Zf(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nn(t,e,i)):(Se&&n&&$f(e),e.flags|=1,pt(t,e,r,i),e.child)}function rg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ud(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,F0(t,e,o,r,i)):(t=al(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(s,r)&&t.ref===e.ref)return Nn(t,e,i)}return e.flags|=1,t=hr(o,r),t.ref=e.ref,t.return=e,e.child=t}function F0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ss(o,r)&&t.ref===e.ref)if(wt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(wt=!0);else return e.lanes=t.lanes,Nn(t,e,i)}return xh(t,e,n,r,i)}function $0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Oi,Rt),Rt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Oi,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Oi,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(Oi,Rt),Rt|=r;return pt(t,e,i,n),e.child}function B0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xh(t,e,n,r,i){var o=Tt(n)?Xr:ft.current;return o=Hi(e,o),Fi(e,i),n=Jf(t,e,n,r,o,i),r=Zf(),t!==null&&!wt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Nn(t,e,i)):(Se&&r&&$f(e),e.flags|=1,pt(t,e,n,i),e.child)}function ig(t,e,n,r,i){if(Tt(n)){var o=!0;Sl(e)}else o=!1;if(Fi(e,i),e.stateNode===null)il(t,e),M0(e,n,r),Sh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=$t(c):(c=Tt(n)?Xr:ft.current,c=Hi(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Jm(e,s,r,c),Kn=!1;var m=e.memoizedState;s.state=m,Pl(e,r,s,i),u=e.memoizedState,l!==r||m!==u||Et.current||Kn?(typeof f=="function"&&(Ch(e,n,f,r),u=e.memoizedState),(l=Kn||Ym(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,m0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Qt(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=Tt(n)?Xr:ft.current,u=Hi(e,u));var _=n.getDerivedStateFromProps;(f=typeof _=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Jm(e,s,r,u),Kn=!1,m=e.memoizedState,s.state=m,Pl(e,r,s,i);var x=e.memoizedState;l!==p||m!==x||Et.current||Kn?(typeof _=="function"&&(Ch(e,n,_,r),x=e.memoizedState),(c=Kn||Ym(e,n,c,r,m,x,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Rh(t,e,n,r,o,i)}function Rh(t,e,n,r,i,o){B0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&zm(e,n,!1),Nn(t,e,o);r=e.stateNode,KC.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ki(e,t.child,null,o),e.child=Ki(e,null,l,o)):pt(t,e,l,o),e.memoizedState=r.state,i&&zm(e,n,!0),e.child}function U0(t){var e=t.stateNode;e.pendingContext?Um(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Um(t,e.context,!1),Qf(t,e.containerInfo)}function og(t,e,n,r,i){return qi(),Uf(i),e.flags|=256,pt(t,e,n,r),e.child}var Ah={dehydrated:null,treeContext:null,retryLane:0};function Ph(t){return{baseLanes:t,cachePool:null,transitions:null}}function z0(t,e,n){var r=e.pendingProps,i=Ie.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Ie,i&1),t===null)return Eh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fu(s,r,0,null),t=Hr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Ph(n),e.memoizedState=Ah,t):nd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return QC(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=hr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=hr(l,o):(o=Hr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Ph(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ah,r}return o=t.child,t=o.sibling,r=hr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nd(t,e){return e=fu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fa(t,e,n,r){return r!==null&&Uf(r),Ki(e,t.child,null,n),t=nd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QC(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ic(Error($(422))),Fa(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fu({mode:"visible",children:r.children},i,0,null),o=Hr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ki(e,t.child,null,s),e.child.memoizedState=Ph(s),e.memoizedState=Ah,o);if(!(e.mode&1))return Fa(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error($(419)),r=Ic(o,r,void 0),Fa(t,e,s,r)}if(l=(s&t.childLanes)!==0,wt||l){if(r=He,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kn(t,i),Zt(r,t,i,-1))}return ld(),r=Ic(Error($(421))),Fa(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=aS.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,At=ar(i.nextSibling),Pt=e,Se=!0,Xt=null,t!==null&&(Lt[Mt++]=Sn,Lt[Mt++]=In,Lt[Mt++]=Yr,Sn=t.id,In=t.overflow,Yr=e),e=nd(e,r.children),e.flags|=4096,e)}function sg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Th(t.return,e,n)}function xc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function W0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(pt(t,e,r.children,n),r=Ie.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,n,e);else if(t.tag===19)sg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Ie,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&kl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&kl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xc(e,!0,n,null,o);break;case"together":xc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function il(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Nn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=hr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function GC(t,e,n){switch(e.tag){case 3:U0(e),qi();break;case 5:g0(e);break;case 1:Tt(e.type)&&Sl(e);break;case 4:Qf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(Rl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Ie,Ie.current&1),e.flags|=128,null):n&e.child.childLanes?z0(t,e,n):(_e(Ie,Ie.current&1),t=Nn(t,e,n),t!==null?t.sibling:null);_e(Ie,Ie.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return W0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Ie,Ie.current),r)break;return null;case 22:case 23:return e.lanes=0,$0(t,e,n)}return Nn(t,e,n)}var H0,kh,q0,K0;H0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kh=function(){};q0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Br(fn.current);var o=null;switch(n){case"input":i=Jc(t,i),r=Jc(t,r),o=[];break;case"select":i=Ae({},i,{value:void 0}),r=Ae({},r,{value:void 0}),o=[];break;case"textarea":i=th(t,i),r=th(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tl)}rh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ee("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};K0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Bo(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XC(t,e,n){var r=e.pendingProps;switch(Bf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Tt(e.type)&&Cl(),st(e),null;case 3:return r=e.stateNode,Qi(),Ce(Et),Ce(ft),Xf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ba(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xt!==null&&(jh(Xt),Xt=null))),kh(t,e),st(e),null;case 5:Gf(e);var i=Br(Ps.current);if(n=e.type,t!==null&&e.stateNode!=null)q0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($(166));return st(e),null}if(t=Br(fn.current),ba(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[un]=e,r[Rs]=o,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Qo.length;i++)Ee(Qo[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":mm(r,o),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ee("invalid",r);break;case"textarea":vm(r,o),Ee("invalid",r)}rh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ma(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ma(r.textContent,l,t),i=["children",""+l]):vs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Aa(r),gm(r,o,!0);break;case"textarea":Aa(r),ym(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Tl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ey(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[un]=e,t[Rs]=r,H0(t,e,!1,!1),e.stateNode=t;e:{switch(s=ih(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qo.length;i++)Ee(Qo[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":mm(t,r),i=Jc(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ae({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":vm(t,r),i=th(t,r),Ee("invalid",t);break;default:i=r}rh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?Sy(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ty(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ys(t,u):typeof u=="number"&&ys(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ee("scroll",t):u!=null&&xf(t,o,u,s))}switch(n){case"input":Aa(t),gm(t,r,!1);break;case"textarea":Aa(t),ym(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Li(t,!!r.multiple,o,!1):r.defaultValue!=null&&Li(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)K0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(n=Br(Ps.current),Br(fn.current),ba(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(o=r.nodeValue!==n)&&(t=Pt,t!==null))switch(t.tag){case 3:Ma(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ma(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return st(e),null;case 13:if(Ce(Ie),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&At!==null&&e.mode&1&&!(e.flags&128))h0(),qi(),e.flags|=98560,o=!1;else if(o=ba(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error($(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error($(317));o[un]=e}else qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),o=!1}else Xt!==null&&(jh(Xt),Xt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ie.current&1?Be===0&&(Be=3):ld())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return Qi(),kh(t,e),t===null&&Is(e.stateNode.containerInfo),st(e),null;case 10:return Hf(e.type._context),st(e),null;case 17:return Tt(e.type)&&Cl(),st(e),null;case 19:if(Ce(Ie),o=e.memoizedState,o===null)return st(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Bo(o,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=kl(t),s!==null){for(e.flags|=128,Bo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Ie,Ie.current&1|2),e.child}t=t.sibling}o.tail!==null&&De()>Xi&&(e.flags|=128,r=!0,Bo(o,!1),e.lanes=4194304)}else{if(!r)if(t=kl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Se)return st(e),null}else 2*De()-o.renderingStartTime>Xi&&n!==1073741824&&(e.flags|=128,r=!0,Bo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=De(),e.sibling=null,n=Ie.current,_e(Ie,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return ad(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function YC(t,e){switch(Bf(e),e.tag){case 1:return Tt(e.type)&&Cl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(),Ce(Et),Ce(ft),Xf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gf(e),null;case 13:if(Ce(Ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Ie),null;case 4:return Qi(),null;case 10:return Hf(e.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var $a=!1,ut=!1,JC=typeof WeakSet=="function"?WeakSet:Set,W=null;function Di(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Nh(t,e,n){try{n()}catch(r){ke(t,e,r)}}var ag=!1;function ZC(t,e){if(ph=_l,t=Jy(),Ff(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var _;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(_=p.firstChild)!==null;)m=p,p=_;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++f===r&&(u=s),(_=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(mh={focusedElem:t,selectionRange:n},_l=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var k=x.memoizedProps,P=x.memoizedState,C=e.stateNode,y=C.getSnapshotBeforeUpdate(e.elementType===e.type?k:Qt(e.type,k),P);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(D){ke(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return x=ag,ag=!1,x}function as(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Nh(e,n,o)}i=i.next}while(i!==r)}}function cu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Q0(t){var e=t.alternate;e!==null&&(t.alternate=null,Q0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[Rs],delete e[yh],delete e[LC],delete e[MC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function G0(t){return t.tag===5||t.tag===3||t.tag===4}function lg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Oh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tl));else if(r!==4&&(t=t.child,t!==null))for(Oh(t,e,n),t=t.sibling;t!==null;)Oh(t,e,n),t=t.sibling}function Vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vh(t,e,n),t=t.sibling;t!==null;)Vh(t,e,n),t=t.sibling}var Xe=null,Gt=!1;function Wn(t,e,n){for(n=n.child;n!==null;)X0(t,e,n),n=n.sibling}function X0(t,e,n){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(nu,n)}catch{}switch(n.tag){case 5:ut||Di(n,e);case 6:var r=Xe,i=Gt;Xe=null,Wn(t,e,n),Xe=r,Gt=i,Xe!==null&&(Gt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Gt?(t=Xe,n=n.stateNode,t.nodeType===8?_c(t.parentNode,n):t.nodeType===1&&_c(t,n),Ts(t)):_c(Xe,n.stateNode));break;case 4:r=Xe,i=Gt,Xe=n.stateNode.containerInfo,Gt=!0,Wn(t,e,n),Xe=r,Gt=i;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Nh(n,e,s),i=i.next}while(i!==r)}Wn(t,e,n);break;case 1:if(!ut&&(Di(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,e,l)}Wn(t,e,n);break;case 21:Wn(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,Wn(t,e,n),ut=r):Wn(t,e,n);break;default:Wn(t,e,n)}}function ug(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JC),e.forEach(function(r){var i=lS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Gt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Gt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Gt=!0;break e}l=l.return}if(Xe===null)throw Error($(160));X0(o,s,i),Xe=null,Gt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Y0(e,t),e=e.sibling}function Y0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kt(e,t),an(t),r&4){try{as(3,t,t.return),cu(3,t)}catch(k){ke(t,t.return,k)}try{as(5,t,t.return)}catch(k){ke(t,t.return,k)}}break;case 1:Kt(e,t),an(t),r&512&&n!==null&&Di(n,n.return);break;case 5:if(Kt(e,t),an(t),r&512&&n!==null&&Di(n,n.return),t.flags&32){var i=t.stateNode;try{ys(i,"")}catch(k){ke(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&_y(i,o),ih(l,s);var c=ih(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?Sy(i,p):f==="dangerouslySetInnerHTML"?Ty(i,p):f==="children"?ys(i,p):xf(i,f,p,c)}switch(l){case"input":Zc(i,o);break;case"textarea":wy(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var _=o.value;_!=null?Li(i,!!o.multiple,_,!1):m!==!!o.multiple&&(o.defaultValue!=null?Li(i,!!o.multiple,o.defaultValue,!0):Li(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rs]=o}catch(k){ke(t,t.return,k)}}break;case 6:if(Kt(e,t),an(t),r&4){if(t.stateNode===null)throw Error($(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(k){ke(t,t.return,k)}}break;case 3:if(Kt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(k){ke(t,t.return,k)}break;case 4:Kt(e,t),an(t);break;case 13:Kt(e,t),an(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(od=De())),r&4&&ug(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(c=ut)||f,Kt(e,t),ut=c):Kt(e,t),an(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(m=W,_=m.child,m.tag){case 0:case 11:case 14:case 15:as(4,m,m.return);break;case 1:Di(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(k){ke(r,n,k)}}break;case 5:Di(m,m.return);break;case 22:if(m.memoizedState!==null){hg(p);continue}}_!==null?(_.return=m,W=_):hg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Cy("display",s))}catch(k){ke(t,t.return,k)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(k){ke(t,t.return,k)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Kt(e,t),an(t),r&4&&ug(t);break;case 21:break;default:Kt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(G0(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ys(i,""),r.flags&=-33);var o=lg(t);Vh(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=lg(t);Oh(t,l,s);break;default:throw Error($(161))}}catch(u){ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eS(t,e,n){W=t,J0(t)}function J0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||$a;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ut;l=$a;var c=ut;if($a=s,(ut=u)&&!c)for(W=i;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?fg(i):u!==null?(u.return=s,W=u):fg(i);for(;o!==null;)W=o,J0(o),o=o.sibling;W=i,$a=l,ut=c}cg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):cg(t)}}function cg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||cu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Qm(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qm(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ts(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}ut||e.flags&512&&Dh(e)}catch(m){ke(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function hg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function fg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cu(4,e)}catch(u){ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ke(e,i,u)}}var o=e.return;try{Dh(e)}catch(u){ke(e,o,u)}break;case 5:var s=e.return;try{Dh(e)}catch(u){ke(e,s,u)}}}catch(u){ke(e,e.return,u)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var tS=Math.ceil,Ol=Ln.ReactCurrentDispatcher,rd=Ln.ReactCurrentOwner,Ft=Ln.ReactCurrentBatchConfig,ce=0,He=null,Me=null,Ze=0,Rt=0,Oi=xr(0),Be=0,Os=null,Zr=0,hu=0,id=0,ls=null,_t=null,od=0,Xi=1/0,wn=null,Vl=!1,Lh=null,ur=null,Ba=!1,Zn=null,Ll=0,us=0,Mh=null,ol=-1,sl=0;function mt(){return ce&6?De():ol!==-1?ol:ol=De()}function cr(t){return t.mode&1?ce&2&&Ze!==0?Ze&-Ze:jC.transition!==null?(sl===0&&(sl=My()),sl):(t=pe,t!==0||(t=window.event,t=t===void 0?16:zy(t.type)),t):1}function Zt(t,e,n,r){if(50<us)throw us=0,Mh=null,Error($(185));Xs(t,n,r),(!(ce&2)||t!==He)&&(t===He&&(!(ce&2)&&(hu|=n),Be===4&&Xn(t,Ze)),Ct(t,r),n===1&&ce===0&&!(e.mode&1)&&(Xi=De()+500,au&&Rr()))}function Ct(t,e){var n=t.callbackNode;jT(t,e);var r=yl(t,t===He?Ze:0);if(r===0)n!==null&&Em(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Em(n),e===1)t.tag===0?bC(dg.bind(null,t)):l0(dg.bind(null,t)),OC(function(){!(ce&6)&&Rr()}),n=null;else{switch(by(r)){case 1:n=Nf;break;case 4:n=Vy;break;case 16:n=vl;break;case 536870912:n=Ly;break;default:n=vl}n=s_(n,Z0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Z0(t,e){if(ol=-1,sl=0,ce&6)throw Error($(327));var n=t.callbackNode;if($i()&&t.callbackNode!==n)return null;var r=yl(t,t===He?Ze:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ml(t,r);else{e=r;var i=ce;ce|=2;var o=t_();(He!==t||Ze!==e)&&(wn=null,Xi=De()+500,Wr(t,e));do try{iS();break}catch(l){e_(t,l)}while(!0);Wf(),Ol.current=o,ce=i,Me!==null?e=0:(He=null,Ze=0,e=Be)}if(e!==0){if(e===2&&(i=uh(t),i!==0&&(r=i,e=bh(t,i))),e===1)throw n=Os,Wr(t,0),Xn(t,r),Ct(t,De()),n;if(e===6)Xn(t,r);else{if(i=t.current.alternate,!(r&30)&&!nS(i)&&(e=Ml(t,r),e===2&&(o=uh(t),o!==0&&(r=o,e=bh(t,o))),e===1))throw n=Os,Wr(t,0),Xn(t,r),Ct(t,De()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($(345));case 2:br(t,_t,wn);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=od+500-De(),10<e)){if(yl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vh(br.bind(null,t,_t,wn),e);break}br(t,_t,wn);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Jt(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tS(r/1960))-r,10<r){t.timeoutHandle=vh(br.bind(null,t,_t,wn),r);break}br(t,_t,wn);break;case 5:br(t,_t,wn);break;default:throw Error($(329))}}}return Ct(t,De()),t.callbackNode===n?Z0.bind(null,t):null}function bh(t,e){var n=ls;return t.current.memoizedState.isDehydrated&&(Wr(t,e).flags|=256),t=Ml(t,e),t!==2&&(e=_t,_t=n,e!==null&&jh(e)),t}function jh(t){_t===null?_t=t:_t.push.apply(_t,t)}function nS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!en(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~id,e&=~hu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jt(e),r=1<<n;t[n]=-1,e&=~r}}function dg(t){if(ce&6)throw Error($(327));$i();var e=yl(t,0);if(!(e&1))return Ct(t,De()),null;var n=Ml(t,e);if(t.tag!==0&&n===2){var r=uh(t);r!==0&&(e=r,n=bh(t,r))}if(n===1)throw n=Os,Wr(t,0),Xn(t,e),Ct(t,De()),n;if(n===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,br(t,_t,wn),Ct(t,De()),null}function sd(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(Xi=De()+500,au&&Rr())}}function ei(t){Zn!==null&&Zn.tag===0&&!(ce&6)&&$i();var e=ce;ce|=1;var n=Ft.transition,r=pe;try{if(Ft.transition=null,pe=1,t)return t()}finally{pe=r,Ft.transition=n,ce=e,!(ce&6)&&Rr()}}function ad(){Rt=Oi.current,Ce(Oi)}function Wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DC(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(Bf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cl();break;case 3:Qi(),Ce(Et),Ce(ft),Xf();break;case 5:Gf(r);break;case 4:Qi();break;case 13:Ce(Ie);break;case 19:Ce(Ie);break;case 10:Hf(r.type._context);break;case 22:case 23:ad()}n=n.return}if(He=t,Me=t=hr(t.current,null),Ze=Rt=e,Be=0,Os=null,id=hu=Zr=0,_t=ls=null,$r!==null){for(e=0;e<$r.length;e++)if(n=$r[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$r=null}return t}function e_(t,e){do{var n=Me;try{if(Wf(),nl.current=Dl,Nl){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nl=!1}if(Jr=0,We=$e=xe=null,ss=!1,ks=0,rd.current=null,n===null||n.return===null){Be=1,Os=e,Me=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Ze,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var _=eg(s);if(_!==null){_.flags&=-257,tg(_,s,l,o,e),_.mode&1&&Zm(o,c,e),e=_,u=c;var x=e.updateQueue;if(x===null){var k=new Set;k.add(u),e.updateQueue=k}else x.add(u);break e}else{if(!(e&1)){Zm(o,c,e),ld();break e}u=Error($(426))}}else if(Se&&l.mode&1){var P=eg(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),tg(P,s,l,o,e),Uf(Gi(u,l));break e}}o=u=Gi(u,l),Be!==4&&(Be=2),ls===null?ls=[o]:ls.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var C=b0(o,u,e);Km(o,C);break e;case 1:l=u;var y=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ur===null||!ur.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=j0(o,l,e);Km(o,D);break e}}o=o.return}while(o!==null)}r_(n)}catch(M){e=M,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function t_(){var t=Ol.current;return Ol.current=Dl,t===null?Dl:t}function ld(){(Be===0||Be===3||Be===2)&&(Be=4),He===null||!(Zr&268435455)&&!(hu&268435455)||Xn(He,Ze)}function Ml(t,e){var n=ce;ce|=2;var r=t_();(He!==t||Ze!==e)&&(wn=null,Wr(t,e));do try{rS();break}catch(i){e_(t,i)}while(!0);if(Wf(),ce=n,Ol.current=r,Me!==null)throw Error($(261));return He=null,Ze=0,Be}function rS(){for(;Me!==null;)n_(Me)}function iS(){for(;Me!==null&&!PT();)n_(Me)}function n_(t){var e=o_(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?r_(t):Me=e,rd.current=null}function r_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YC(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,Me=null;return}}else if(n=XC(n,e,Rt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Be===0&&(Be=5)}function br(t,e,n){var r=pe,i=Ft.transition;try{Ft.transition=null,pe=1,oS(t,e,n,r)}finally{Ft.transition=i,pe=r}return null}function oS(t,e,n,r){do $i();while(Zn!==null);if(ce&6)throw Error($(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(FT(t,o),t===He&&(Me=He=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ba||(Ba=!0,s_(vl,function(){return $i(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var s=pe;pe=1;var l=ce;ce|=4,rd.current=null,ZC(t,n),Y0(n,t),IC(mh),_l=!!ph,mh=ph=null,t.current=n,eS(n),kT(),ce=l,pe=s,Ft.transition=o}else t.current=n;if(Ba&&(Ba=!1,Zn=t,Ll=i),o=t.pendingLanes,o===0&&(ur=null),OT(n.stateNode),Ct(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,t=Lh,Lh=null,t;return Ll&1&&t.tag!==0&&$i(),o=t.pendingLanes,o&1?t===Mh?us++:(us=0,Mh=t):us=0,Rr(),null}function $i(){if(Zn!==null){var t=by(Ll),e=Ft.transition,n=pe;try{if(Ft.transition=null,pe=16>t?16:t,Zn===null)var r=!1;else{if(t=Zn,Zn=null,Ll=0,ce&6)throw Error($(331));var i=ce;for(ce|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:as(8,f,o)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var m=f.sibling,_=f.return;if(Q0(f),f===c){W=null;break}if(m!==null){m.return=_,W=m;break}W=_}}}var x=o.alternate;if(x!==null){var k=x.child;if(k!==null){x.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:as(9,o,o.return)}var C=o.sibling;if(C!==null){C.return=o.return,W=C;break e}W=o.return}}var y=t.current;for(W=y;W!==null;){s=W;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,W=T;else e:for(s=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:cu(9,l)}}catch(M){ke(l,l.return,M)}if(l===s){W=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,W=D;break e}W=l.return}}if(ce=i,Rr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(nu,t)}catch{}r=!0}return r}finally{pe=n,Ft.transition=e}}return!1}function pg(t,e,n){e=Gi(n,e),e=b0(t,e,1),t=lr(t,e,1),e=mt(),t!==null&&(Xs(t,1,e),Ct(t,e))}function ke(t,e,n){if(t.tag===3)pg(t,t,n);else for(;e!==null;){if(e.tag===3){pg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ur===null||!ur.has(r))){t=Gi(n,t),t=j0(e,t,1),e=lr(e,t,1),t=mt(),e!==null&&(Xs(e,1,t),Ct(e,t));break}}e=e.return}}function sS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Ze&n)===n&&(Be===4||Be===3&&(Ze&130023424)===Ze&&500>De()-od?Wr(t,0):id|=n),Ct(t,e)}function i_(t,e){e===0&&(t.mode&1?(e=Na,Na<<=1,!(Na&130023424)&&(Na=4194304)):e=1);var n=mt();t=kn(t,e),t!==null&&(Xs(t,e,n),Ct(t,n))}function aS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),i_(t,n)}function lS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(e),i_(t,n)}var o_;o_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Et.current)wt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wt=!1,GC(t,e,n);wt=!!(t.flags&131072)}else wt=!1,Se&&e.flags&1048576&&u0(e,xl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;il(t,e),t=e.pendingProps;var i=Hi(e,ft.current);Fi(e,n),i=Jf(null,e,r,t,i,n);var o=Zf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(o=!0,Sl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Kf(e),i.updater=uu,e.stateNode=i,i._reactInternals=e,Sh(e,r,t,n),e=Rh(null,e,r,!0,o,n)):(e.tag=0,Se&&o&&$f(e),pt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(il(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=cS(r),t=Qt(r,t),i){case 0:e=xh(null,e,r,t,n);break e;case 1:e=ig(null,e,r,t,n);break e;case 11:e=ng(null,e,r,t,n);break e;case 14:e=rg(null,e,r,Qt(r.type,t),n);break e}throw Error($(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),xh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),ig(t,e,r,i,n);case 3:e:{if(U0(e),t===null)throw Error($(387));r=e.pendingProps,o=e.memoizedState,i=o.element,m0(t,e),Pl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Gi(Error($(423)),e),e=og(t,e,r,n,i);break e}else if(r!==i){i=Gi(Error($(424)),e),e=og(t,e,r,n,i);break e}else for(At=ar(e.stateNode.containerInfo.firstChild),Pt=e,Se=!0,Xt=null,n=d0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qi(),r===i){e=Nn(t,e,n);break e}pt(t,e,r,n)}e=e.child}return e;case 5:return g0(e),t===null&&Eh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,gh(r,i)?s=null:o!==null&&gh(r,o)&&(e.flags|=32),B0(t,e),pt(t,e,s,n),e.child;case 6:return t===null&&Eh(e),null;case 13:return z0(t,e,n);case 4:return Qf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ki(e,null,r,n):pt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),ng(t,e,r,i,n);case 7:return pt(t,e,e.pendingProps,n),e.child;case 8:return pt(t,e,e.pendingProps.children,n),e.child;case 12:return pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,_e(Rl,r._currentValue),r._currentValue=s,o!==null)if(en(o.value,s)){if(o.children===i.children&&!Et.current){e=Nn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=xn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Th(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error($(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Th(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}pt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fi(e,n),i=$t(i),r=r(i),e.flags|=1,pt(t,e,r,n),e.child;case 14:return r=e.type,i=Qt(r,e.pendingProps),i=Qt(r.type,i),rg(t,e,r,i,n);case 15:return F0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qt(r,i),il(t,e),e.tag=1,Tt(r)?(t=!0,Sl(e)):t=!1,Fi(e,n),M0(e,r,i),Sh(e,r,i,n),Rh(null,e,r,!0,t,n);case 19:return W0(t,e,n);case 22:return $0(t,e,n)}throw Error($(156,e.tag))};function s_(t,e){return Oy(t,e)}function uS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jt(t,e,n,r){return new uS(t,e,n,r)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cS(t){if(typeof t=="function")return ud(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Af)return 11;if(t===Pf)return 14}return 2}function hr(t,e){var n=t.alternate;return n===null?(n=jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function al(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ud(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ci:return Hr(n.children,i,o,e);case Rf:s=8,i|=8;break;case Qc:return t=jt(12,n,e,i|2),t.elementType=Qc,t.lanes=o,t;case Gc:return t=jt(13,n,e,i),t.elementType=Gc,t.lanes=o,t;case Xc:return t=jt(19,n,e,i),t.elementType=Xc,t.lanes=o,t;case gy:return fu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case py:s=10;break e;case my:s=9;break e;case Af:s=11;break e;case Pf:s=14;break e;case qn:s=16,r=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=jt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hr(t,e,n,r){return t=jt(7,t,r,e),t.lanes=n,t}function fu(t,e,n,r){return t=jt(22,t,r,e),t.elementType=gy,t.lanes=n,t.stateNode={isHidden:!1},t}function Rc(t,e,n){return t=jt(6,t,null,e),t.lanes=n,t}function Ac(t,e,n){return e=jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lc(0),this.expirationTimes=lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cd(t,e,n,r,i,o,s,l,u){return t=new hS(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(o),t}function fS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ti,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function a_(t){if(!t)return yr;t=t._reactInternals;e:{if(oi(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var n=t.type;if(Tt(n))return a0(t,n,e)}return e}function l_(t,e,n,r,i,o,s,l,u){return t=cd(n,r,!0,t,i,o,s,l,u),t.context=a_(null),n=t.current,r=mt(),i=cr(n),o=xn(r,i),o.callback=e??null,lr(n,o,i),t.current.lanes=i,Xs(t,i,r),Ct(t,r),t}function du(t,e,n,r){var i=e.current,o=mt(),s=cr(i);return n=a_(n),e.context===null?e.context=n:e.pendingContext=n,e=xn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lr(i,e,s),t!==null&&(Zt(t,i,s,o),tl(t,i,s)),s}function bl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hd(t,e){mg(t,e),(t=t.alternate)&&mg(t,e)}function dS(){return null}var u_=typeof reportError=="function"?reportError:function(t){console.error(t)};function fd(t){this._internalRoot=t}pu.prototype.render=fd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));du(t,e,null,null)};pu.prototype.unmount=fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ei(function(){du(null,t,null,null)}),e[Pn]=null}};function pu(t){this._internalRoot=t}pu.prototype.unstable_scheduleHydration=function(t){if(t){var e=$y();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gn.length&&e!==0&&e<Gn[n].priority;n++);Gn.splice(n,0,t),n===0&&Uy(t)}};function dd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gg(){}function pS(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=bl(s);o.call(c)}}var s=l_(e,r,t,0,null,!1,!1,"",gg);return t._reactRootContainer=s,t[Pn]=s.current,Is(t.nodeType===8?t.parentNode:t),ei(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=bl(u);l.call(c)}}var u=cd(t,0,!1,null,null,!1,!1,"",gg);return t._reactRootContainer=u,t[Pn]=u.current,Is(t.nodeType===8?t.parentNode:t),ei(function(){du(e,u,n,r)}),u}function gu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=bl(s);l.call(u)}}du(e,s,t,i)}else s=pS(n,e,t,i,r);return bl(s)}jy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ko(e.pendingLanes);n!==0&&(Df(e,n|1),Ct(e,De()),!(ce&6)&&(Xi=De()+500,Rr()))}break;case 13:ei(function(){var r=kn(t,1);if(r!==null){var i=mt();Zt(r,t,1,i)}}),hd(t,1)}};Of=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=mt();Zt(e,t,134217728,n)}hd(t,134217728)}};Fy=function(t){if(t.tag===13){var e=cr(t),n=kn(t,e);if(n!==null){var r=mt();Zt(n,t,e,r)}hd(t,e)}};$y=function(){return pe};By=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};sh=function(t,e,n){switch(e){case"input":if(Zc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=su(r);if(!i)throw Error($(90));yy(r),Zc(r,i)}}}break;case"textarea":wy(t,n);break;case"select":e=n.value,e!=null&&Li(t,!!n.multiple,e,!1)}};Ry=sd;Ay=ei;var mS={usingClientEntryPoint:!1,Events:[Js,Ri,su,Iy,xy,sd]},Uo={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gS={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ny(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||dS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{nu=Ua.inject(gS),hn=Ua}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mS;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dd(e))throw Error($(200));return fS(t,e,null,n)};Ot.createRoot=function(t,e){if(!dd(t))throw Error($(299));var n=!1,r="",i=u_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cd(t,1,!1,null,null,n,!1,r,i),t[Pn]=e.current,Is(t.nodeType===8?t.parentNode:t),new fd(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=Ny(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return ei(t)};Ot.hydrate=function(t,e,n){if(!mu(e))throw Error($(200));return gu(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!dd(t))throw Error($(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=u_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=l_(e,null,t,1,n??null,i,!1,o,s),t[Pn]=e.current,Is(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pu(e)};Ot.render=function(t,e,n){if(!mu(e))throw Error($(200));return gu(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!mu(t))throw Error($(40));return t._reactRootContainer?(ei(function(){gu(null,null,t,!1,function(){t._reactRootContainer=null,t[Pn]=null})}),!0):!1};Ot.unstable_batchedUpdates=sd;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mu(n))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return gu(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function c_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c_)}catch(t){console.error(t)}}c_(),cy.exports=Ot;var h_=cy.exports;const Vi=Qs(h_);var f_,vg=h_;f_=vg.createRoot,vg.hydrateRoot;const vS="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20id='Capa_2'%20data-name='Capa%202'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20773.71%20769.31'%3e%3cdefs%3e%3cstyle%3e%20.cls-1%20{%20fill:%20%23009ddd;%20}%20.cls-1,%20.cls-2%20{%20stroke-width:%200px;%20}%20.cls-2%20{%20fill:%20%230f4571;%20}%20%3c/style%3e%3c/defs%3e%3cg%20id='Capa_1-2'%20data-name='Capa%201'%3e%3cpath%20class='cls-1'%20d='M420.52,395.65c0-60.99-.03-121.98.02-182.97.01-13.73.43-14.04,14.04-14.07,71.59-.21,143.17-2.43,214.77-1.71,22.62.23,45.2,3.63,67.86.71,5.83-.75,9.19,2.74,11.59,7.65,21.54,44.03,36.1,89.94,42.22,138.88,7.19,57.53-.43,113.08-18.82,167.27-21.56,63.51-58.95,116.87-109.11,161.22-38.68,34.2-82.71,59.51-131.65,75.78-73.91,24.58-148.58,27.82-224.38,8.01-67.45-17.63-126.27-50.43-175.09-99.58C49.83,594.26,14.26,517.96,2.57,430.59c-5.12-38.28-1.57-76.44,1.89-114.61.54-6,3.12-9.23,9.34-9.23,17,.02,33.99,0,50.99,0,6.1,0,8.11,2.29,6.57,8.75-15.79,66.2-7.4,130.29,17.94,192.62,28.55,70.19,78.32,122.09,143.7,158.19,63.09,34.83,131.45,46.29,203.08,35.24,71.29-11,132.43-42.72,182.31-94.2,65.54-67.66,95.82-149.45,89.75-243.77-1.91-29.64-8.35-58.68-18.5-86.72-7.25-20.05-7.38-20-28.58-20.01-53.99-.02-107.98-.02-161.97-.1-20.57-.03-20.11-.11-20.76,20.7-.84,26.96.28,53.9-.1,80.84-.14,9.67,3.42,12.65,12.85,12.58,42.32-.31,84.65-.09,126.98.02,13.53.03,13.92.87,14.45,14.05.53,13.02-2.6,25.86-1.3,38.91.78,7.83-5.45,7.13-10.31,7.15-23.33.11-46.66.04-69.99.03-20.66,0-41.33.21-61.99-.11-7.81-.12-10.66,2.96-10.54,10.64.29,17.33.18,34.66-.03,51.99-.36,30.3-1.11,60.6-1.23,90.91-.03,6.87-2.88,8.74-8.94,8.67-11.33-.14-22.66.04-33.99-.04-13.04-.09-13.66-.62-13.69-13.48-.09-53.99-.09-107.98-.12-161.97,0-7.33,0-14.66,0-22h.12Z'/%3e%3cpath%20class='cls-2'%20d='M156.09,256.97c-40.29-.91-80.62,1.18-120.9-1.85-12.31-.93-12.88-1.23-7.73-12.67C84.3,115.99,180.93,37.57,315.85,7.98c88.9-19.49,173.4-2.09,253.56,39.17,41.38,21.3,76.39,50.83,108.39,84.22,1.61,1.68,2.85,3.69,4.35,5.48,4.92,5.9,2.64,7.97-4.09,8.06-23.65.33-47.29.93-70.94,1.05-8.1.04-14.09-5.38-20.42-9.72-34.74-23.84-70.84-45.24-111.32-57.89-74.86-23.38-147.86-17.22-219.17,14.67-50.03,22.37-90.24,57.28-126.33,97.6-1.51,1.69-4.18,3.37-3.13,5.79,1.5,3.47,5.23,2.19,8.04,2.2,37.99.14,76-.42,113.98.35,84.92,1.71,130.65,71.19,122.38,140.98-6.05,51.07-33.62,84.95-82.49,101.34-2.21.74-4.4,1.56-6.65,2.19-7.63,2.16-7.54,5.36-2.62,11.13,27.23,31.91,54.14,64.09,81.16,96.18,9.22,10.95,18.46,21.88,27.66,32.85,1.66,1.98,4.21,3.92,2.76,6.9-1.42,2.93-4.58,2.34-7.14,2.35-19,.1-37.99.05-56.99.14-5.44.03-9.28-2.12-12.64-6.53-40.33-53.02-82.4-104.66-124.52-156.26-6.87-8.41-7.85-18.24-8.52-28.14-.52-7.6,5.45-7.82,11.15-7.79,20.3.13,40.59,1.33,60.88-1.28,29.17-3.75,54.06-24.3,58.89-49.39,6.63-34.43-7.16-66.63-34.84-81.33-7.88-4.18-16.39-5.34-25.16-5.34-31.99.01-63.99,0-95.99,0Z'/%3e%3c/g%3e%3c/svg%3e",ea=E.createContext(),yS=({children:t})=>{const[e,n]=E.useState([]),r=s=>{const l=products.find(f=>f.id===s),u=e.filter(f=>f.id!==s);let c=!0;for(let f of e)if(f.id===s){let p=f.stock;if(p<l.stock){const m={...f,stock:p+1};n([...u,m])}c=!1;break}c&&n([...u,{...l,stock:1}])},i=()=>{n([])},o=s=>{const l=e.filter(u=>u.id!==s);n(l)};return O.jsx(ea.Provider,{value:{remove:o,listCart:e,addProduct:r,clearCart:i},children:t})},pd=E.createContext(null),_S=({children:t})=>{const[e,n]=E.useState("none");return O.jsx(pd.Provider,{value:{showCart:e,setShowCart:n},children:t})},wS=()=>{const{setShowCart:t,showCart:e}=E.useContext(pd),{listCart:n}=E.useContext(ea),r=()=>{t(e==="none"?"flex":"none")};return O.jsxs("div",{className:"carrito",onClick:r,children:["",O.jsx("span",{className:"badge",children:n.length})]})};var d_={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(d_);var ES=d_.exports;const Y=Qs(ES),TS=["xxl","xl","lg","md","sm","xs"],CS="xs",vu=E.createContext({prefixes:{},breakpoints:TS,minBreakpoint:CS});function ne(t,e){const{prefixes:n}=E.useContext(vu);return t||n[e]||e}function p_(){const{breakpoints:t}=E.useContext(vu);return t}function m_(){const{minBreakpoint:t}=E.useContext(vu);return t}function SS(){const{dir:t}=E.useContext(vu);return t==="rtl"}const ho=E.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},o)=>{const s=ne(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return O.jsx(n,{ref:o,...i,className:Y(r,e?`${s}${l}`:s)})});ho.displayName="Container";var yg={exports:{}},Fh={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(s,l,u,c,f,p){var m=c||"<<anonymous>>",_=p||u;if(l[u]==null)return s?new Error("Required "+f+" `"+_+"` was not specified "+("in `"+m+"`.")):null;for(var x=arguments.length,k=Array(x>6?x-6:0),P=6;P<x;P++)k[P-6]=arguments[P];return r.apply(void 0,[l,u,m,f,_].concat(k))}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}t.exports=e.default})(Fh,Fh.exports);var IS=Fh.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=IS,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];function c(){for(var f=arguments.length,p=Array(f),m=0;m<f;m++)p[m]=arguments[m];var _=null;return l.forEach(function(x){if(_==null){var k=x.apply(void 0,p);k!=null&&(_=k)}}),_}return(0,r.default)(c)}t.exports=e.default})(yg,yg.exports);function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(null,arguments)}function g_(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function _g(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function xS(t){var e=RS(t,"string");return typeof e=="symbol"?e:String(e)}function RS(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AS(t,e,n){var r=E.useRef(t!==void 0),i=E.useState(e),o=i[0],s=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&o!==e&&s(e),[l?t:o,E.useCallback(function(c){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),s(c)},[n])]}function md(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[_g(r)],l=o[r],u=g_(o,[_g(r),r].map(xS)),c=e[r],f=AS(l,s,t[c]),p=f[0],m=f[1];return $h({},u,(i={},i[r]=p,i[c]=m,i))},t)}function Bh(t,e){return Bh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bh(t,e)}function PS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bh(t,e)}var kS=Function.prototype.bind.call(Function.prototype.call,[].slice);function Tn(t,e){return kS(t.querySelectorAll(e))}function v_(){const[,t]=E.useReducer(e=>!e,!1);return t}const wg=t=>!t||typeof t=="function"?t:e=>{t.current=e};function NS(t,e){const n=wg(t),r=wg(e);return i=>{n&&n(i),r&&r(i)}}function si(t,e){return E.useMemo(()=>NS(t,e),[t,e])}const yu=E.createContext(null);yu.displayName="NavContext";const ti=E.createContext(null),Vs=(t,e=null)=>t!=null?String(t):e||null,y_=E.createContext(null),DS="data-rr-ui-",OS="rrUi";function fo(t){return`${DS}${t}`}function VS(t){return`${OS}${t}`}function LS(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function Oe(t){const e=LS(t);return E.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const MS=["as","disabled"];function bS(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jS(t){return!t||t.trim()==="#"}function gd({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const f=m=>{if((e||t==="a"&&jS(n))&&m.preventDefault(),e){m.stopPropagation();return}s==null||s(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},c]}const vd=E.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=bS(t,MS);const[o,{tagName:s}]=gd(Object.assign({tagName:n,disabled:r},i));return O.jsx(s,Object.assign({},i,o,{ref:e}))});vd.displayName="Button";const FS=["as","active","eventKey"];function $S(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function __({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=E.useContext(ti),l=E.useContext(yu),u=E.useContext(y_);let c=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[fo("event-key")]=t,f.id=p||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=c,c||(f.tabIndex=-1),o&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Oe(p=>{o||(e==null||e(p),t!=null&&s&&!p.isPropagationStopped()&&s(t,p))}),[f,{isActive:c}]}const w_=E.forwardRef((t,e)=>{let{as:n=vd,active:r,eventKey:i}=t,o=$S(t,FS);const[s,l]=__(Object.assign({key:Vs(i,o.href),active:r},o));return s[fo("active")]=l.isActive,O.jsx(n,Object.assign({},o,s,{ref:e}))});w_.displayName="NavItem";const BS=["as","onSelect","activeKey","role","onKeyDown"];function US(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Eg=()=>{},Tg=fo("event-key"),E_=E.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,l=US(t,BS);const u=v_(),c=E.useRef(!1),f=E.useContext(ti),p=E.useContext(y_);let m,_;p&&(o=o||"tablist",i=p.activeKey,m=p.getControlledId,_=p.getControllerId);const x=E.useRef(null),k=T=>{const D=x.current;if(!D)return null;const M=Tn(D,`[${Tg}]:not([aria-disabled=true])`),L=D.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const w=M.indexOf(L);if(w===-1)return null;let g=w+T;return g>=M.length&&(g=0),g<0&&(g=M.length-1),M[g]},P=(T,D)=>{T!=null&&(r==null||r(T,D),f==null||f(T,D))},C=T=>{if(s==null||s(T),!p)return;let D;switch(T.key){case"ArrowLeft":case"ArrowUp":D=k(-1);break;case"ArrowRight":case"ArrowDown":D=k(1);break;default:return}D&&(T.preventDefault(),P(D.dataset[VS("EventKey")]||null,T),c.current=!0,u())};E.useEffect(()=>{if(x.current&&c.current){const T=x.current.querySelector(`[${Tg}][aria-selected=true]`);T==null||T.focus()}c.current=!1});const y=si(e,x);return O.jsx(ti.Provider,{value:P,children:O.jsx(yu.Provider,{value:{role:o,activeKey:Vs(i),getControlledId:m||Eg,getControllerId:_||Eg},children:O.jsx(n,Object.assign({},l,{onKeyDown:C,ref:y,role:o}))})})});E_.displayName="Nav";const zS=Object.assign(E_,{Item:w_}),ai=E.createContext(null);ai.displayName="NavbarContext";const yd=E.createContext(null);yd.displayName="CardHeaderContext";const T_=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"nav-item"),O.jsx(n,{ref:i,className:Y(t,e),...r})));T_.displayName="NavItem";function WS(){return E.useState(null)}function HS(t,e,n,r=!1){const i=Oe(n);E.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}function C_(){const t=E.useRef(!0),e=E.useRef(()=>t.current);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function S_(t){const e=E.useRef(null);return E.useEffect(()=>{e.current=t}),e.current}const qS=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",KS=typeof document<"u",jl=KS||qS?E.useLayoutEffect:E.useEffect,QS=["onKeyDown"];function GS(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XS(t){return!t||t.trim()==="#"}const _d=E.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=GS(t,QS);const[i]=gd(Object.assign({tagName:"a"},r)),o=Oe(s=>{i.onKeyDown(s),n==null||n(s)});return XS(r.href)||r.role==="button"?O.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):O.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});_d.displayName="Anchor";const wd=E.forwardRef(({bsPrefix:t,className:e,as:n=_d,active:r,eventKey:i,disabled:o=!1,...s},l)=>{t=ne(t,"nav-link");const[u,c]=__({key:Vs(i,s.href),active:r,disabled:o,...s});return O.jsx(n,{...s,...u,ref:l,disabled:o,className:Y(e,t,o&&"disabled",c.isActive&&"active")})});wd.displayName="NavLink";const I_=E.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:l,navbarScroll:u,className:c,activeKey:f,...p}=md(t,{activeKey:"onSelect"}),m=ne(r,"nav");let _,x,k=!1;const P=E.useContext(ai),C=E.useContext(yd);return P?(_=P.bsPrefix,k=l??!0):C&&({cardHeaderBsPrefix:x}=C),O.jsx(zS,{as:n,ref:e,activeKey:f,className:Y(c,{[m]:!k,[`${_}-nav`]:k,[`${_}-nav-scroll`]:k&&u,[`${x}-${i}`]:!!x,[`${m}-${i}`]:!!i,[`${m}-fill`]:o,[`${m}-justified`]:s}),...p})});I_.displayName="Nav";const YS=Object.assign(I_,{Item:T_,Link:wd}),x_=E.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=ne(t,"navbar-brand");const o=n||(r.href?"a":"span");return O.jsx(o,{...r,ref:i,className:Y(e,t)})});x_.displayName="NavbarBrand";function _u(t){return t&&t.ownerDocument||document}function JS(t){var e=_u(t);return e&&e.defaultView||window}function ZS(t,e){return JS(t).getComputedStyle(t,e)}var eI=/([A-Z])/g;function tI(t){return t.replace(eI,"-$1").toLowerCase()}var nI=/^ms-/;function za(t){return tI(t).replace(nI,"-ms-")}var rI=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function iI(t){return!!(t&&rI.test(t))}function Rn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(za(e))||ZS(t).getPropertyValue(za(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(za(i)):iI(i)?r+=i+"("+o+") ":n+=za(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var R_={exports:{}},oI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",sI=oI,aI=sI;function A_(){}function P_(){}P_.resetWarningCache=A_;var lI=function(){function t(r,i,o,s,l,u){if(u!==aI){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:P_,resetWarningCache:A_};return n.PropTypes=n,n};R_.exports=lI();var uI=R_.exports;const Yn=Qs(uI),Cg={disabled:!1},k_=Je.createContext(null);var cI=function(e){return e.scrollTop},Go="unmounted",Qn="exited",Yt="entering",Cn="entered",Ls="exiting",Mn=function(t){PS(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=Qn,o.appearStatus=Yt):u=Cn:r.unmountOnExit||r.mountOnEnter?u=Go:u=Qn,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===Go?{status:Qn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==Yt&&s!==Cn&&(o=Yt):(s===Yt||s===Cn)&&(o=Ls)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Yt){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Vi.findDOMNode(this);s&&cI(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Qn&&this.setState({status:Go})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Vi.findDOMNode(this),l],c=u[0],f=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!s||Cg.disabled){this.safeSetState({status:Cn},function(){o.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Yt},function(){o.props.onEntering(c,f),o.onTransitionEnd(m,function(){o.safeSetState({status:Cn},function(){o.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Vi.findDOMNode(this);if(!o||Cg.disabled){this.safeSetState({status:Qn},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ls},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Qn},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Vi.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Go)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=g_(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Je.createElement(k_.Provider,{value:null},typeof s=="function"?s(i,l):Je.cloneElement(Je.Children.only(s),l))},e}(Je.Component);Mn.contextType=k_;Mn.propTypes={};function gi(){}Mn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gi,onEntering:gi,onEntered:gi,onExit:gi,onExiting:gi,onExited:gi};Mn.UNMOUNTED=Go;Mn.EXITED=Qn;Mn.ENTERING=Yt;Mn.ENTERED=Cn;Mn.EXITING=Ls;const wu=!!(typeof window<"u"&&window.document&&window.document.createElement);var Uh=!1,zh=!1;try{var Pc={get passive(){return Uh=!0},get once(){return zh=Uh=!0}};wu&&(window.addEventListener("test",Pc,Pc),window.removeEventListener("test",Pc,!0))}catch{}function N_(t,e,n,r){if(r&&typeof r!="boolean"&&!zh){var i=r.once,o=r.capture,s=n;!zh&&i&&(s=n.__once||function l(u){this.removeEventListener(e,l,o),n.call(this,u)},n.__once=s),t.addEventListener(e,s,Uh?r:o)}t.addEventListener(e,n,r)}function hI(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function er(t,e,n,r){return N_(t,e,n,r),function(){hI(t,e,n,r)}}function fI(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function dI(t){var e=Rn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function pI(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||fI(t,"transitionend",!0)},e+n),o=er(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function mI(t,e,n,r){n==null&&(n=dI(t)||0);var i=pI(t,n,r),o=er(t,"transitionend",e);return function(){i(),o()}}function Sg(t,e){const n=Rn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Ed(t,e){const n=Sg(t,"transitionDuration"),r=Sg(t,"transitionDelay"),i=mI(t,o=>{o.target===t&&(i(),e(o))},n+r)}function zo(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function D_(t){t.offsetHeight}function gI(t){return t&&"setState"in t?Vi.findDOMNode(t):t??null}const Td=Je.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:l,childRef:u,...c},f)=>{const p=E.useRef(null),m=si(p,u),_=L=>{m(gI(L))},x=L=>w=>{L&&p.current&&L(p.current,w)},k=E.useCallback(x(t),[t]),P=E.useCallback(x(e),[e]),C=E.useCallback(x(n),[n]),y=E.useCallback(x(r),[r]),T=E.useCallback(x(i),[i]),D=E.useCallback(x(o),[o]),M=E.useCallback(x(s),[s]);return O.jsx(Mn,{ref:f,...c,onEnter:k,onEntered:C,onEntering:P,onExit:y,onExited:D,onExiting:T,addEndListener:M,nodeRef:p,children:typeof l=="function"?(L,w)=>l(L,{...w,ref:_}):Je.cloneElement(l,{ref:_})})}),vI={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function yI(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=vI[t];return r+parseInt(Rn(e,i[0]),10)+parseInt(Rn(e,i[1]),10)}const _I={[Qn]:"collapse",[Ls]:"collapsing",[Yt]:"collapsing",[Cn]:"collapse show"},wI=Je.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:_=yI,...x},k)=>{const P=typeof l=="function"?l():l,C=E.useMemo(()=>zo(L=>{L.style[P]="0"},t),[P,t]),y=E.useMemo(()=>zo(L=>{const w=`scroll${P[0].toUpperCase()}${P.slice(1)}`;L.style[P]=`${L[w]}px`},e),[P,e]),T=E.useMemo(()=>zo(L=>{L.style[P]=null},n),[P,n]),D=E.useMemo(()=>zo(L=>{L.style[P]=`${_(P,L)}px`,D_(L)},r),[r,_,P]),M=E.useMemo(()=>zo(L=>{L.style[P]=null},i),[P,i]);return O.jsx(Td,{ref:k,addEndListener:Ed,...x,"aria-expanded":x.role?u:null,onEnter:C,onEntering:y,onEntered:T,onExit:D,onExiting:M,childRef:s.ref,in:u,timeout:c,mountOnEnter:f,unmountOnExit:p,appear:m,children:(L,w)=>Je.cloneElement(s,{...w,className:Y(o,s.props.className,_I[L],P==="width"&&"collapse-horizontal")})})}),O_=E.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=ne(e,"navbar-collapse");const i=E.useContext(ai);return O.jsx(wI,{in:!!(i&&i.expanded),...n,children:O.jsx("div",{ref:r,className:e,children:t})})});O_.displayName="NavbarCollapse";const V_=E.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},l)=>{t=ne(t,"navbar-toggler");const{onToggle:u,expanded:c}=E.useContext(ai)||{},f=Oe(p=>{o&&o(p),u&&u()});return i==="button"&&(s.type="button"),O.jsx(i,{...s,ref:l,onClick:f,"aria-label":r,className:Y(e,t,!c&&"collapsed"),children:n||O.jsx("span",{className:`${t}-icon`})})});V_.displayName="NavbarToggle";const Wh=new WeakMap,Ig=(t,e)=>{if(!t||!e)return;const n=Wh.get(e)||new Map;Wh.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function EI(t,e=typeof window>"u"?void 0:window){const n=Ig(t,e),[r,i]=E.useState(()=>n?n.matches:!1);return jl(()=>{let o=Ig(t,e);if(!o)return i(!1);let s=Wh.get(e);const l=()=>{i(o.matches)};return o.refCount++,o.addListener(l),l(),()=>{o.removeListener(l),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function TI(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function o(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function s(l,u,c){let f;typeof l=="object"?(f=l,c=u,u=!0):(u=u||!0,f={[l]:u});let p=E.useMemo(()=>Object.entries(f).reduce((m,[_,x])=>((x==="up"||x===!0)&&(m=n(m,o(_))),(x==="down"||x===!0)&&(m=n(m,i(_))),m),""),[JSON.stringify(f)]);return EI(p,c)}return s}const CI=TI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function kc(t){t===void 0&&(t=_u());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Fl(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function SI(t){const e=E.useRef(t);return e.current=t,e}function II(t){const e=SI(t);E.useEffect(()=>()=>e.current(),[])}function xI(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const xg=fo("modal-open");class Cd{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return xI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Rn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(xg,""),Rn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(xg),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const L_=E.createContext(wu?window:void 0);L_.Provider;function Eu(){return E.useContext(L_)}const Nc=(t,e)=>wu?t==null?(e||_u()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function RI(t,e){const n=Eu(),[r,i]=E.useState(()=>Nc(t,n==null?void 0:n.document));if(!r){const o=Nc(t);o&&i(o)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const o=Nc(t);o!==r&&i(o)},[t,r]),r}function AI({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=E.useRef(null),s=E.useRef(e),l=Oe(n);E.useEffect(()=>{e?s.current=!0:l(o.current)},[e,l]);const u=si(o,t.ref),c=E.cloneElement(t,{ref:u});return e?c:i||!s.current&&r?null:c}function PI(t){return t.code==="Escape"||t.keyCode===27}function M_(){const t=E.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const kI=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function NI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function DI(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:l,children:u}=t,c=NI(t,kI);const{major:f}=M_(),p=f>=19?u.props.ref:u.ref,m=E.useRef(null),_=si(m,typeof u=="function"?null:p),x=L=>w=>{L&&m.current&&L(m.current,w)},k=E.useCallback(x(e),[e]),P=E.useCallback(x(n),[n]),C=E.useCallback(x(r),[r]),y=E.useCallback(x(i),[i]),T=E.useCallback(x(o),[o]),D=E.useCallback(x(s),[s]),M=E.useCallback(x(l),[l]);return Object.assign({},c,{nodeRef:m},e&&{onEnter:k},n&&{onEntering:P},r&&{onEntered:C},i&&{onExit:y},o&&{onExiting:T},s&&{onExited:D},l&&{addEndListener:M},{children:typeof u=="function"?(L,w)=>u(L,Object.assign({},w,{ref:_})):E.cloneElement(u,{ref:_})})}const OI=["component"];function VI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const LI=E.forwardRef((t,e)=>{let{component:n}=t,r=VI(t,OI);const i=DI(r);return O.jsx(n,Object.assign({ref:e},i))});function MI({in:t,onTransition:e}){const n=E.useRef(null),r=E.useRef(!0),i=Oe(e);return jl(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),jl(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function bI({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=E.useState(!e);e&&o&&s(!1);const l=MI({in:!!e,onTransition:c=>{const f=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(s(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(f,p=>{throw c.in||s(!0),p})}}),u=si(l,t.ref);return o&&!e?null:E.cloneElement(t,{ref:u})}function Rg(t,e,n){return t?O.jsx(LI,Object.assign({},n,{component:t})):e?O.jsx(bI,Object.assign({},n,{transition:e})):O.jsx(AI,Object.assign({},n))}const jI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function FI(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Dc;function $I(t){return Dc||(Dc=new Cd({ownerDocument:t==null?void 0:t.document})),Dc}function BI(t){const e=Eu(),n=t||$I(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:E.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:E.useCallback(i=>{r.current.backdrop=i},[])})}const b_=E.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:_,runBackdropTransition:x,autoFocus:k=!0,enforceFocus:P=!0,restoreFocus:C=!0,restoreFocusOptions:y,renderDialog:T,renderBackdrop:D=ge=>O.jsx("div",Object.assign({},ge)),manager:M,container:L,onShow:w,onHide:g=()=>{},onExit:S,onExited:R,onExiting:A,onEnter:N,onEntering:I,onEntered:ee}=t,me=FI(t,jI);const ae=Eu(),fe=RI(L),F=BI(M),K=C_(),q=S_(n),[te,J]=E.useState(!n),re=E.useRef(null);E.useImperativeHandle(e,()=>F,[F]),wu&&!q&&n&&(re.current=kc(ae==null?void 0:ae.document)),n&&te&&J(!1);const de=Oe(()=>{if(F.add(),nn.current=er(document,"keydown",Wt),vn.current=er(document,"focus",()=>setTimeout(Qe),!0),w&&w(),k){var ge,Fn;const $n=kc((ge=(Fn=F.dialog)==null?void 0:Fn.ownerDocument)!=null?ge:ae==null?void 0:ae.document);F.dialog&&$n&&!Fl(F.dialog,$n)&&(re.current=$n,F.dialog.focus())}}),ye=Oe(()=>{if(F.remove(),nn.current==null||nn.current(),vn.current==null||vn.current(),C){var ge;(ge=re.current)==null||ge.focus==null||ge.focus(y),re.current=null}});E.useEffect(()=>{!n||!fe||de()},[n,fe,de]),E.useEffect(()=>{te&&ye()},[te,ye]),II(()=>{ye()});const Qe=Oe(()=>{if(!P||!K()||!F.isTopModal())return;const ge=kc(ae==null?void 0:ae.document);F.dialog&&ge&&!Fl(F.dialog,ge)&&F.dialog.focus()}),nt=Oe(ge=>{ge.target===ge.currentTarget&&(c==null||c(ge),l===!0&&g())}),Wt=Oe(ge=>{u&&PI(ge)&&F.isTopModal()&&(f==null||f(ge),ge.defaultPrevented||g())}),vn=E.useRef(),nn=E.useRef(),rn=(...ge)=>{J(!0),R==null||R(...ge)};if(!fe)return null;const jn=Object.assign({role:r,ref:F.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:o,className:i,tabIndex:-1});let on=T?T(jn):O.jsx("div",Object.assign({},jn,{children:E.cloneElement(s,{role:"document"})}));on=Rg(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:S,onExiting:A,onExited:rn,onEnter:N,onEntering:I,onEntered:ee,children:on});let sn=null;return l&&(sn=D({ref:F.setBackdropRef,onClick:nt}),sn=Rg(_,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:sn})),O.jsx(O.Fragment,{children:Vi.createPortal(O.jsxs(O.Fragment,{children:[sn,on]}),fe)})});b_.displayName="Modal";const UI=Object.assign(b_,{Manager:Cd}),zI={[Yt]:"show",[Cn]:"show"},j_=E.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=E.useCallback((f,p)=>{D_(f),r==null||r(f,p)},[r]),{major:u}=M_(),c=u>=19?e.props.ref:e.ref;return O.jsx(Td,{ref:o,addEndListener:Ed,...s,onEnter:l,childRef:c,children:(f,p)=>E.cloneElement(e,{...p,className:Y("fade",t,e.props.className,zI[f],n[f])})})});j_.displayName="Fade";const F_=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"offcanvas-body"),O.jsx(n,{ref:i,className:Y(t,e),...r})));F_.displayName="OffcanvasBody";const WI={[Yt]:"show",[Cn]:"show"},$_=E.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...l},u)=>(t=ne(t,"offcanvas"),O.jsx(Td,{ref:u,addEndListener:Ed,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...l,childRef:n.ref,children:(c,f)=>E.cloneElement(n,{...f,className:Y(e,n.props.className,(c===Yt||c===Ls)&&`${t}-toggling`,WI[c])})})));$_.displayName="OffcanvasToggling";const B_=E.createContext({onHide(){}}),HI={"aria-label":Yn.string,onClick:Yn.func,variant:Yn.oneOf(["white"])},Sd=E.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>O.jsx("button",{ref:i,type:"button",className:Y("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Sd.displayName="CloseButton";Sd.propTypes=HI;const qI=E.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const l=E.useContext(B_),u=Oe(()=>{l==null||l.onHide(),r==null||r()});return O.jsxs("div",{ref:s,...o,children:[i,n&&O.jsx(Sd,{"aria-label":t,variant:e,onClick:u})]})}),U_=E.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=ne(t,"offcanvas-header"),O.jsx(qI,{ref:o,...i,className:Y(e,t),closeLabel:n,closeButton:r})));U_.displayName="OffcanvasHeader";const Id=t=>E.forwardRef((e,n)=>O.jsx("div",{...e,ref:n,className:Y(e.className,t)})),KI=Id("h5"),z_=E.forwardRef(({className:t,bsPrefix:e,as:n=KI,...r},i)=>(e=ne(e,"offcanvas-title"),O.jsx(n,{ref:i,className:Y(t,e),...r})));z_.displayName="OffcanvasTitle";function QI(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function GI(t,e){t.classList?t.classList.add(e):QI(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Ag(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XI(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Ag(t.className,e):t.setAttribute("class",Ag(t.className&&t.className.baseVal||"",e))}const vi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class W_ extends Cd{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Rn(n,{[e]:`${parseFloat(Rn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Rn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(GI(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Tn(n,vi.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),Tn(n,vi.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),Tn(n,vi.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();XI(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Tn(n,vi.FIXED_CONTENT).forEach(o=>this.restore(r,o)),Tn(n,vi.STICKY_CONTENT).forEach(o=>this.restore(i,o)),Tn(n,vi.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let Oc;function YI(t){return Oc||(Oc=new W_(t)),Oc}function JI(t){return O.jsx($_,{...t})}function ZI(t){return O.jsx(j_,{...t})}const H_=E.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:_,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:P=!0,restoreFocusOptions:C,onEntered:y,onExit:T,onExiting:D,onEnter:M,onEntering:L,onExited:w,backdropClassName:g,manager:S,renderStaticNode:R=!1,...A},N)=>{const I=E.useRef();t=ne(t,"offcanvas");const[ee,me]=E.useState(!1),ae=Oe(m),fe=CI(o||"xs","up");E.useEffect(()=>{me(o?s&&!fe:s)},[s,o,fe]);const F=E.useMemo(()=>({onHide:ae}),[ae]);function K(){return S||(c?(I.current||(I.current=new W_({handleContainerOverflow:!1})),I.current):YI())}const q=(de,...ye)=>{de&&(de.style.visibility="visible"),M==null||M(de,...ye)},te=(de,...ye)=>{de&&(de.style.visibility=""),w==null||w(...ye)},J=E.useCallback(de=>O.jsx("div",{...de,className:Y(`${t}-backdrop`,g)}),[g,t]),re=de=>O.jsx("div",{...de,...A,className:Y(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return O.jsxs(O.Fragment,{children:[!ee&&(o||R)&&re({}),O.jsx(B_.Provider,{value:F,children:O.jsx(UI,{show:ee,ref:N,backdrop:l,container:_,keyboard:u,autoFocus:x,enforceFocus:k&&!c,restoreFocus:P,restoreFocusOptions:C,onEscapeKeyDown:f,onShow:p,onHide:ae,onEnter:q,onEntering:L,onEntered:y,onExit:T,onExiting:D,onExited:te,manager:K(),transition:JI,backdropTransition:ZI,renderBackdrop:J,renderDialog:re})})]})});H_.displayName="Offcanvas";const ex=Object.assign(H_,{Body:F_,Header:U_,Title:z_}),q_=E.forwardRef(({onHide:t,...e},n)=>{const r=E.useContext(ai),i=Oe(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return O.jsx(ex,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});q_.displayName="NavbarOffcanvas";const K_=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ne(e,"navbar-text"),O.jsx(n,{ref:i,className:Y(t,e),...r})));K_.displayName="NavbarText";const Q_=E.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:l,className:u,as:c="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:_=!1,...x}=md(t,{expanded:"onToggle"}),k=ne(n,"navbar"),P=E.useCallback((...T)=>{m==null||m(...T),_&&f&&(p==null||p(!1))},[m,_,f,p]);x.role===void 0&&c!=="nav"&&(x.role="navigation");let C=`${k}-expand`;typeof r=="string"&&(C=`${C}-${r}`);const y=E.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:k,expanded:!!f,expand:r}),[k,f,r,p]);return O.jsx(ai.Provider,{value:y,children:O.jsx(ti.Provider,{value:P,children:O.jsx(c,{ref:e,...x,className:Y(u,k,r&&C,i&&`${k}-${i}`,o&&`bg-${o}`,l&&`sticky-${l}`,s&&`fixed-${s}`)})})})});Q_.displayName="Navbar";const Vc=Object.assign(Q_,{Brand:x_,Collapse:O_,Offcanvas:q_,Text:K_,Toggle:V_});function tx(t,e,n){const r=E.useRef(t!==void 0),[i,o]=E.useState(e),s=t!==void 0,l=r.current;return r.current=s,!s&&l&&i!==e&&o(e),[s?t:i,E.useCallback((...u)=>{const[c,...f]=u;let p=n==null?void 0:n(c,...f);return o(c),p},[n])]}const Tu=E.createContext(null);var Pg=Object.prototype.hasOwnProperty;function kg(t,e,n){for(n of t.keys())if(cs(n,e))return n}function cs(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&cs(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=kg(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=kg(e,i),!i)||!cs(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Pg.call(t,n)&&++r&&!Pg.call(e,n)||!(n in e)||!cs(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function nx(t){const e=C_();return[t[0],E.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var St="top",Ut="bottom",zt="right",It="left",xd="auto",ta=[St,Ut,zt,It],Yi="start",Ms="end",rx="clippingParents",G_="viewport",Wo="popper",ix="reference",Ng=ta.reduce(function(t,e){return t.concat([e+"-"+Yi,e+"-"+Ms])},[]),X_=[].concat(ta,[xd]).reduce(function(t,e){return t.concat([e,e+"-"+Yi,e+"-"+Ms])},[]),ox="beforeRead",sx="read",ax="afterRead",lx="beforeMain",ux="main",cx="afterMain",hx="beforeWrite",fx="write",dx="afterWrite",px=[ox,sx,ax,lx,ux,cx,hx,fx,dx];function dn(t){return t.split("-")[0]}function Dt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ni(t){var e=Dt(t).Element;return t instanceof e||t instanceof Element}function pn(t){var e=Dt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Rd(t){if(typeof ShadowRoot>"u")return!1;var e=Dt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var qr=Math.max,$l=Math.min,Ji=Math.round;function Hh(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Y_(){return!/^((?!chrome|android).)*safari/i.test(Hh())}function Zi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&pn(t)&&(i=t.offsetWidth>0&&Ji(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ji(r.height)/t.offsetHeight||1);var s=ni(t)?Dt(t):window,l=s.visualViewport,u=!Y_()&&n,c=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/o,p=r.width/i,m=r.height/o;return{width:p,height:m,top:f,right:c+p,bottom:f+m,left:c,x:c,y:f}}function Ad(t){var e=Zi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function J_(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Rd(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _r(t){return t?(t.nodeName||"").toLowerCase():null}function Dn(t){return Dt(t).getComputedStyle(t)}function mx(t){return["table","td","th"].indexOf(_r(t))>=0}function Ar(t){return((ni(t)?t.ownerDocument:t.document)||window.document).documentElement}function Cu(t){return _r(t)==="html"?t:t.assignedSlot||t.parentNode||(Rd(t)?t.host:null)||Ar(t)}function Dg(t){return!pn(t)||Dn(t).position==="fixed"?null:t.offsetParent}function gx(t){var e=/firefox/i.test(Hh()),n=/Trident/i.test(Hh());if(n&&pn(t)){var r=Dn(t);if(r.position==="fixed")return null}var i=Cu(t);for(Rd(i)&&(i=i.host);pn(i)&&["html","body"].indexOf(_r(i))<0;){var o=Dn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function na(t){for(var e=Dt(t),n=Dg(t);n&&mx(n)&&Dn(n).position==="static";)n=Dg(n);return n&&(_r(n)==="html"||_r(n)==="body"&&Dn(n).position==="static")?e:n||gx(t)||e}function Pd(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function hs(t,e,n){return qr(t,$l(e,n))}function vx(t,e,n){var r=hs(t,e,n);return r>n?n:r}function Z_(){return{top:0,right:0,bottom:0,left:0}}function ew(t){return Object.assign({},Z_(),t)}function tw(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var yx=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,ew(typeof e!="number"?e:tw(e,ta))};function _x(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=dn(n.placement),u=Pd(l),c=[It,zt].indexOf(l)>=0,f=c?"height":"width";if(!(!o||!s)){var p=yx(i.padding,n),m=Ad(o),_=u==="y"?St:It,x=u==="y"?Ut:zt,k=n.rects.reference[f]+n.rects.reference[u]-s[u]-n.rects.popper[f],P=s[u]-n.rects.reference[u],C=na(o),y=C?u==="y"?C.clientHeight||0:C.clientWidth||0:0,T=k/2-P/2,D=p[_],M=y-m[f]-p[x],L=y/2-m[f]/2+T,w=hs(D,L,M),g=u;n.modifiersData[r]=(e={},e[g]=w,e.centerOffset=w-L,e)}}function wx(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||J_(e.elements.popper,i)&&(e.elements.arrow=i))}const Ex={name:"arrow",enabled:!0,phase:"main",fn:_x,effect:wx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function eo(t){return t.split("-")[1]}var Tx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Cx(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ji(n*i)/i||0,y:Ji(r*i)/i||0}}function Og(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=s.x,_=m===void 0?0:m,x=s.y,k=x===void 0?0:x,P=typeof f=="function"?f({x:_,y:k}):{x:_,y:k};_=P.x,k=P.y;var C=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),T=It,D=St,M=window;if(c){var L=na(n),w="clientHeight",g="clientWidth";if(L===Dt(n)&&(L=Ar(n),Dn(L).position!=="static"&&l==="absolute"&&(w="scrollHeight",g="scrollWidth")),L=L,i===St||(i===It||i===zt)&&o===Ms){D=Ut;var S=p&&L===M&&M.visualViewport?M.visualViewport.height:L[w];k-=S-r.height,k*=u?1:-1}if(i===It||(i===St||i===Ut)&&o===Ms){T=zt;var R=p&&L===M&&M.visualViewport?M.visualViewport.width:L[g];_-=R-r.width,_*=u?1:-1}}var A=Object.assign({position:l},c&&Tx),N=f===!0?Cx({x:_,y:k},Dt(n)):{x:_,y:k};if(_=N.x,k=N.y,u){var I;return Object.assign({},A,(I={},I[D]=y?"0":"",I[T]=C?"0":"",I.transform=(M.devicePixelRatio||1)<=1?"translate("+_+"px, "+k+"px)":"translate3d("+_+"px, "+k+"px, 0)",I))}return Object.assign({},A,(e={},e[D]=y?k+"px":"",e[T]=C?_+"px":"",e.transform="",e))}function Sx(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:dn(e.placement),variation:eo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Og(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Og(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Ix={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Sx,data:{}};var Wa={passive:!0};function xx(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=Dt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",n.update,Wa)}),l&&u.addEventListener("resize",n.update,Wa),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",n.update,Wa)}),l&&u.removeEventListener("resize",n.update,Wa)}}const Rx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xx,data:{}};var Ax={left:"right",right:"left",bottom:"top",top:"bottom"};function ll(t){return t.replace(/left|right|bottom|top/g,function(e){return Ax[e]})}var Px={start:"end",end:"start"};function Vg(t){return t.replace(/start|end/g,function(e){return Px[e]})}function kd(t){var e=Dt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Nd(t){return Zi(Ar(t)).left+kd(t).scrollLeft}function kx(t,e){var n=Dt(t),r=Ar(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var c=Y_();(c||!c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Nd(t),y:u}}function Nx(t){var e,n=Ar(t),r=kd(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=qr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=qr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Nd(t),u=-r.scrollTop;return Dn(i||n).direction==="rtl"&&(l+=qr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function Dd(t){var e=Dn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function nw(t){return["html","body","#document"].indexOf(_r(t))>=0?t.ownerDocument.body:pn(t)&&Dd(t)?t:nw(Cu(t))}function fs(t,e){var n;e===void 0&&(e=[]);var r=nw(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Dt(r),s=i?[o].concat(o.visualViewport||[],Dd(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(fs(Cu(s)))}function qh(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Dx(t,e){var n=Zi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Lg(t,e,n){return e===G_?qh(kx(t,n)):ni(e)?Dx(e,n):qh(Nx(Ar(t)))}function Ox(t){var e=fs(Cu(t)),n=["absolute","fixed"].indexOf(Dn(t).position)>=0,r=n&&pn(t)?na(t):t;return ni(r)?e.filter(function(i){return ni(i)&&J_(i,r)&&_r(i)!=="body"}):[]}function Vx(t,e,n,r){var i=e==="clippingParents"?Ox(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,c){var f=Lg(t,c,r);return u.top=qr(f.top,u.top),u.right=$l(f.right,u.right),u.bottom=$l(f.bottom,u.bottom),u.left=qr(f.left,u.left),u},Lg(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function rw(t){var e=t.reference,n=t.element,r=t.placement,i=r?dn(r):null,o=r?eo(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case St:u={x:s,y:e.y-n.height};break;case Ut:u={x:s,y:e.y+e.height};break;case zt:u={x:e.x+e.width,y:l};break;case It:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var c=i?Pd(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case Yi:u[c]=u[c]-(e[f]/2-n[f]/2);break;case Ms:u[c]=u[c]+(e[f]/2-n[f]/2);break}}return u}function bs(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,u=l===void 0?rx:l,c=n.rootBoundary,f=c===void 0?G_:c,p=n.elementContext,m=p===void 0?Wo:p,_=n.altBoundary,x=_===void 0?!1:_,k=n.padding,P=k===void 0?0:k,C=ew(typeof P!="number"?P:tw(P,ta)),y=m===Wo?ix:Wo,T=t.rects.popper,D=t.elements[x?y:m],M=Vx(ni(D)?D:D.contextElement||Ar(t.elements.popper),u,f,s),L=Zi(t.elements.reference),w=rw({reference:L,element:T,strategy:"absolute",placement:i}),g=qh(Object.assign({},T,w)),S=m===Wo?g:L,R={top:M.top-S.top+C.top,bottom:S.bottom-M.bottom+C.bottom,left:M.left-S.left+C.left,right:S.right-M.right+C.right},A=t.modifiersData.offset;if(m===Wo&&A){var N=A[i];Object.keys(R).forEach(function(I){var ee=[zt,Ut].indexOf(I)>=0?1:-1,me=[St,Ut].indexOf(I)>=0?"y":"x";R[I]+=N[me]*ee})}return R}function Lx(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?X_:u,f=eo(r),p=f?l?Ng:Ng.filter(function(x){return eo(x)===f}):ta,m=p.filter(function(x){return c.indexOf(x)>=0});m.length===0&&(m=p);var _=m.reduce(function(x,k){return x[k]=bs(t,{placement:k,boundary:i,rootBoundary:o,padding:s})[dn(k)],x},{});return Object.keys(_).sort(function(x,k){return _[x]-_[k]})}function Mx(t){if(dn(t)===xd)return[];var e=ll(t);return[Vg(t),e,Vg(e)]}function bx(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,_=n.flipVariations,x=_===void 0?!0:_,k=n.allowedAutoPlacements,P=e.options.placement,C=dn(P),y=C===P,T=u||(y||!x?[ll(P)]:Mx(P)),D=[P].concat(T).reduce(function(de,ye){return de.concat(dn(ye)===xd?Lx(e,{placement:ye,boundary:f,rootBoundary:p,padding:c,flipVariations:x,allowedAutoPlacements:k}):ye)},[]),M=e.rects.reference,L=e.rects.popper,w=new Map,g=!0,S=D[0],R=0;R<D.length;R++){var A=D[R],N=dn(A),I=eo(A)===Yi,ee=[St,Ut].indexOf(N)>=0,me=ee?"width":"height",ae=bs(e,{placement:A,boundary:f,rootBoundary:p,altBoundary:m,padding:c}),fe=ee?I?zt:It:I?Ut:St;M[me]>L[me]&&(fe=ll(fe));var F=ll(fe),K=[];if(o&&K.push(ae[N]<=0),l&&K.push(ae[fe]<=0,ae[F]<=0),K.every(function(de){return de})){S=A,g=!1;break}w.set(A,K)}if(g)for(var q=x?3:1,te=function(ye){var Qe=D.find(function(nt){var Wt=w.get(nt);if(Wt)return Wt.slice(0,ye).every(function(vn){return vn})});if(Qe)return S=Qe,"break"},J=q;J>0;J--){var re=te(J);if(re==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}const jx={name:"flip",enabled:!0,phase:"main",fn:bx,requiresIfExists:["offset"],data:{_skip:!1}};function Mg(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function bg(t){return[St,zt,Ut,It].some(function(e){return t[e]>=0})}function Fx(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=bs(e,{elementContext:"reference"}),l=bs(e,{altBoundary:!0}),u=Mg(s,r),c=Mg(l,i,o),f=bg(u),p=bg(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const $x={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Fx};function Bx(t,e,n){var r=dn(t),i=[It,St].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[It,zt].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function Ux(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=X_.reduce(function(f,p){return f[p]=Bx(p,e.rects,o),f},{}),l=s[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const zx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ux};function Wx(t){var e=t.state,n=t.name;e.modifiersData[n]=rw({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Hx={name:"popperOffsets",enabled:!0,phase:"read",fn:Wx,data:{}};function qx(t){return t==="x"?"y":"x"}function Kx(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,_=m===void 0?!0:m,x=n.tetherOffset,k=x===void 0?0:x,P=bs(e,{boundary:u,rootBoundary:c,padding:p,altBoundary:f}),C=dn(e.placement),y=eo(e.placement),T=!y,D=Pd(C),M=qx(D),L=e.modifiersData.popperOffsets,w=e.rects.reference,g=e.rects.popper,S=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,R=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(L){if(o){var I,ee=D==="y"?St:It,me=D==="y"?Ut:zt,ae=D==="y"?"height":"width",fe=L[D],F=fe+P[ee],K=fe-P[me],q=_?-g[ae]/2:0,te=y===Yi?w[ae]:g[ae],J=y===Yi?-g[ae]:-w[ae],re=e.elements.arrow,de=_&&re?Ad(re):{width:0,height:0},ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Z_(),Qe=ye[ee],nt=ye[me],Wt=hs(0,w[ae],de[ae]),vn=T?w[ae]/2-q-Wt-Qe-R.mainAxis:te-Wt-Qe-R.mainAxis,nn=T?-w[ae]/2+q+Wt+nt+R.mainAxis:J+Wt+nt+R.mainAxis,rn=e.elements.arrow&&na(e.elements.arrow),jn=rn?D==="y"?rn.clientTop||0:rn.clientLeft||0:0,on=(I=A==null?void 0:A[D])!=null?I:0,sn=fe+vn-on-jn,ge=fe+nn-on,Fn=hs(_?$l(F,sn):F,fe,_?qr(K,ge):K);L[D]=Fn,N[D]=Fn-fe}if(l){var $n,$u=D==="x"?St:It,ua=D==="x"?Ut:zt,Ht=L[M],Pr=M==="y"?"height":"width",ca=Ht+P[$u],ci=Ht-P[ua],kr=[St,It].indexOf(C)!==-1,Eo=($n=A==null?void 0:A[M])!=null?$n:0,Fe=kr?ca:Ht-w[Pr]-g[Pr]-Eo+R.altAxis,Ue=kr?Ht+w[Pr]+g[Pr]-Eo-R.altAxis:ci,Nr=_&&kr?vx(Fe,Ht,Ue):hs(_?Fe:ca,Ht,_?Ue:ci);L[M]=Nr,N[M]=Nr-Ht}e.modifiersData[r]=N}}const Qx={name:"preventOverflow",enabled:!0,phase:"main",fn:Kx,requiresIfExists:["offset"]};function Gx(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Xx(t){return t===Dt(t)||!pn(t)?kd(t):Gx(t)}function Yx(t){var e=t.getBoundingClientRect(),n=Ji(e.width)/t.offsetWidth||1,r=Ji(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Jx(t,e,n){n===void 0&&(n=!1);var r=pn(e),i=pn(e)&&Yx(e),o=Ar(e),s=Zi(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((_r(e)!=="body"||Dd(o))&&(l=Xx(e)),pn(e)?(u=Zi(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Nd(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function Zx(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function eR(t){var e=Zx(t);return px.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function tR(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function nR(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var jg={placement:"bottom",modifiers:[],strategy:"absolute"};function Fg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function rR(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?jg:i;return function(l,u,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},jg,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],m=!1,_={state:f,setOptions:function(C){var y=typeof C=="function"?C(f.options):C;k(),f.options=Object.assign({},o,f.options,y),f.scrollParents={reference:ni(l)?fs(l):l.contextElement?fs(l.contextElement):[],popper:fs(u)};var T=eR(nR([].concat(r,f.options.modifiers)));return f.orderedModifiers=T.filter(function(D){return D.enabled}),x(),_.update()},forceUpdate:function(){if(!m){var C=f.elements,y=C.reference,T=C.popper;if(Fg(y,T)){f.rects={reference:Jx(y,na(T),f.options.strategy==="fixed"),popper:Ad(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var M=f.orderedModifiers[D],L=M.fn,w=M.options,g=w===void 0?{}:w,S=M.name;typeof L=="function"&&(f=L({state:f,options:g,name:S,instance:_})||f)}}}},update:tR(function(){return new Promise(function(P){_.forceUpdate(),P(f)})}),destroy:function(){k(),m=!0}};if(!Fg(l,u))return _;_.setOptions(c).then(function(P){!m&&c.onFirstUpdate&&c.onFirstUpdate(P)});function x(){f.orderedModifiers.forEach(function(P){var C=P.name,y=P.options,T=y===void 0?{}:y,D=P.effect;if(typeof D=="function"){var M=D({state:f,name:C,instance:_,options:T}),L=function(){};p.push(M||L)}})}function k(){p.forEach(function(P){return P()}),p=[]}return _}}const iR=rR({defaultModifiers:[$x,Hx,Ix,Rx,zx,jx,Qx,Ex]}),oR=["enabled","placement","strategy","modifiers"];function sR(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const aR={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},lR={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},uR=[];function cR(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=uR}=n,l=sR(n,oR);const u=E.useRef(s),c=E.useRef(),f=E.useCallback(()=>{var P;(P=c.current)==null||P.update()},[]),p=E.useCallback(()=>{var P;(P=c.current)==null||P.forceUpdate()},[]),[m,_]=nx(E.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),x=E.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:P})=>{const C={},y={};Object.keys(P.elements).forEach(T=>{C[T]=P.styles[T],y[T]=P.attributes[T]}),_({state:P,styles:C,attributes:y,update:f,forceUpdate:p,placement:P.placement})}}),[f,p,_]),k=E.useMemo(()=>(cs(u.current,s)||(u.current=s),u.current),[s]);return E.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:o,modifiers:[...k,x,aR]})},[o,i,x,r,k]),E.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=iR(t,e,Object.assign({},l,{placement:i,strategy:o,modifiers:[...k,lR,x]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,_(P=>Object.assign({},P,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}var hR=function(){},fR=hR;const dR=Qs(fR),$g=()=>{};function pR(t){return t.button===0}function mR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Lc=t=>t&&("current"in t?t.current:t),Bg={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function gR(t,e=$g,{disabled:n,clickTrigger:r="click"}={}){const i=E.useRef(!1),o=E.useRef(!1),s=E.useCallback(c=>{const f=Lc(t);dR(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||mR(c)||!pR(c)||!!Fl(f,c.target)||o.current,o.current=!1},[t]),l=Oe(c=>{const f=Lc(t);f&&Fl(f,c.target)&&(o.current=!0)}),u=Oe(c=>{i.current||e(c)});E.useEffect(()=>{var c,f;if(n||t==null)return;const p=_u(Lc(t)),m=p.defaultView||window;let _=(c=m.event)!=null?c:(f=m.parent)==null?void 0:f.event,x=null;Bg[r]&&(x=er(p,Bg[r],l,!0));const k=er(p,r,s,!0),P=er(p,r,y=>{if(y===_){_=void 0;return}u(y)});let C=[];return"ontouchstart"in p.documentElement&&(C=[].slice.call(p.body.children).map(y=>er(y,"mousemove",$g))),()=>{x==null||x(),k(),P(),C.forEach(y=>y())}},[t,n,r,s,l,u])}function vR(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function yR(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function _R({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:l,popperConfig:u={}}){var c,f,p,m,_;const x=vR(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:o?"fixed":u.strategy,modifiers:yR(Object.assign({},x,{eventListeners:{enabled:e,options:(c=x.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},x.preventOverflow,{options:s?Object.assign({padding:s},(f=x.preventOverflow)==null?void 0:f.options):(p=x.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=x.offset)==null?void 0:m.options)},arrow:Object.assign({},x.arrow,{enabled:!!l,options:Object.assign({},(_=x.arrow)==null?void 0:_.options,{element:l})}),flip:Object.assign({enabled:!!r},x.flip)}))})}const wR=["children","usePopper"];function ER(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const TR=()=>{};function iw(t={}){const e=E.useContext(Tu),[n,r]=WS(),i=E.useRef(!1),{flip:o,offset:s,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,_=(e==null?void 0:e.show)==null?!!t.show:e.show;_&&!i.current&&(i.current=!0);const x=L=>{e==null||e.toggle(!1,L)},{placement:k,setMenu:P,menuElement:C,toggleElement:y}=e||{},T=cR(y,C,_R({placement:c||k||"bottom-start",enabled:m,enableEvents:p??_,offset:s,flip:o,fixed:u,arrowElement:n,popperConfig:f})),D=Object.assign({ref:P||TR,"aria-labelledby":y==null?void 0:y.id},T.attributes.popper,{style:T.styles.popper}),M={show:_,placement:k,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?T:null,arrowProps:m?Object.assign({ref:r},T.attributes.arrow,{style:T.styles.arrow}):{}};return gR(C,x,{clickTrigger:l,disabled:!_}),[D,M]}function ow(t){let{children:e,usePopper:n=!0}=t,r=ER(t,wR);const[i,o]=iw(Object.assign({},r,{usePopper:n}));return O.jsx(O.Fragment,{children:e(i,o)})}ow.displayName="DropdownMenu";const Bl={prefix:String(Math.round(Math.random()*1e10)),current:0},sw=Je.createContext(Bl),CR=Je.createContext(!1);let SR=!!(typeof window<"u"&&window.document&&window.document.createElement),Mc=new WeakMap;function IR(t=!1){let e=E.useContext(sw),n=E.useRef(null);if(n.current===null&&!t){var r,i;let o=(i=Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=Mc.get(o);s==null?Mc.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,Mc.delete(o))}n.current=++e.current}return n.current}function xR(t){let e=E.useContext(sw);e===Bl&&!SR&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=IR(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function RR(t){let e=Je.useId(),[n]=E.useState(DR()),r=n?"react-aria":`react-aria${Bl.prefix}`;return t||`${r}-${e}`}const AR=typeof Je.useId=="function"?RR:xR;function PR(){return!1}function kR(){return!0}function NR(t){return()=>{}}function DR(){return typeof Je.useSyncExternalStore=="function"?Je.useSyncExternalStore(NR,PR,kR):E.useContext(CR)}const aw=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Ug=()=>{};function lw(){const t=AR(),{show:e=!1,toggle:n=Ug,setToggle:r,menuElement:i}=E.useContext(Tu)||{},o=E.useCallback(l=>{n(!e,l)},[e,n]),s={id:t,ref:r||Ug,onClick:o,"aria-expanded":!!e};return i&&aw(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function uw({children:t}){const[e,n]=lw();return O.jsx(O.Fragment,{children:t(e,n)})}uw.displayName="DropdownToggle";const OR=["eventKey","disabled","onClick","active","as"];function VR(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cw({key:t,href:e,active:n,disabled:r,onClick:i}){const o=E.useContext(ti),s=E.useContext(yu),{activeKey:l}=s||{},u=Vs(t,e),c=n==null&&t!=null?Vs(l)===u:n;return[{onClick:Oe(p=>{r||(i==null||i(p),o&&!p.isPropagationStopped()&&o(u,p))}),"aria-disabled":r||void 0,"aria-selected":c,[fo("dropdown-item")]:""},{isActive:c}]}const hw=E.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=vd}=t,l=VR(t,OR);const[u]=cw({key:n,href:l.href,disabled:r,onClick:i,active:o});return O.jsx(s,Object.assign({},l,{ref:e},u))});hw.displayName="DropdownItem";function zg(){const t=v_(),e=E.useRef(null),n=E.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function ra({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${fo("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:l}){const u=Eu(),[c,f]=tx(e,t,r),[p,m]=zg(),_=p.current,[x,k]=zg(),P=x.current,C=S_(c),y=E.useRef(null),T=E.useRef(!1),D=E.useContext(ti),M=E.useCallback((A,N,I=N==null?void 0:N.type)=>{f(A,{originalEvent:N,source:I})},[f]),L=Oe((A,N)=>{n==null||n(A,N),M(!1,N,"select"),N.isPropagationStopped()||D==null||D(A,N)}),w=E.useMemo(()=>({toggle:M,placement:s,show:c,menuElement:_,toggleElement:P,setMenu:m,setToggle:k}),[M,s,c,_,P,m,k]);_&&C&&!c&&(T.current=_.contains(_.ownerDocument.activeElement));const g=Oe(()=>{P&&P.focus&&P.focus()}),S=Oe(()=>{const A=y.current;let N=o;if(N==null&&(N=p.current&&aw(p.current)?"keyboard":!1),N===!1||N==="keyboard"&&!/^key.+$/.test(A))return;const I=Tn(p.current,i)[0];I&&I.focus&&I.focus()});E.useEffect(()=>{c?S():T.current&&(T.current=!1,g())},[c,T,g,S]),E.useEffect(()=>{y.current=null});const R=(A,N)=>{if(!p.current)return null;const I=Tn(p.current,i);let ee=I.indexOf(A)+N;return ee=Math.max(0,Math.min(ee,I.length)),I[ee]};return HS(E.useCallback(()=>u.document,[u]),"keydown",A=>{var N,I;const{key:ee}=A,me=A.target,ae=(N=p.current)==null?void 0:N.contains(me),fe=(I=x.current)==null?void 0:I.contains(me);if(/input|textarea/i.test(me.tagName)&&(ee===" "||ee!=="Escape"&&ae||ee==="Escape"&&me.type==="search")||!ae&&!fe||ee==="Tab"&&(!p.current||!c))return;y.current=A.type;const K={originalEvent:A,source:A.type};switch(ee){case"ArrowUp":{const q=R(me,-1);q&&q.focus&&q.focus(),A.preventDefault();return}case"ArrowDown":if(A.preventDefault(),!c)f(!0,K);else{const q=R(me,1);q&&q.focus&&q.focus()}return;case"Tab":N_(me.ownerDocument,"keyup",q=>{var te;(q.key==="Tab"&&!q.target||!((te=p.current)!=null&&te.contains(q.target)))&&f(!1,K)},{once:!0});break;case"Escape":ee==="Escape"&&(A.preventDefault(),A.stopPropagation()),f(!1,K);break}}),O.jsx(ti.Provider,{value:L,children:O.jsx(Tu.Provider,{value:w,children:l})})}ra.displayName="Dropdown";ra.Menu=ow;ra.Toggle=uw;ra.Item=hw;const Od=E.createContext({});Od.displayName="DropdownContext";const fw=E.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},o)=>(e=ne(e,"dropdown-divider"),O.jsx(n,{ref:o,className:Y(t,e),role:r,...i})));fw.displayName="DropdownDivider";const dw=E.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},o)=>(e=ne(e,"dropdown-header"),O.jsx(n,{ref:o,className:Y(t,e),role:r,...i})));dw.displayName="DropdownHeader";const pw=E.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=_d,...l},u)=>{const c=ne(t,"dropdown-item"),[f,p]=cw({key:n,href:l.href,disabled:r,onClick:i,active:o});return O.jsx(s,{...l,...f,ref:u,className:Y(e,c,p.isActive&&"active",r&&"disabled")})});pw.displayName="DropdownItem";const mw=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=ne(e,"dropdown-item-text"),O.jsx(n,{ref:i,className:Y(t,e),...r})));mw.displayName="DropdownItemText";const Vd=E.createContext(null);Vd.displayName="InputGroupContext";function gw(t,e){return t}function vw(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?s:o;return e==="up"?p=t?i:r:e==="end"?p=t?f:c:e==="start"?p=t?u:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const yw=E.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:l="div",popperConfig:u,variant:c,...f},p)=>{let m=!1;const _=E.useContext(ai),x=ne(t,"dropdown-menu"),{align:k,drop:P,isRTL:C}=E.useContext(Od);n=n||k;const y=E.useContext(Vd),T=[];if(n)if(typeof n=="object"){const A=Object.keys(n);if(A.length){const N=A[0],I=n[N];m=I==="start",T.push(`${x}-${N}-${I}`)}}else n==="end"&&(m=!0);const D=vw(m,P,C),[M,{hasShown:L,popper:w,show:g,toggle:S}]=iw({flip:i,rootCloseEvent:r,show:o,usePopper:!_&&T.length===0,offset:[0,2],popperConfig:u,placement:D});if(M.ref=si(gw(p),M.ref),jl(()=>{g&&(w==null||w.update())},[g]),!L&&!s&&!y)return null;typeof l!="string"&&(M.show=g,M.close=()=>S==null?void 0:S(!1),M.align=n);let R=f.style;return w!=null&&w.placement&&(R={...f.style,...M.style},f["x-placement"]=w.placement),O.jsx(l,{...f,...M,style:R,...(T.length||_)&&{"data-bs-popper":"static"},className:Y(e,x,g&&"show",m&&`${x}-end`,c&&`${x}-${c}`,...T)})});yw.displayName="DropdownMenu";const Kr=E.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...l},u)=>{const c=ne(e,"btn"),[f,{tagName:p}]=gd({tagName:t,disabled:o,...l}),m=p;return O.jsx(m,{...f,...l,ref:u,disabled:o,className:Y(s,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&o&&"disabled")})});Kr.displayName="Button";const _w=E.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=Kr,...o},s)=>{const l=ne(t,"dropdown-toggle"),u=E.useContext(Tu);r!==void 0&&(o.bsPrefix=r);const[c]=lw();return c.ref=si(c.ref,gw(s)),O.jsx(i,{className:Y(n,l,e&&`${l}-split`,(u==null?void 0:u.show)&&"show"),...c,...o})});_w.displayName="DropdownToggle";const ww=E.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:l,onToggle:u,focusFirstItemOnShow:c,as:f="div",navbar:p,autoClose:m=!0,..._}=md(t,{show:"onToggle"}),x=E.useContext(Vd),k=ne(n,"dropdown"),P=SS(),C=w=>m===!1?w==="click":m==="inside"?w!=="rootClose":m==="outside"?w!=="select":!0,y=Oe((w,g)=>{var S;!((S=g.originalEvent)==null||(S=S.target)==null)&&S.classList.contains("dropdown-toggle")&&g.source==="mousedown"||(g.originalEvent.currentTarget===document&&(g.source!=="keydown"||g.originalEvent.key==="Escape")&&(g.source="rootClose"),C(g.source)&&(u==null||u(w,g)))}),D=vw(s==="end",r,P),M=E.useMemo(()=>({align:s,drop:r,isRTL:P}),[s,r,P]),L={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return O.jsx(Od.Provider,{value:M,children:O.jsx(ra,{placement:D,show:i,onSelect:l,onToggle:y,focusFirstItemOnShow:c,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:x?_.children:O.jsx(f,{..._,ref:e,className:Y(o,i&&"show",L[r])})})})});ww.displayName="Dropdown";const Ur=Object.assign(ww,{Toggle:_w,Menu:yw,Item:pw,ItemText:mw,Divider:fw,Header:dw}),Ew=E.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:s,disabled:l,active:u,renderMenuOnMount:c,menuVariant:f,...p},m)=>{const _=ne(void 0,"nav-item");return O.jsxs(Ur,{ref:m,...p,className:Y(i,_),children:[O.jsx(Ur.Toggle,{id:t,eventKey:null,active:u,disabled:l,childBsPrefix:r,as:wd,children:e}),O.jsx(Ur.Menu,{role:s,renderOnMount:c,rootCloseEvent:o,variant:f,children:n})]})});Ew.displayName="NavDropdown";const Ha=Object.assign(Ew,{Item:Ur.Item,ItemText:Ur.ItemText,Divider:Ur.Divider,Header:Ur.Header});/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(this,arguments)}var tr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tr||(tr={}));const Wg="popstate";function LR(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return Kh("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ul(i)}return bR(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MR(){return Math.random().toString(36).substr(2,8)}function Hg(t,e){return{usr:t.state,key:t.key,idx:e}}function Kh(t,e,n,r){return n===void 0&&(n=null),js({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?po(e):e,{state:n,key:e&&e.key||r||MR()})}function Ul(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=tr.Pop,u=null,c=f();c==null&&(c=0,s.replaceState(js({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function p(){l=tr.Pop;let P=f(),C=P==null?null:P-c;c=P,u&&u({action:l,location:k.location,delta:C})}function m(P,C){l=tr.Push;let y=Kh(k.location,P,C);c=f()+1;let T=Hg(y,c),D=k.createHref(y);try{s.pushState(T,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}o&&u&&u({action:l,location:k.location,delta:1})}function _(P,C){l=tr.Replace;let y=Kh(k.location,P,C);c=f();let T=Hg(y,c),D=k.createHref(y);s.replaceState(T,"",D),o&&u&&u({action:l,location:k.location,delta:0})}function x(P){let C=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:Ul(P);return y=y.replace(/ $/,"%20"),je(C,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,C)}let k={get action(){return l},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Wg,p),u=P,()=>{i.removeEventListener(Wg,p),u=null}},createHref(P){return e(i,P)},createURL:x,encodeLocation(P){let C=x(P);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:m,replace:_,go(P){return s.go(P)}};return k}var qg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qg||(qg={}));function jR(t,e,n){return n===void 0&&(n="/"),FR(t,e,n,!1)}function FR(t,e,n,r){let i=typeof e=="string"?po(e):e,o=Ld(i.pathname||"/",n);if(o==null)return null;let s=Cw(t);$R(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=YR(o);l=GR(s[u],c,r)}return l}function Cw(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=fr([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Cw(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:KR(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Sw(o.path))i(o,s,u)}),e}function Sw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Sw(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function $R(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const BR=/^:[\w-]+$/,UR=3,zR=2,WR=1,HR=10,qR=-2,Kg=t=>t==="*";function KR(t,e){let n=t.split("/"),r=n.length;return n.some(Kg)&&(r+=qR),e&&(r+=zR),n.filter(i=>!Kg(i)).reduce((i,o)=>i+(BR.test(o)?UR:o===""?WR:HR),r)}function QR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function GR(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=Qg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=Qg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:fr([o,p.pathname]),pathnameBase:tA(fr([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=fr([o,p.pathnameBase]))}return s}function Qg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=XR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:m,isOptional:_}=f;if(m==="*"){let k=l[p]||"";s=o.slice(0,o.length-k.length).replace(/(.)\/+$/,"$1")}const x=l[p];return _&&!x?c[m]=void 0:c[m]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function XR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Tw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function YR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ld(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function JR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?po(t):t;return{pathname:n?n.startsWith("/")?n:ZR(n,e):e,search:nA(r),hash:rA(i)}}function ZR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function eA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Iw(t,e){let n=eA(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=po(t):(i=js({},t),je(!i.pathname||!i.pathname.includes("?"),bc("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),bc("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),bc("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=JR(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const fr=t=>t.join("/").replace(/\/\/+/g,"/"),tA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Rw=["post","put","patch","delete"];new Set(Rw);const oA=["get",...Rw];new Set(oA);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fs.apply(this,arguments)}const Md=E.createContext(null),sA=E.createContext(null),li=E.createContext(null),Su=E.createContext(null),bn=E.createContext({outlet:null,matches:[],isDataRoute:!1}),Aw=E.createContext(null);function aA(t,e){let{relative:n}=e===void 0?{}:e;ia()||je(!1);let{basename:r,navigator:i}=E.useContext(li),{hash:o,pathname:s,search:l}=Nw(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:fr([r,s])),i.createHref({pathname:u,search:l,hash:o})}function ia(){return E.useContext(Su)!=null}function Iu(){return ia()||je(!1),E.useContext(Su).location}function Pw(t){E.useContext(li).static||E.useLayoutEffect(t)}function lA(){let{isDataRoute:t}=E.useContext(bn);return t?CA():uA()}function uA(){ia()||je(!1);let t=E.useContext(Md),{basename:e,future:n,navigator:r}=E.useContext(li),{matches:i}=E.useContext(bn),{pathname:o}=Iu(),s=JSON.stringify(Iw(i,n.v7_relativeSplatPath)),l=E.useRef(!1);return Pw(()=>{l.current=!0}),E.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let p=xw(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:fr([e,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[e,r,s,o,t])}const cA=E.createContext(null);function hA(t){let e=E.useContext(bn).outlet;return e&&E.createElement(cA.Provider,{value:t},e)}function kw(){let{matches:t}=E.useContext(bn),e=t[t.length-1];return e?e.params:{}}function Nw(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=E.useContext(li),{matches:i}=E.useContext(bn),{pathname:o}=Iu(),s=JSON.stringify(Iw(i,r.v7_relativeSplatPath));return E.useMemo(()=>xw(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function fA(t,e){return dA(t,e)}function dA(t,e,n,r){ia()||je(!1);let{navigator:i}=E.useContext(li),{matches:o}=E.useContext(bn),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=Iu(),f;if(e){var p;let P=typeof e=="string"?po(e):e;u==="/"||(p=P.pathname)!=null&&p.startsWith(u)||je(!1),f=P}else f=c;let m=f.pathname||"/",_=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");_="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let x=jR(t,{pathname:_}),k=yA(x&&x.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:fr([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:fr([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&k?E.createElement(Su.Provider,{value:{location:Fs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:tr.Pop}},k):k}function pA(){let t=TA(),e=iA(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,null)}const mA=E.createElement(pA,null);class gA extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?E.createElement(bn.Provider,{value:this.props.routeContext},E.createElement(Aw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vA(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Md);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(bn.Provider,{value:e},r)}function yA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);f>=0||je(!1),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:_}=n,x=p.route.loader&&m[p.route.id]===void 0&&(!_||_[p.route.id]===void 0);if(p.route.lazy||x){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,p,m)=>{let _,x=!1,k=null,P=null;n&&(_=l&&p.route.id?l[p.route.id]:void 0,k=p.route.errorElement||mA,u&&(c<0&&m===0?(x=!0,P=null):c===m&&(x=!0,P=p.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,m+1)),y=()=>{let T;return _?T=k:x?T=P:p.route.Component?T=E.createElement(p.route.Component,null):p.route.element?T=p.route.element:T=f,E.createElement(vA,{match:p,routeContext:{outlet:f,matches:C,isDataRoute:n!=null},children:T})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?E.createElement(gA,{location:n.location,revalidation:n.revalidation,component:k,error:_,children:y(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):y()},null)}var Dw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Dw||{}),zl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zl||{});function _A(t){let e=E.useContext(Md);return e||je(!1),e}function wA(t){let e=E.useContext(sA);return e||je(!1),e}function EA(t){let e=E.useContext(bn);return e||je(!1),e}function Ow(t){let e=EA(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function TA(){var t;let e=E.useContext(Aw),n=wA(zl.UseRouteError),r=Ow(zl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CA(){let{router:t}=_A(Dw.UseNavigateStable),e=Ow(zl.UseNavigateStable),n=E.useRef(!1);return Pw(()=>{n.current=!0}),E.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fs({fromRouteId:e},o)))},[t,e])}function SA(t){return hA(t.context)}function Xo(t){je(!1)}function IA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tr.Pop,navigator:o,static:s=!1,future:l}=t;ia()&&je(!1);let u=e.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:u,navigator:o,static:s,future:Fs({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=po(r));let{pathname:f="/",search:p="",hash:m="",state:_=null,key:x="default"}=r,k=E.useMemo(()=>{let P=Ld(f,u);return P==null?null:{location:{pathname:P,search:p,hash:m,state:_,key:x},navigationType:i}},[u,f,p,m,_,x,i]);return k==null?null:E.createElement(li.Provider,{value:c},E.createElement(Su.Provider,{children:n,value:k}))}function xA(t){let{children:e,location:n}=t;return fA(Qh(e),n)}new Promise(()=>{});function Qh(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Qh(r.props.children,o));return}r.type!==Xo&&je(!1),!r.props.index||!r.props.children||je(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Qh(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}function RA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function PA(t,e){return t.button===0&&(!e||e==="_self")&&!AA(t)}const kA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NA="6";try{window.__reactRouterVersion=NA}catch{}const DA="startTransition",Gg=sT[DA];function OA(t){let{basename:e,children:n,future:r,window:i}=t,o=E.useRef();o.current==null&&(o.current=LR({window:i,v5Compat:!0}));let s=o.current,[l,u]=E.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=E.useCallback(p=>{c&&Gg?Gg(()=>u(p)):u(p)},[u,c]);return E.useLayoutEffect(()=>s.listen(f),[s,f]),E.createElement(IA,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const VA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p}=e,m=RA(e,kA),{basename:_}=E.useContext(li),x,k=!1;if(typeof c=="string"&&LA.test(c)&&(x=c,VA))try{let T=new URL(window.location.href),D=c.startsWith("//")?new URL(T.protocol+c):new URL(c),M=Ld(D.pathname,_);D.origin===T.origin&&M!=null?c=M+D.search+D.hash:k=!0}catch{}let P=aA(c,{relative:i}),C=MA(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function y(T){r&&r(T),T.defaultPrevented||C(T)}return E.createElement("a",Gh({},m,{href:x||P,onClick:k||o?r:y,ref:n,target:u}))});var Xg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Xg||(Xg={}));var Yg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yg||(Yg={}));function MA(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,u=lA(),c=Iu(),f=Nw(t,{relative:s});return E.useCallback(p=>{if(PA(p,n)){p.preventDefault();let m=r!==void 0?r:Ul(c)===Ul(f);u(t,{replace:m,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[c,u,f,r,i,n,t,o,s,l])}const bd=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"card-body"),O.jsx(n,{ref:i,className:Y(t,e),...r})));bd.displayName="CardBody";const Vw=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"card-footer"),O.jsx(n,{ref:i,className:Y(t,e),...r})));Vw.displayName="CardFooter";const Lw=E.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ne(t,"card-header"),s=E.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return O.jsx(yd.Provider,{value:s,children:O.jsx(n,{ref:i,...r,className:Y(e,o)})})});Lw.displayName="CardHeader";const Mw=E.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},o)=>{const s=ne(t,"card-img");return O.jsx(r,{ref:o,className:Y(n?`${s}-${n}`:s,e),...i})});Mw.displayName="CardImg";const bw=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=ne(e,"card-img-overlay"),O.jsx(n,{ref:i,className:Y(t,e),...r})));bw.displayName="CardImgOverlay";const jw=E.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=ne(e,"card-link"),O.jsx(n,{ref:i,className:Y(t,e),...r})));jw.displayName="CardLink";const bA=Id("h6"),Fw=E.forwardRef(({className:t,bsPrefix:e,as:n=bA,...r},i)=>(e=ne(e,"card-subtitle"),O.jsx(n,{ref:i,className:Y(t,e),...r})));Fw.displayName="CardSubtitle";const $w=E.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=ne(e,"card-text"),O.jsx(n,{ref:i,className:Y(t,e),...r})));$w.displayName="CardText";const jA=Id("h5"),Bw=E.forwardRef(({className:t,bsPrefix:e,as:n=jA,...r},i)=>(e=ne(e,"card-title"),O.jsx(n,{ref:i,className:Y(t,e),...r})));Bw.displayName="CardTitle";const Uw=E.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:o=!1,children:s,as:l="div",...u},c)=>{const f=ne(t,"card");return O.jsx(l,{ref:c,...u,className:Y(e,f,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:o?O.jsx(bd,{children:s}):s})});Uw.displayName="Card";const bt=Object.assign(Uw,{Img:Mw,Title:Bw,Subtitle:Fw,Body:bd,Link:jw,Text:$w,Header:Lw,Footer:Vw,ImgOverlay:bw});function FA({as:t,bsPrefix:e,className:n,...r}){e=ne(e,"col");const i=p_(),o=m_(),s=[],l=[];return i.forEach(u=>{const c=r[u];delete r[u];let f,p,m;typeof c=="object"&&c!=null?{span:f,offset:p,order:m}=c:f=c;const _=u!==o?`-${u}`:"";f&&s.push(f===!0?`${e}${_}`:`${e}${_}-${f}`),m!=null&&l.push(`order${_}-${m}`),p!=null&&l.push(`offset${_}-${p}`)}),[{...r,className:Y(n,...s,...l)},{as:t,bsPrefix:e,spans:s}]}const Wl=E.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:o,spans:s}]=FA(t);return O.jsx(i,{...r,ref:e,className:Y(n,!s.length&&o)})});Wl.displayName="Col";Yn.string,Yn.bool,Yn.bool,Yn.bool,Yn.bool;const zw=E.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:o=!1,...s},l)=>(t=ne(t,"img"),O.jsx("img",{ref:l,...s,className:Y(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",o&&`${t}-thumbnail`)})));zw.displayName="Image";const Ww=E.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const o=ne(t,"row"),s=p_(),l=m_(),u=`${o}-cols`,c=[];return s.forEach(f=>{const p=r[f];delete r[f];let m;p!=null&&typeof p=="object"?{cols:m}=p:m=p;const _=f!==l?`-${f}`:"";m!=null&&c.push(`${u}${_}-${m}`)}),O.jsx(n,{ref:i,...r,className:Y(e,o,...c)})});Ww.displayName="Row";const $A=({id:t,title:e,price:n,stock:r,image:i})=>{const{remove:o}=E.useContext(ea);return O.jsx(ho,{fluid:!0,className:"itemInCart",children:O.jsx("div",{children:O.jsxs(bt,{style:{width:"100%",display:"flex",flexDirection:"row"},className:"cardImage",children:[O.jsx(Wl,{xs:6,md:3,children:O.jsx(zw,{src:i,thumbnail:!0})}),O.jsxs(Wl,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[O.jsx("span",{children:e}),O.jsxs("span",{children:["Cantidad: ",r]}),O.jsxs("span",{children:["Subtotal: ",`$ ${(r*n).toFixed(2)}`]}),O.jsx(Kr,{variant:"primary",onClick:()=>o(t),children:""})]})]})})})},BA=()=>{const{listCart:t,clearCart:e}=E.useContext(ea),{showCart:n,setShowCart:r}=E.useContext(pd),i={display:n},o=()=>{r(n==="none"?"flex":"none")};return O.jsxs(ho,{className:"container-cart",style:i,children:[O.jsxs("div",{className:"containerClose",children:[O.jsx(Kr,{onClick:o,className:"closeButton",children:O.jsx("h6",{children:""})}),O.jsx("h4",{style:{color:"black",textAlign:"left"},children:"This is your product list:"})]}),O.jsx("div",{children:t.length===0?O.jsx("span",{className:"emptyCart",children:"Your cart is empty, Let's find some products!."}):O.jsx("div",{className:"contenedorLista",children:t.map(s=>O.jsx(O.Fragment,{children:O.jsx($A,{id:s.id,title:s.title,image:s.image,stock:s.stock,price:s.price},s.id)}))})}),O.jsxs("div",{className:"containerBtnCart",children:[O.jsx(Kr,{children:"Checkout"}),O.jsx(Kr,{onClick:e,children:O.jsx("h6",{children:""})})]})]})},UA=()=>O.jsx(_S,{children:O.jsxs(O.Fragment,{children:[O.jsx(Vc,{bg:"dark","data-bs-theme":"dark",expand:"lg",children:O.jsxs(ho,{children:[O.jsxs(Hn,{to:"/",className:"navbar-brand",children:[O.jsx("img",{src:vS,width:"40",height:"40",className:"d-inline-block align-top",alt:"Logo Tienda"})," ","Richard Store"]}),O.jsx(Vc.Toggle,{"aria-controls":"basic-navbar-nav",className:"navIcon"}),O.jsx(Vc.Collapse,{id:"basic-navbar-nav",className:"navIcon",children:O.jsxs(YS,{className:"ms-auto",children:[O.jsx(Hn,{to:"/",className:"nav-link",children:"Inicio"}),O.jsxs(Ha,{title:"Categoras",id:"basic-nav-dropdown",children:[O.jsx(Hn,{to:"/category/Hombres",className:"dropdown-item",children:"Hombres"}),O.jsx(Ha.Divider,{}),O.jsx(Hn,{to:"/category/Mujeres",className:"dropdown-item",children:"Mujeres"}),O.jsx(Ha.Divider,{}),O.jsx(Hn,{to:"/category/Ninos",className:"dropdown-item",children:"Nios"}),O.jsx(Ha.Divider,{}),O.jsx(Hn,{to:"/category/Mascotas",className:"dropdown-item",children:"Mascotas"})]}),O.jsx(Hn,{to:"/contacto",className:"nav-link",children:"Contacto"}),O.jsx(wS,{}),O.jsx(BA,{})]})})]})}),O.jsx(SA,{})]})}),Hw=({id:t})=>{let{addProduct:e}=E.useContext(ea);return O.jsx(Kr,{variant:"outline-primary",id:"addCart",onClick:()=>e(t),children:O.jsx("h6",{children:""})})};function zA(t){return O.jsx(Wl,{className:"columna",children:O.jsxs(bt,{style:{width:"18rem"},children:[O.jsx(bt.Img,{variant:"top",src:t.image}),O.jsxs(bt.Body,{children:[O.jsx(bt.Title,{children:t.title}),O.jsx(bt.Text,{children:t.category}),O.jsxs("h6",{className:"card-price",variant:"primary",children:["$ ",t.price]}),O.jsxs("div",{className:"card-buttons",children:[O.jsx(Hn,{className:"btn btn-primary btn-lg",to:`/item/${t.id}`,children:"See More"})," ",O.jsx(Hw,{id:t.id})]})]})]})})}var Jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,_=c&63;u||(_=64,s||(m=64)),r.push(n[f],n[p],n[m],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new HA;const m=o<<2|l>>4;if(r.push(m),c!==64){const _=l<<4&240|c>>2;if(r.push(_),p!==64){const x=c<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(t){const e=qw(t);return Kw.encodeByteArray(e,!0)},Hl=function(t){return qA(t).replace(/\./g,"")},KA=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=()=>QA().__FIREBASE_DEFAULTS__,XA=()=>{if(typeof process>"u"||typeof Jg>"u")return;const t=Jg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KA(t[1]);return e&&JSON.parse(e)},jd=()=>{try{return GA()||XA()||YA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JA=t=>{var e,n;return(n=(e=jd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ZA=t=>{const e=JA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qw=()=>{var t;return(t=jd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hl(JSON.stringify(n)),Hl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rP(){var t;const e=(t=jd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iP(){return!rP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oP(){try{return typeof indexedDB=="object"}catch{return!1}}function sP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="FirebaseError";class mo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aP,Object.setPrototypeOf(this,mo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gw.prototype.create)}}class Gw{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?lP(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new mo(i,l,r)}}function lP(t,e){return t.replace(uP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uP=/\{\$([^}]+)}/g;function Xh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Zg(o)&&Zg(s)){if(!Xh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fP(e))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jr){return this.instances.has(e)}getOptions(e=jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jr){return this.component?this.component.multipleInstances?e:jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hP(t){return t===jr?void 0:t}function fP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const pP={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},mP=oe.INFO,gP={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},vP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=gP[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xw{constructor(e){this.name=e,this._logLevel=mP,this._logHandler=vP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const yP=(t,e)=>e.some(n=>t instanceof n);let ev,tv;function _P(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wP(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Yw=new WeakMap,Yh=new WeakMap,Jw=new WeakMap,jc=new WeakMap,Fd=new WeakMap;function EP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(dr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Yw.set(n,t)}).catch(()=>{}),Fd.set(e,t),e}function TP(t){if(Yh.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Yh.set(t,e)}let Jh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CP(t){Jh=t(Jh)}function SP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fc(this),e,...n);return Jw.set(r,e.sort?e.sort():[e]),dr(r)}:wP().includes(t)?function(...e){return t.apply(Fc(this),e),dr(Yw.get(this))}:function(...e){return dr(t.apply(Fc(this),e))}}function IP(t){return typeof t=="function"?SP(t):(t instanceof IDBTransaction&&TP(t),yP(t,_P())?new Proxy(t,Jh):t)}function dr(t){if(t instanceof IDBRequest)return EP(t);if(jc.has(t))return jc.get(t);const e=IP(t);return e!==t&&(jc.set(t,e),Fd.set(e,t)),e}const Fc=t=>Fd.get(t);function xP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=dr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(dr(s.result),u.oldVersion,u.newVersion,dr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const RP=["get","getKey","getAll","getAllKeys","count"],AP=["put","add","delete","clear"],$c=new Map;function nv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($c.get(e))return $c.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RP.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return $c.set(e,o),o}CP(t=>({...t,get:(e,n,r)=>nv(e,n)||t.get(e,n,r),has:(e,n)=>!!nv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zh="@firebase/app",rv="0.10.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new Xw("@firebase/app"),NP="@firebase/app-compat",DP="@firebase/analytics-compat",OP="@firebase/analytics",VP="@firebase/app-check-compat",LP="@firebase/app-check",MP="@firebase/auth",bP="@firebase/auth-compat",jP="@firebase/database",FP="@firebase/data-connect",$P="@firebase/database-compat",BP="@firebase/functions",UP="@firebase/functions-compat",zP="@firebase/installations",WP="@firebase/installations-compat",HP="@firebase/messaging",qP="@firebase/messaging-compat",KP="@firebase/performance",QP="@firebase/performance-compat",GP="@firebase/remote-config",XP="@firebase/remote-config-compat",YP="@firebase/storage",JP="@firebase/storage-compat",ZP="@firebase/firestore",e2="@firebase/vertexai",t2="@firebase/firestore-compat",n2="firebase",r2="11.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="[DEFAULT]",i2={[Zh]:"fire-core",[NP]:"fire-core-compat",[OP]:"fire-analytics",[DP]:"fire-analytics-compat",[LP]:"fire-app-check",[VP]:"fire-app-check-compat",[MP]:"fire-auth",[bP]:"fire-auth-compat",[jP]:"fire-rtdb",[FP]:"fire-data-connect",[$P]:"fire-rtdb-compat",[BP]:"fire-fn",[UP]:"fire-fn-compat",[zP]:"fire-iid",[WP]:"fire-iid-compat",[HP]:"fire-fcm",[qP]:"fire-fcm-compat",[KP]:"fire-perf",[QP]:"fire-perf-compat",[GP]:"fire-rc",[XP]:"fire-rc-compat",[YP]:"fire-gcs",[JP]:"fire-gcs-compat",[ZP]:"fire-fst",[t2]:"fire-fst-compat",[e2]:"fire-vertex","fire-js":"fire-js",[n2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=new Map,o2=new Map,tf=new Map;function iv(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kl(t){const e=t.name;if(tf.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;tf.set(e,t);for(const n of ql.values())iv(n,t);for(const n of o2.values())iv(n,t);return!0}function s2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new Gw("app","Firebase",a2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=r2;function Zw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ef,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=Qw()),!n)throw pr.create("no-options");const o=ql.get(i);if(o){if(Xh(n,o.options)&&Xh(r,o.config))return o;throw pr.create("duplicate-app",{appName:i})}const s=new dP(i);for(const u of tf.values())s.addComponent(u);const l=new l2(n,r,s);return ql.set(i,l),l}function c2(t=ef){const e=ql.get(t);if(!e&&t===ef&&Qw())return Zw();if(!e)throw pr.create("no-app",{appName:t});return e}function Bi(t,e,n){var r;let i=(r=i2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(l.join(" "));return}Kl(new Bs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firebase-heartbeat-database",f2=1,Us="firebase-heartbeat-store";let Bc=null;function eE(){return Bc||(Bc=xP(h2,f2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Us)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Bc}async function d2(t){try{const n=(await eE()).transaction(Us),r=await n.objectStore(Us).get(tE(t));return await n.done,r}catch(e){if(e instanceof mo)On.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});On.warn(n.message)}}}async function ov(t,e){try{const r=(await eE()).transaction(Us,"readwrite");await r.objectStore(Us).put(e,tE(t)),await r.done}catch(n){if(n instanceof mo)On.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});On.warn(r.message)}}}function tE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1024,m2=30*24*60*60*1e3;class g2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new y2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=m2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){On.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sv(),{heartbeatsToSend:r,unsentEntries:i}=v2(this._heartbeatsCache.heartbeats),o=Hl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return On.warn(n),""}}}function sv(){return new Date().toISOString().substring(0,10)}function v2(t,e=p2){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),av(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),av(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class y2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oP()?sP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await d2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function av(t){return Hl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){Kl(new Bs("platform-logger",e=>new PP(e),"PRIVATE")),Kl(new Bs("heartbeat",e=>new g2(e),"PRIVATE")),Bi(Zh,rv,t),Bi(Zh,rv,"esm2017"),Bi("fire-js","")}_2("");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,nE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,g){function S(){}S.prototype=g.prototype,w.D=g.prototype,w.prototype=new S,w.prototype.constructor=w,w.C=function(R,A,N){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return g.prototype[A].apply(R,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,g,S){S||(S=0);var R=Array(16);if(typeof g=="string")for(var A=0;16>A;++A)R[A]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(A=0;16>A;++A)R[A]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=w.g[0],S=w.g[1],A=w.g[2];var N=w.g[3],I=g+(N^S&(A^N))+R[0]+3614090360&4294967295;g=S+(I<<7&4294967295|I>>>25),I=N+(A^g&(S^A))+R[1]+3905402710&4294967295,N=g+(I<<12&4294967295|I>>>20),I=A+(S^N&(g^S))+R[2]+606105819&4294967295,A=N+(I<<17&4294967295|I>>>15),I=S+(g^A&(N^g))+R[3]+3250441966&4294967295,S=A+(I<<22&4294967295|I>>>10),I=g+(N^S&(A^N))+R[4]+4118548399&4294967295,g=S+(I<<7&4294967295|I>>>25),I=N+(A^g&(S^A))+R[5]+1200080426&4294967295,N=g+(I<<12&4294967295|I>>>20),I=A+(S^N&(g^S))+R[6]+2821735955&4294967295,A=N+(I<<17&4294967295|I>>>15),I=S+(g^A&(N^g))+R[7]+4249261313&4294967295,S=A+(I<<22&4294967295|I>>>10),I=g+(N^S&(A^N))+R[8]+1770035416&4294967295,g=S+(I<<7&4294967295|I>>>25),I=N+(A^g&(S^A))+R[9]+2336552879&4294967295,N=g+(I<<12&4294967295|I>>>20),I=A+(S^N&(g^S))+R[10]+4294925233&4294967295,A=N+(I<<17&4294967295|I>>>15),I=S+(g^A&(N^g))+R[11]+2304563134&4294967295,S=A+(I<<22&4294967295|I>>>10),I=g+(N^S&(A^N))+R[12]+1804603682&4294967295,g=S+(I<<7&4294967295|I>>>25),I=N+(A^g&(S^A))+R[13]+4254626195&4294967295,N=g+(I<<12&4294967295|I>>>20),I=A+(S^N&(g^S))+R[14]+2792965006&4294967295,A=N+(I<<17&4294967295|I>>>15),I=S+(g^A&(N^g))+R[15]+1236535329&4294967295,S=A+(I<<22&4294967295|I>>>10),I=g+(A^N&(S^A))+R[1]+4129170786&4294967295,g=S+(I<<5&4294967295|I>>>27),I=N+(S^A&(g^S))+R[6]+3225465664&4294967295,N=g+(I<<9&4294967295|I>>>23),I=A+(g^S&(N^g))+R[11]+643717713&4294967295,A=N+(I<<14&4294967295|I>>>18),I=S+(N^g&(A^N))+R[0]+3921069994&4294967295,S=A+(I<<20&4294967295|I>>>12),I=g+(A^N&(S^A))+R[5]+3593408605&4294967295,g=S+(I<<5&4294967295|I>>>27),I=N+(S^A&(g^S))+R[10]+38016083&4294967295,N=g+(I<<9&4294967295|I>>>23),I=A+(g^S&(N^g))+R[15]+3634488961&4294967295,A=N+(I<<14&4294967295|I>>>18),I=S+(N^g&(A^N))+R[4]+3889429448&4294967295,S=A+(I<<20&4294967295|I>>>12),I=g+(A^N&(S^A))+R[9]+568446438&4294967295,g=S+(I<<5&4294967295|I>>>27),I=N+(S^A&(g^S))+R[14]+3275163606&4294967295,N=g+(I<<9&4294967295|I>>>23),I=A+(g^S&(N^g))+R[3]+4107603335&4294967295,A=N+(I<<14&4294967295|I>>>18),I=S+(N^g&(A^N))+R[8]+1163531501&4294967295,S=A+(I<<20&4294967295|I>>>12),I=g+(A^N&(S^A))+R[13]+2850285829&4294967295,g=S+(I<<5&4294967295|I>>>27),I=N+(S^A&(g^S))+R[2]+4243563512&4294967295,N=g+(I<<9&4294967295|I>>>23),I=A+(g^S&(N^g))+R[7]+1735328473&4294967295,A=N+(I<<14&4294967295|I>>>18),I=S+(N^g&(A^N))+R[12]+2368359562&4294967295,S=A+(I<<20&4294967295|I>>>12),I=g+(S^A^N)+R[5]+4294588738&4294967295,g=S+(I<<4&4294967295|I>>>28),I=N+(g^S^A)+R[8]+2272392833&4294967295,N=g+(I<<11&4294967295|I>>>21),I=A+(N^g^S)+R[11]+1839030562&4294967295,A=N+(I<<16&4294967295|I>>>16),I=S+(A^N^g)+R[14]+4259657740&4294967295,S=A+(I<<23&4294967295|I>>>9),I=g+(S^A^N)+R[1]+2763975236&4294967295,g=S+(I<<4&4294967295|I>>>28),I=N+(g^S^A)+R[4]+1272893353&4294967295,N=g+(I<<11&4294967295|I>>>21),I=A+(N^g^S)+R[7]+4139469664&4294967295,A=N+(I<<16&4294967295|I>>>16),I=S+(A^N^g)+R[10]+3200236656&4294967295,S=A+(I<<23&4294967295|I>>>9),I=g+(S^A^N)+R[13]+681279174&4294967295,g=S+(I<<4&4294967295|I>>>28),I=N+(g^S^A)+R[0]+3936430074&4294967295,N=g+(I<<11&4294967295|I>>>21),I=A+(N^g^S)+R[3]+3572445317&4294967295,A=N+(I<<16&4294967295|I>>>16),I=S+(A^N^g)+R[6]+76029189&4294967295,S=A+(I<<23&4294967295|I>>>9),I=g+(S^A^N)+R[9]+3654602809&4294967295,g=S+(I<<4&4294967295|I>>>28),I=N+(g^S^A)+R[12]+3873151461&4294967295,N=g+(I<<11&4294967295|I>>>21),I=A+(N^g^S)+R[15]+530742520&4294967295,A=N+(I<<16&4294967295|I>>>16),I=S+(A^N^g)+R[2]+3299628645&4294967295,S=A+(I<<23&4294967295|I>>>9),I=g+(A^(S|~N))+R[0]+4096336452&4294967295,g=S+(I<<6&4294967295|I>>>26),I=N+(S^(g|~A))+R[7]+1126891415&4294967295,N=g+(I<<10&4294967295|I>>>22),I=A+(g^(N|~S))+R[14]+2878612391&4294967295,A=N+(I<<15&4294967295|I>>>17),I=S+(N^(A|~g))+R[5]+4237533241&4294967295,S=A+(I<<21&4294967295|I>>>11),I=g+(A^(S|~N))+R[12]+1700485571&4294967295,g=S+(I<<6&4294967295|I>>>26),I=N+(S^(g|~A))+R[3]+2399980690&4294967295,N=g+(I<<10&4294967295|I>>>22),I=A+(g^(N|~S))+R[10]+4293915773&4294967295,A=N+(I<<15&4294967295|I>>>17),I=S+(N^(A|~g))+R[1]+2240044497&4294967295,S=A+(I<<21&4294967295|I>>>11),I=g+(A^(S|~N))+R[8]+1873313359&4294967295,g=S+(I<<6&4294967295|I>>>26),I=N+(S^(g|~A))+R[15]+4264355552&4294967295,N=g+(I<<10&4294967295|I>>>22),I=A+(g^(N|~S))+R[6]+2734768916&4294967295,A=N+(I<<15&4294967295|I>>>17),I=S+(N^(A|~g))+R[13]+1309151649&4294967295,S=A+(I<<21&4294967295|I>>>11),I=g+(A^(S|~N))+R[4]+4149444226&4294967295,g=S+(I<<6&4294967295|I>>>26),I=N+(S^(g|~A))+R[11]+3174756917&4294967295,N=g+(I<<10&4294967295|I>>>22),I=A+(g^(N|~S))+R[2]+718787259&4294967295,A=N+(I<<15&4294967295|I>>>17),I=S+(N^(A|~g))+R[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,w.g[2]=w.g[2]+A&4294967295,w.g[3]=w.g[3]+N&4294967295}r.prototype.u=function(w,g){g===void 0&&(g=w.length);for(var S=g-this.blockSize,R=this.B,A=this.h,N=0;N<g;){if(A==0)for(;N<=S;)i(this,w,N),N+=this.blockSize;if(typeof w=="string"){for(;N<g;)if(R[A++]=w.charCodeAt(N++),A==this.blockSize){i(this,R),A=0;break}}else for(;N<g;)if(R[A++]=w[N++],A==this.blockSize){i(this,R),A=0;break}}this.h=A,this.o+=g},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;var S=8*this.o;for(g=w.length-8;g<w.length;++g)w[g]=S&255,S/=256;for(this.u(w),w=Array(16),g=S=0;4>g;++g)for(var R=0;32>R;R+=8)w[S++]=this.g[g]>>>R&255;return w};function o(w,g){var S=l;return Object.prototype.hasOwnProperty.call(S,w)?S[w]:S[w]=g(w)}function s(w,g){this.h=g;for(var S=[],R=!0,A=w.length-1;0<=A;A--){var N=w[A]|0;R&&N==g||(S[A]=N,R=!1)}this.g=S}var l={};function u(w){return-128<=w&&128>w?o(w,function(g){return new s([g|0],0>g?-1:0)}):new s([w|0],0>w?-1:0)}function c(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return P(c(-w));for(var g=[],S=1,R=0;w>=S;R++)g[R]=w/S|0,S*=4294967296;return new s(g,0)}function f(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return P(f(w.substring(1),g));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(g,8)),R=p,A=0;A<w.length;A+=8){var N=Math.min(8,w.length-A),I=parseInt(w.substring(A,A+N),g);8>N?(N=c(Math.pow(g,N)),R=R.j(N).add(c(I))):(R=R.j(S),R=R.add(c(I)))}return R}var p=u(0),m=u(1),_=u(16777216);t=s.prototype,t.m=function(){if(k(this))return-P(this).m();for(var w=0,g=1,S=0;S<this.g.length;S++){var R=this.i(S);w+=(0<=R?R:4294967296+R)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x(this))return"0";if(k(this))return"-"+P(this).toString(w);for(var g=c(Math.pow(w,6)),S=this,R="";;){var A=D(S,g).g;S=C(S,A.j(g));var N=((0<S.g.length?S.g[0]:S.h)>>>0).toString(w);if(S=A,x(S))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function x(w){if(w.h!=0)return!1;for(var g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function k(w){return w.h==-1}t.l=function(w){return w=C(this,w),k(w)?-1:x(w)?0:1};function P(w){for(var g=w.g.length,S=[],R=0;R<g;R++)S[R]=~w.g[R];return new s(S,~w.h).add(m)}t.abs=function(){return k(this)?P(this):this},t.add=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],R=0,A=0;A<=g;A++){var N=R+(this.i(A)&65535)+(w.i(A)&65535),I=(N>>>16)+(this.i(A)>>>16)+(w.i(A)>>>16);R=I>>>16,N&=65535,I&=65535,S[A]=I<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function C(w,g){return w.add(P(g))}t.j=function(w){if(x(this)||x(w))return p;if(k(this))return k(w)?P(this).j(P(w)):P(P(this).j(w));if(k(w))return P(this.j(P(w)));if(0>this.l(_)&&0>w.l(_))return c(this.m()*w.m());for(var g=this.g.length+w.g.length,S=[],R=0;R<2*g;R++)S[R]=0;for(R=0;R<this.g.length;R++)for(var A=0;A<w.g.length;A++){var N=this.i(R)>>>16,I=this.i(R)&65535,ee=w.i(A)>>>16,me=w.i(A)&65535;S[2*R+2*A]+=I*me,y(S,2*R+2*A),S[2*R+2*A+1]+=N*me,y(S,2*R+2*A+1),S[2*R+2*A+1]+=I*ee,y(S,2*R+2*A+1),S[2*R+2*A+2]+=N*ee,y(S,2*R+2*A+2)}for(R=0;R<g;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=g;R<2*g;R++)S[R]=0;return new s(S,0)};function y(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function T(w,g){this.g=w,this.h=g}function D(w,g){if(x(g))throw Error("division by zero");if(x(w))return new T(p,p);if(k(w))return g=D(P(w),g),new T(P(g.g),P(g.h));if(k(g))return g=D(w,P(g)),new T(P(g.g),g.h);if(30<w.g.length){if(k(w)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var S=m,R=g;0>=R.l(w);)S=M(S),R=M(R);var A=L(S,1),N=L(R,1);for(R=L(R,2),S=L(S,2);!x(R);){var I=N.add(R);0>=I.l(w)&&(A=A.add(S),N=I),R=L(R,1),S=L(S,1)}return g=C(w,A.j(g)),new T(A,g)}for(A=p;0<=w.l(g);){for(S=Math.max(1,Math.floor(w.m()/g.m())),R=Math.ceil(Math.log(S)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=c(S),I=N.j(g);k(I)||0<I.l(w);)S-=R,N=c(S),I=N.j(g);x(N)&&(N=m),A=A.add(N),w=C(w,I)}return new T(A,w)}t.A=function(w){return D(this,w).h},t.and=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],R=0;R<g;R++)S[R]=this.i(R)&w.i(R);return new s(S,this.h&w.h)},t.or=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],R=0;R<g;R++)S[R]=this.i(R)|w.i(R);return new s(S,this.h|w.h)},t.xor=function(w){for(var g=Math.max(this.g.length,w.g.length),S=[],R=0;R<g;R++)S[R]=this.i(R)^w.i(R);return new s(S,this.h^w.h)};function M(w){for(var g=w.g.length+1,S=[],R=0;R<g;R++)S[R]=w.i(R)<<1|w.i(R-1)>>>31;return new s(S,w.h)}function L(w,g){var S=g>>5;g%=32;for(var R=w.g.length-S,A=[],N=0;N<R;N++)A[N]=0<g?w.i(N+S)>>>g|w.i(N+S+1)<<32-g:w.i(N+S);return new s(A,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Qr=s}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rE,Yo,iE,ul,nf,oE,sE,aE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof qa=="object"&&qa];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var V=a[v];if(!(V in d))break e;d=d[V]}a=a[a.length-1],v=d[a],h=h(v),h!=v&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var d=0,v=!1,V={next:function(){if(!v&&d<a.length){var b=d++;return{value:h(b,a[b]),done:!1}}return v=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,v),a.apply(h,V)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function _(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var v=d.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function x(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(v,V,b){for(var U=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)U[ve-2]=arguments[ve];return h.prototype[V].apply(v,U)}}function k(a){const h=a.length;if(0<h){const d=Array(h);for(let v=0;v<h;v++)d[v]=a[v];return d}return[]}function P(a,h){for(let d=1;d<arguments.length;d++){const v=arguments[d];if(u(v)){const V=a.length||0,b=v.length||0;a.length=V+b;for(let U=0;U<b;U++)a[V+U]=v[U]}else a.push(v)}}class C{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var M=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(a,h,d){for(const v in a)h.call(d,a[v],v,a)}function w(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function g(a){const h={};for(const d in a)h[d]=a[d];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,h){let d,v;for(let V=1;V<arguments.length;V++){v=arguments[V];for(d in v)a[d]=v[d];for(let b=0;b<S.length;b++)d=S[b],Object.prototype.hasOwnProperty.call(v,d)&&(a[d]=v[d])}}function A(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function N(a){l.setTimeout(()=>{throw a},0)}function I(){var a=K;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ee{constructor(){this.h=this.g=null}add(h,d){const v=me.get();v.set(h,d),this.h?this.h.next=v:this.g=v,this.h=v}}var me=new C(()=>new ae,a=>a.reset());class ae{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,F=!1,K=new ee,q=()=>{const a=l.Promise.resolve(void 0);fe=()=>{a.then(te)}};var te=()=>{for(var a;a=I();){try{a.h.call(a.g)}catch(d){N(d)}var h=me;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}F=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function ye(a,h){if(re.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(M){e:{try{D(h.nodeName);var V=!0;break e}catch{}V=!1}V||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Qe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ye.aa.h.call(this)}}x(ye,re);var Qe={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function vn(a,h,d,v,V){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!v,this.ha=V,this.key=++Wt,this.da=this.fa=!1}function nn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function rn(a){this.src=a,this.g={},this.h=0}rn.prototype.add=function(a,h,d,v,V){var b=a.toString();a=this.g[b],a||(a=this.g[b]=[],this.h++);var U=on(a,h,v,V);return-1<U?(h=a[U],d||(h.fa=!1)):(h=new vn(h,this.src,b,!!v,V),h.fa=d,a.push(h)),h};function jn(a,h){var d=h.type;if(d in a.g){var v=a.g[d],V=Array.prototype.indexOf.call(v,h,void 0),b;(b=0<=V)&&Array.prototype.splice.call(v,V,1),b&&(nn(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function on(a,h,d,v){for(var V=0;V<a.length;++V){var b=a[V];if(!b.da&&b.listener==h&&b.capture==!!d&&b.ha==v)return V}return-1}var sn="closure_lm_"+(1e6*Math.random()|0),ge={};function Fn(a,h,d,v,V){if(Array.isArray(h)){for(var b=0;b<h.length;b++)Fn(a,h[b],d,v,V);return null}return d=Eo(d),a&&a[nt]?a.K(h,d,c(v)?!!v.capture:!!v,V):$n(a,h,d,!1,v,V)}function $n(a,h,d,v,V,b){if(!h)throw Error("Invalid event type");var U=c(V)?!!V.capture:!!V,ve=ci(a);if(ve||(a[sn]=ve=new rn(a)),d=ve.add(h,d,v,U,b),d.proxy)return d;if(v=$u(),d.proxy=v,v.src=a,v.listener=d,a.addEventListener)de||(V=U),V===void 0&&(V=!1),a.addEventListener(h.toString(),v,V);else if(a.attachEvent)a.attachEvent(Pr(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return d}function $u(){function a(d){return h.call(a.src,a.listener,d)}const h=ca;return a}function ua(a,h,d,v,V){if(Array.isArray(h))for(var b=0;b<h.length;b++)ua(a,h[b],d,v,V);else v=c(v)?!!v.capture:!!v,d=Eo(d),a&&a[nt]?(a=a.i,h=String(h).toString(),h in a.g&&(b=a.g[h],d=on(b,d,v,V),-1<d&&(nn(b[d]),Array.prototype.splice.call(b,d,1),b.length==0&&(delete a.g[h],a.h--)))):a&&(a=ci(a))&&(h=a.g[h.toString()],a=-1,h&&(a=on(h,d,v,V)),(d=-1<a?h[a]:null)&&Ht(d))}function Ht(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[nt])jn(h.i,a);else{var d=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(d,v,a.capture):h.detachEvent?h.detachEvent(Pr(d),v):h.addListener&&h.removeListener&&h.removeListener(v),(d=ci(h))?(jn(d,a),d.h==0&&(d.src=null,h[sn]=null)):nn(a)}}}function Pr(a){return a in ge?ge[a]:ge[a]="on"+a}function ca(a,h){if(a.da)a=!0;else{h=new ye(h,this);var d=a.listener,v=a.ha||a.src;a.fa&&Ht(a),a=d.call(v,h)}return a}function ci(a){return a=a[sn],a instanceof rn?a:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eo(a){return typeof a=="function"?a:(a[kr]||(a[kr]=function(h){return a.handleEvent(h)}),a[kr])}function Fe(){J.call(this),this.i=new rn(this),this.M=this,this.F=null}x(Fe,J),Fe.prototype[nt]=!0,Fe.prototype.removeEventListener=function(a,h,d,v){ua(this,a,h,d,v)};function Ue(a,h){var d,v=a.F;if(v)for(d=[];v;v=v.F)d.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new re(h,a);else if(h instanceof re)h.target=h.target||a;else{var V=h;h=new re(v,a),R(h,V)}if(V=!0,d)for(var b=d.length-1;0<=b;b--){var U=h.g=d[b];V=Nr(U,v,!0,h)&&V}if(U=h.g=a,V=Nr(U,v,!0,h)&&V,V=Nr(U,v,!1,h)&&V,d)for(b=0;b<d.length;b++)U=h.g=d[b],V=Nr(U,v,!1,h)&&V}Fe.prototype.N=function(){if(Fe.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],v=0;v<d.length;v++)nn(d[v]);delete a.g[h],a.h--}}this.F=null},Fe.prototype.K=function(a,h,d,v){return this.i.add(String(a),h,!1,d,v)},Fe.prototype.L=function(a,h,d,v){return this.i.add(String(a),h,!0,d,v)};function Nr(a,h,d,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var V=!0,b=0;b<h.length;++b){var U=h[b];if(U&&!U.da&&U.capture==d){var ve=U.listener,Ge=U.ha||U.src;U.fa&&jn(a.i,U),V=ve.call(Ge,v)!==!1&&V}}return V&&!v.defaultPrevented}function pp(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function mp(a){a.g=pp(()=>{a.g=null,a.i&&(a.i=!1,mp(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class y1 extends J{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:mp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(a){J.call(this),this.h=a,this.g={}}x(To,J);var gp=[];function vp(a){L(a.g,function(h,d){this.g.hasOwnProperty(d)&&Ht(h)},a),a.g={}}To.prototype.N=function(){To.aa.N.call(this),vp(this)},To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bu=l.JSON.stringify,_1=l.JSON.parse,w1=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Uu(){}Uu.prototype.h=null;function yp(a){return a.h||(a.h=a.i())}function _p(){}var Co={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zu(){re.call(this,"d")}x(zu,re);function Wu(){re.call(this,"c")}x(Wu,re);var Dr={},wp=null;function ha(){return wp=wp||new Fe}Dr.La="serverreachability";function Ep(a){re.call(this,Dr.La,a)}x(Ep,re);function So(a){const h=ha();Ue(h,new Ep(h))}Dr.STAT_EVENT="statevent";function Tp(a,h){re.call(this,Dr.STAT_EVENT,a),this.stat=h}x(Tp,re);function dt(a){const h=ha();Ue(h,new Tp(h,a))}Dr.Ma="timingevent";function Cp(a,h){re.call(this,Dr.Ma,a),this.size=h}x(Cp,re);function Io(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function xo(){this.g=!0}xo.prototype.xa=function(){this.g=!1};function E1(a,h,d,v,V,b){a.info(function(){if(a.g)if(b)for(var U="",ve=b.split("&"),Ge=0;Ge<ve.length;Ge++){var he=ve[Ge].split("=");if(1<he.length){var rt=he[0];he=he[1];var it=rt.split("_");U=2<=it.length&&it[1]=="type"?U+(rt+"="+he+"&"):U+(rt+"=redacted&")}}else U=null;else U=b;return"XMLHTTP REQ ("+v+") [attempt "+V+"]: "+h+`
`+d+`
`+U})}function T1(a,h,d,v,V,b,U){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+V+"]: "+h+`
`+d+`
`+b+" "+U})}function hi(a,h,d,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+S1(a,d)+(v?" "+v:"")})}function C1(a,h){a.info(function(){return"TIMEOUT: "+h})}xo.prototype.info=function(){};function S1(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var v=d[a];if(!(2>v.length)){var V=v[1];if(Array.isArray(V)&&!(1>V.length)){var b=V[0];if(b!="noop"&&b!="stop"&&b!="close")for(var U=1;U<V.length;U++)V[U]=""}}}}return Bu(d)}catch{return h}}var fa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Sp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hu;function da(){}x(da,Uu),da.prototype.g=function(){return new XMLHttpRequest},da.prototype.i=function(){return{}},Hu=new da;function Bn(a,h,d,v){this.j=a,this.i=h,this.l=d,this.R=v||1,this.U=new To(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ip}function Ip(){this.i=null,this.g="",this.h=!1}var xp={},qu={};function Ku(a,h,d){a.L=1,a.v=va(yn(h)),a.m=d,a.P=!0,Rp(a,null)}function Rp(a,h){a.F=Date.now(),pa(a),a.A=yn(a.v);var d=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Bp(d.i,"t",v),a.C=0,d=a.j.J,a.h=new Ip,a.g=om(a.j,d?h:null,!a.m),0<a.O&&(a.M=new y1(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,v=a.ca;var V="readystatechange";Array.isArray(V)||(V&&(gp[0]=V.toString()),V=gp);for(var b=0;b<V.length;b++){var U=Fn(d,V[b],v||h.handleEvent,!1,h.h||h);if(!U)break;h.g[U.key]=U}h=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),So(),E1(a.i,a.u,a.A,a.l,a.R,a.m)}Bn.prototype.ca=function(a){a=a.target;const h=this.M;h&&_n(a)==3?h.j():this.Y(a)},Bn.prototype.Y=function(a){try{if(a==this.g)e:{const it=_n(this.g);var h=this.g.Ba();const pi=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||Qp(this.g)))){this.J||it!=4||h==7||(h==8||0>=pi?So(3):So(2)),Qu(this);var d=this.g.Z();this.X=d;t:if(Ap(this)){var v=Qp(this.g);a="";var V=v.length,b=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Ro(this);var U="";break t}this.h.i=new l.TextDecoder}for(h=0;h<V;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(b&&h==V-1)});v.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=d==200,T1(this.i,this.u,this.A,this.l,this.R,it,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ge=this.g;if((ve=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ve)){var he=ve;break t}}he=null}if(d=he)hi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gu(this,d);else{this.o=!1,this.s=3,dt(12),Or(this),Ro(this);break e}}if(this.P){d=!0;let qt;for(;!this.J&&this.C<U.length;)if(qt=I1(this,U),qt==qu){it==4&&(this.s=4,dt(14),d=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==xp){this.s=4,dt(15),hi(this.i,this.l,U,"[Invalid Chunk]"),d=!1;break}else hi(this.i,this.l,qt,null),Gu(this,qt);if(Ap(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||U.length!=0||this.h.h||(this.s=1,dt(16),d=!1),this.o=this.o&&d,!d)hi(this.i,this.l,U,"[Invalid Chunked Response]"),Or(this),Ro(this);else if(0<U.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),tc(rt),rt.M=!0,dt(11))}}else hi(this.i,this.l,U,null),Gu(this,U);it==4&&Or(this),this.o&&!this.J&&(it==4?tm(this.j,this):(this.o=!1,pa(this)))}else U1(this.g),d==400&&0<U.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Or(this),Ro(this)}}}catch{}finally{}};function Ap(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function I1(a,h){var d=a.C,v=h.indexOf(`
`,d);return v==-1?qu:(d=Number(h.substring(d,v)),isNaN(d)?xp:(v+=1,v+d>h.length?qu:(h=h.slice(v,v+d),a.C=v+d,h)))}Bn.prototype.cancel=function(){this.J=!0,Or(this)};function pa(a){a.S=Date.now()+a.I,Pp(a,a.I)}function Pp(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Io(m(a.ba,a),h)}function Qu(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Bn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(C1(this.i,this.A),this.L!=2&&(So(),dt(17)),Or(this),this.s=2,Ro(this)):Pp(this,this.S-a)};function Ro(a){a.j.G==0||a.J||tm(a.j,a)}function Or(a){Qu(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,vp(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Gu(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Xu(d.h,a))){if(!a.K&&Xu(d.h,a)&&d.G==3){try{var v=d.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var V=v;if(V[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Ca(d),Ea(d);else break e;ec(d),dt(18)}}else d.za=V[1],0<d.za-d.T&&37500>V[2]&&d.F&&d.v==0&&!d.C&&(d.C=Io(m(d.Za,d),6e3));if(1>=Dp(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Lr(d,11)}else if((a.K||d.g==a)&&Ca(d),!y(h))for(V=d.Da.g.parse(h),h=0;h<V.length;h++){let he=V[h];if(d.T=he[0],he=he[1],d.G==2)if(he[0]=="c"){d.K=he[1],d.ia=he[2];const rt=he[3];rt!=null&&(d.la=rt,d.j.info("VER="+d.la));const it=he[4];it!=null&&(d.Aa=it,d.j.info("SVER="+d.Aa));const pi=he[5];pi!=null&&typeof pi=="number"&&0<pi&&(v=1.5*pi,d.L=v,d.j.info("backChannelRequestTimeoutMs_="+v)),v=d;const qt=a.g;if(qt){const Ia=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var b=v.h;b.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(Yu(b,b.h),b.h=null))}if(v.D){const nc=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;nc&&(v.ya=nc,we(v.I,v.D,nc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),v=d;var U=a;if(v.qa=im(v,v.J?v.ia:null,v.W),U.K){Op(v.h,U);var ve=U,Ge=v.L;Ge&&(ve.I=Ge),ve.B&&(Qu(ve),pa(ve)),v.g=U}else Zp(v);0<d.i.length&&Ta(d)}else he[0]!="stop"&&he[0]!="close"||Lr(d,7);else d.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Lr(d,7):Zu(d):he[0]!="noop"&&d.l&&d.l.ta(he),d.v=0)}}So(4)}catch{}}var x1=class{constructor(a,h){this.g=a,this.map=h}};function kp(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Np(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Dp(a){return a.h?1:a.g?a.g.size:0}function Xu(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Yu(a,h){a.g?a.g.add(h):a.h=h}function Op(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}kp.prototype.cancel=function(){if(this.i=Vp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Vp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return k(a.i)}function R1(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,v=0;v<d;v++)h.push(a[v]);return h}h=[],d=0;for(v in a)h[d++]=a[v];return h}function A1(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const v in a)h[d++]=v;return h}}}function Lp(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=A1(a),v=R1(a),V=v.length,b=0;b<V;b++)h.call(void 0,v[b],d&&d[b],a)}var Mp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function P1(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var v=a[d].indexOf("="),V=null;if(0<=v){var b=a[d].substring(0,v);V=a[d].substring(v+1)}else b=a[d];h(b,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Vr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Vr){this.h=a.h,ma(this,a.j),this.o=a.o,this.g=a.g,ga(this,a.s),this.l=a.l;var h=a.i,d=new ko;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),bp(this,d),this.m=a.m}else a&&(h=String(a).match(Mp))?(this.h=!1,ma(this,h[1]||"",!0),this.o=Ao(h[2]||""),this.g=Ao(h[3]||"",!0),ga(this,h[4]),this.l=Ao(h[5]||"",!0),bp(this,h[6]||"",!0),this.m=Ao(h[7]||"")):(this.h=!1,this.i=new ko(null,this.h))}Vr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Po(h,jp,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Po(h,jp,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Po(d,d.charAt(0)=="/"?D1:N1,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Po(d,V1)),a.join("")};function yn(a){return new Vr(a)}function ma(a,h,d){a.j=d?Ao(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function ga(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function bp(a,h,d){h instanceof ko?(a.i=h,L1(a.i,a.h)):(d||(h=Po(h,O1)),a.i=new ko(h,a.h))}function we(a,h,d){a.i.set(h,d)}function va(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ao(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Po(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,k1),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function k1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var jp=/[#\/\?@]/g,N1=/[#\?:]/g,D1=/[#\?]/g,O1=/[#\?@]/g,V1=/#/g;function ko(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Un(a){a.g||(a.g=new Map,a.h=0,a.i&&P1(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=ko.prototype,t.add=function(a,h){Un(this),this.i=null,a=fi(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function Fp(a,h){Un(a),h=fi(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function $p(a,h){return Un(a),h=fi(a,h),a.g.has(h)}t.forEach=function(a,h){Un(this),this.g.forEach(function(d,v){d.forEach(function(V){a.call(h,V,v,this)},this)},this)},t.na=function(){Un(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let v=0;v<h.length;v++){const V=a[v];for(let b=0;b<V.length;b++)d.push(h[v])}return d},t.V=function(a){Un(this);let h=[];if(typeof a=="string")$p(this,a)&&(h=h.concat(this.g.get(fi(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return Un(this),this.i=null,a=fi(this,a),$p(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Bp(a,h,d){Fp(a,h),0<d.length&&(a.i=null,a.g.set(fi(a,h),k(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var v=h[d];const b=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var V=b;U[v]!==""&&(V+="="+encodeURIComponent(String(U[v]))),a.push(V)}}return this.i=a.join("&")};function fi(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function L1(a,h){h&&!a.j&&(Un(a),a.i=null,a.g.forEach(function(d,v){var V=v.toLowerCase();v!=V&&(Fp(this,v),Bp(this,V,d))},a)),a.j=h}function M1(a,h){const d=new xo;if(l.Image){const v=new Image;v.onload=_(zn,d,"TestLoadImage: loaded",!0,h,v),v.onerror=_(zn,d,"TestLoadImage: error",!1,h,v),v.onabort=_(zn,d,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(zn,d,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function b1(a,h){const d=new xo,v=new AbortController,V=setTimeout(()=>{v.abort(),zn(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(b=>{clearTimeout(V),b.ok?zn(d,"TestPingServer: ok",!0,h):zn(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(V),zn(d,"TestPingServer: error",!1,h)})}function zn(a,h,d,v,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),v(d)}catch{}}function j1(){this.g=new w1}function F1(a,h,d){const v=d||"";try{Lp(a,function(V,b){let U=V;c(V)&&(U=Bu(V)),h.push(v+b+"="+encodeURIComponent(U))})}catch(V){throw h.push(v+"type="+encodeURIComponent("_badmap")),V}}function ya(a){this.l=a.Ub||null,this.j=a.eb||!1}x(ya,Uu),ya.prototype.g=function(){return new _a(this.l,this.j)},ya.prototype.i=function(a){return function(){return a}}({});function _a(a,h){Fe.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(_a,Fe),t=_a.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Do(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Up(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Up(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?No(this):Do(this),this.readyState==3&&Up(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,No(this))},t.Qa=function(a){this.g&&(this.response=a,No(this))},t.ga=function(){this.g&&No(this)};function No(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Do(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Do(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_a.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zp(a){let h="";return L(a,function(d,v){h+=v,h+=":",h+=d,h+=`\r
`}),h}function Ju(a,h,d){e:{for(v in d){var v=!1;break e}v=!0}v||(d=zp(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):we(a,h,d))}function Pe(a){Fe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Pe,Fe);var $1=/^https?$/i,B1=["POST","PUT"];t=Pe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hu.g(),this.v=this.o?yp(this.o):yp(Hu),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(b){Wp(this,b);return}if(a=d||"",d=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var V in v)d.set(V,v[V]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const b of v.keys())d.set(b,v.get(b));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(d.keys()).find(b=>b.toLowerCase()=="content-type"),V=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(B1,h,void 0))||v||V||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,U]of d)this.g.setRequestHeader(b,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kp(this),this.u=!0,this.g.send(a),this.u=!1}catch(b){Wp(this,b)}};function Wp(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Hp(a),wa(a)}function Hp(a){a.A||(a.A=!0,Ue(a,"complete"),Ue(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Ue(this,"complete"),Ue(this,"abort"),wa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wa(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qp(this):this.bb())},t.bb=function(){qp(this)};function qp(a){if(a.h&&typeof s<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)pp(a.Ea,0,a);else if(Ue(a,"readystatechange"),_n(a)==4){a.h=!1;try{const U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var v;if(v=U===0){var V=String(a.D).match(Mp)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),v=!$1.test(V?V.toLowerCase():"")}d=v}if(d)Ue(a,"complete"),Ue(a,"success");else{a.m=6;try{var b=2<_n(a)?a.g.statusText:""}catch{b=""}a.l=b+" ["+a.Z()+"]",Hp(a)}}finally{wa(a)}}}}function wa(a,h){if(a.g){Kp(a);const d=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||Ue(a,"ready");try{d.onreadystatechange=v}catch{}}}function Kp(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),_1(h)}};function Qp(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function U1(a){const h={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(y(a[v]))continue;var d=A(a[v]);const V=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const b=h[V]||[];h[V]=b,b.push(d)}w(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oo(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function Gp(a){this.Aa=0,this.i=[],this.j=new xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oo("baseRetryDelayMs",5e3,a),this.cb=Oo("retryDelaySeedMs",1e4,a),this.Wa=Oo("forwardChannelMaxRetries",2,a),this.wa=Oo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new kp(a&&a.concurrentRequestLimit),this.Da=new j1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Gp.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,v){dt(0),this.W=a,this.H=h||{},d&&v!==void 0&&(this.H.OSID=d,this.H.OAID=v),this.F=this.X,this.I=im(this,null,this.W),Ta(this)};function Zu(a){if(Xp(a),a.G==3){var h=a.U++,d=yn(a.I);if(we(d,"SID",a.K),we(d,"RID",h),we(d,"TYPE","terminate"),Vo(a,d),h=new Bn(a,a.j,h),h.L=2,h.v=va(yn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=om(h.j,null),h.g.ea(h.v)),h.F=Date.now(),pa(h)}rm(a)}function Ea(a){a.g&&(tc(a),a.g.cancel(),a.g=null)}function Xp(a){Ea(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ca(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ta(a){if(!Np(a.h)&&!a.s){a.s=!0;var h=a.Ga;fe||q(),F||(fe(),F=!0),K.add(h,a),a.B=0}}function z1(a,h){return Dp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Io(m(a.Ga,a,h),nm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const V=new Bn(this,this.j,a);let b=this.o;if(this.S&&(b?(b=g(b),R(b,this.S)):b=this.S),this.m!==null||this.O||(V.H=b,b=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var v=this.i[d];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=Jp(this,V,h),d=yn(this.I),we(d,"RID",a),we(d,"CVER",22),this.D&&we(d,"X-HTTP-Session-Id",this.D),Vo(this,d),b&&(this.O?h="headers="+encodeURIComponent(String(zp(b)))+"&"+h:this.m&&Ju(d,this.m,b)),Yu(this.h,V),this.Ua&&we(d,"TYPE","init"),this.P?(we(d,"$req",h),we(d,"SID","null"),V.T=!0,Ku(V,d,null)):Ku(V,d,h),this.G=2}}else this.G==3&&(a?Yp(this,a):this.i.length==0||Np(this.h)||Yp(this))};function Yp(a,h){var d;h?d=h.l:d=a.U++;const v=yn(a.I);we(v,"SID",a.K),we(v,"RID",d),we(v,"AID",a.T),Vo(a,v),a.m&&a.o&&Ju(v,a.m,a.o),d=new Bn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Jp(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yu(a.h,d),Ku(d,v,h)}function Vo(a,h){a.H&&L(a.H,function(d,v){we(h,v,d)}),a.l&&Lp({},function(d,v){we(h,v,d)})}function Jp(a,h,d){d=Math.min(a.i.length,d);var v=a.l?m(a.l.Na,a.l,a):null;e:{var V=a.i;let b=-1;for(;;){const U=["count="+d];b==-1?0<d?(b=V[0].g,U.push("ofs="+b)):b=0:U.push("ofs="+b);let ve=!0;for(let Ge=0;Ge<d;Ge++){let he=V[Ge].g;const rt=V[Ge].map;if(he-=b,0>he)b=Math.max(0,V[Ge].g-100),ve=!1;else try{F1(rt,U,"req"+he+"_")}catch{v&&v(rt)}}if(ve){v=U.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,v}function Zp(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;fe||q(),F||(fe(),F=!0),K.add(h,a),a.v=0}}function ec(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Io(m(a.Fa,a),nm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,em(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Io(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ea(this),em(this))};function tc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function em(a){a.g=new Bn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=yn(a.qa);we(h,"RID","rpc"),we(h,"SID",a.K),we(h,"AID",a.T),we(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(h,"TO",a.ja),we(h,"TYPE","xmlhttp"),Vo(a,h),a.m&&a.o&&Ju(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=va(yn(h)),d.m=null,d.P=!0,Rp(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Ea(this),ec(this),dt(19))};function Ca(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function tm(a,h){var d=null;if(a.g==h){Ca(a),tc(a),a.g=null;var v=2}else if(Xu(a.h,h))d=h.D,Op(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var V=a.B;v=ha(),Ue(v,new Cp(v,d)),Ta(a)}else Zp(a);else if(V=h.s,V==3||V==0&&0<h.X||!(v==1&&z1(a,h)||v==2&&ec(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),V){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function nm(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function Lr(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),v=a.Xa;const V=!v;v=new Vr(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ma(v,"https"),va(v),V?M1(v.toString(),d):b1(v.toString(),d)}else dt(2);a.G=0,a.l&&a.l.sa(h),rm(a),Xp(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function rm(a){if(a.G=0,a.ka=[],a.l){const h=Vp(a.h);(h.length!=0||a.i.length!=0)&&(P(a.ka,h),P(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function im(a,h,d){var v=d instanceof Vr?yn(d):new Vr(d);if(v.g!="")h&&(v.g=h+"."+v.g),ga(v,v.s);else{var V=l.location;v=V.protocol,h=h?h+"."+V.hostname:V.hostname,V=+V.port;var b=new Vr(null);v&&ma(b,v),h&&(b.g=h),V&&ga(b,V),d&&(b.l=d),v=b}return d=a.D,h=a.ya,d&&h&&we(v,d,h),we(v,"VER",a.la),Vo(a,v),v}function om(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Pe(new ya({eb:d})):new Pe(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sm(){}t=sm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Sa(){}Sa.prototype.g=function(a,h){return new xt(a,h)};function xt(a,h){Fe.call(this),this.g=new Gp(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new di(this)}x(xt,Fe),xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xt.prototype.close=function(){Zu(this.g)},xt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=Bu(a),a=d);h.i.push(new x1(h.Ya++,a)),h.G==3&&Ta(h)},xt.prototype.N=function(){this.g.l=null,delete this.j,Zu(this.g),delete this.g,xt.aa.N.call(this)};function am(a){zu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}x(am,zu);function lm(){Wu.call(this),this.status=1}x(lm,Wu);function di(a){this.g=a}x(di,sm),di.prototype.ua=function(){Ue(this.g,"a")},di.prototype.ta=function(a){Ue(this.g,new am(a))},di.prototype.sa=function(a){Ue(this.g,new lm)},di.prototype.ra=function(){Ue(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,xt.prototype.send=xt.prototype.o,xt.prototype.open=xt.prototype.m,xt.prototype.close=xt.prototype.close,aE=function(){return new Sa},sE=function(){return ha()},oE=Dr,nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fa.NO_ERROR=0,fa.TIMEOUT=8,fa.HTTP_ERROR=6,ul=fa,Sp.COMPLETE="complete",iE=Sp,_p.EventType=Co,Co.OPEN="a",Co.CLOSE="b",Co.ERROR="c",Co.MESSAGE="d",Fe.prototype.listen=Fe.prototype.K,Yo=_p,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,rE=Pe}).apply(typeof qa<"u"?qa:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let go="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Xw("@firebase/firestore");function yi(){return ri.logLevel}function z(t,...e){if(ri.logLevel<=oe.DEBUG){const n=e.map($d);ri.debug(`Firestore (${go}): ${t}`,...n)}}function Vn(t,...e){if(ri.logLevel<=oe.ERROR){const n=e.map($d);ri.error(`Firestore (${go}): ${t}`,...n)}}function to(t,...e){if(ri.logLevel<=oe.WARN){const n=e.map($d);ri.warn(`Firestore (${go}): ${t}`,...n)}}function $d(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: `+t;throw Vn(e),new Error(e)}function Re(t,e){t||X()}function se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends mo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class E2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T2{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new lE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new lt(e)}}class C2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class S2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new C2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Re(this.o===void 0);const r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new I2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=R2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.timestamp=e}static fromTimestamp(e){return new G(e)}static min(){return new G(new qe(0,0))}static max(){return new G(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Te extends zs{construct(e,n,r){return new Te(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ht extends zs{construct(e,n,r){return new ht(e,n,r)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ht(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new H(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new H(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ht(n)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Te.fromString(e))}static fromName(e){return new Q(Te.fromString(e).popFirst(5))}static empty(){return new Q(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Te(e.slice()))}}function P2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=G.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new wr(i,Q.empty(),e)}function k2(t){return new wr(t.readTime,t.key,-1)}class wr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wr(G.min(),Q.empty(),-1)}static max(){return new wr(G.max(),Q.empty(),-1)}}function N2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==D2)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function V2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Ru.oe=-1;function Au(t){return t==null}function Ql(t){return t===0&&1/t==-1/0}function L2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ql(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cv(e)),e=b2(t.get(n),e);return cv(e)}function b2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function cv(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ka(this.root,e,this.comparator,!0)}}class Ka{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=o??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.fields=e,e.sort(ht.comparator)}static empty(){return new nr([])}unionWith(e){let n=new Ke(ht.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hE("Invalid base64 string: "+o):o}}(e);return new tt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tt.EMPTY_BYTE_STRING=new tt("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(Re(!!t),typeof t=="string"){let e=0;const n=j2.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Tr(t){return typeof t=="string"?tt.fromBase64String(t):tt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pu(t){const e=t.mapValue.fields.__previous_value__;return Bd(e)?Pu(e):e}function Ws(t){const e=Er(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Hs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Hs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bd(t)?4:B2(t)?9007199254740991:$2(t)?10:11:X()}function gn(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ws(t).isEqual(Ws(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Er(i.timestampValue),l=Er(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Tr(i.bytesValue).isEqual(Tr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ne(i.doubleValue),l=Ne(o.doubleValue);return s===l?Ql(s)===Ql(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],gn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(hv(s)!==hv(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!gn(s[u],l[u])))return!1;return!0}(t,e);default:return X()}}function qs(t,e){return(t.values||[]).find(n=>gn(n,e))!==void 0}function ro(t,e){if(t===e)return 0;const n=Cr(t),r=Cr(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return dv(t.timestampValue,e.timestampValue);case 4:return dv(Ws(t),Ws(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(o,s){const l=Tr(o),u=Tr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=le(l[c],u[c]);if(f!==0)return f}return le(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=le(Ne(o.latitude),Ne(s.latitude));return l!==0?l:le(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pv(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,f;const p=o.fields||{},m=s.fields||{},_=(l=p.value)===null||l===void 0?void 0:l.arrayValue,x=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=le(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:pv(_,x)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Qa.mapValue&&s===Qa.mapValue)return 0;if(o===Qa.mapValue)return 1;if(s===Qa.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=le(u[p],f[p]);if(m!==0)return m;const _=ro(l[u[p]],c[f[p]]);if(_!==0)return _}return le(u.length,f.length)}(t.mapValue,e.mapValue);default:throw X()}}function dv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=Er(t),r=Er(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function pv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ro(n[i],r[i]);if(o)return o}return le(n.length,r.length)}function io(t){return rf(t)}function rf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Tr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=rf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${rf(n.fields[s])}`;return i+"}"}(t.mapValue):X()}function cl(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pu(t);return e?16+cl(e):16;case 5:return 2*t.stringValue.length;case 6:return Tr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+cl(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return yo(r.fields,(o,s)=>{i+=o.length+cl(s)}),i}(t.mapValue);default:throw X()}}function mv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function of(t){return!!t&&"integerValue"in t}function Ud(t){return!!t&&"arrayValue"in t}function gv(t){return!!t&&"nullValue"in t}function vv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uc(t){return!!t&&"mapValue"in t}function $2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ds(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ds(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ds(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ds(n)}setAll(e){let n=ht.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=ds(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new cn(ds(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ct(e,0,G.min(),G.min(),G.min(),cn.empty(),0)}static newFoundDocument(e,n,r,i){return new ct(e,1,n,G.min(),r,i,0)}static newNoDocument(e,n){return new ct(e,2,n,G.min(),G.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,G.min(),G.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(G.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=G.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.position=e,this.inclusive=n}}function yv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=ro(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _v(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n="asc"){this.field=e,this.dir=n}}function U2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class be extends fE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new W2(e,n,r):n==="array-contains"?new K2(e,r):n==="in"?new Q2(e,r):n==="not-in"?new G2(e,r):n==="array-contains-any"?new X2(e,r):new be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H2(e,r):new q2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends fE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new tn(e,n)}matches(e){return dE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dE(t){return t.op==="and"}function pE(t){return z2(t)&&dE(t)}function z2(t){for(const e of t.filters)if(e instanceof tn)return!1;return!0}function sf(t){if(t instanceof be)return t.field.canonicalString()+t.op.toString()+io(t.value);if(pE(t))return t.filters.map(e=>sf(e)).join(",");{const e=t.filters.map(n=>sf(n)).join(",");return`${t.op}(${e})`}}function mE(t,e){return t instanceof be?function(r,i){return i instanceof be&&r.op===i.op&&r.field.isEqual(i.field)&&gn(r.value,i.value)}(t,e):t instanceof tn?function(r,i){return i instanceof tn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&mE(s,i.filters[l]),!0):!1}(t,e):void X()}function gE(t){return t instanceof be?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof tn?function(n){return n.op.toString()+" {"+n.getFilters().map(gE).join(" ,")+"}"}(t):"Filter"}class W2 extends be{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class H2 extends be{constructor(e,n){super(e,"in",n),this.keys=vE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q2 extends be{constructor(e,n){super(e,"not-in",n),this.keys=vE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class K2 extends be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ud(n)&&qs(n.arrayValue,this.value)}}class Q2 extends be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qs(this.value.arrayValue,n)}}class G2 extends be{constructor(e,n){super(e,"not-in",n)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qs(this.value.arrayValue,n)}}class X2 extends be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function wv(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Y2(t,e,n,r,i,o,s)}function zd(t){const e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>sf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ue=n}return e.ue}function Wd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_v(t.startAt,e.startAt)&&_v(t.endAt,e.endAt)}function af(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function J2(t,e,n,r,i,o,s,l){return new oa(t,e,n,r,i,o,s,l)}function Hd(t){return new oa(t)}function Ev(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yE(t){return t.collectionGroup!==null}function ps(t){const e=se(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Ke(ht.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Xl(o,r))}),n.has(ht.keyField().canonicalString())||e.ce.push(new Xl(ht.keyField(),r))}return e.ce}function mn(t){const e=se(t);return e.le||(e.le=Z2(e,ps(t))),e.le}function Z2(t,e){if(t.limitType==="F")return wv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Xl(i.field,o)});const n=t.endAt?new Gl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gl(t.startAt.position,t.startAt.inclusive):null;return wv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lf(t,e){const n=t.filters.concat([e]);return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uf(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ku(t,e){return Wd(mn(t),mn(e))&&t.limitType===e.limitType}function _E(t){return`${zd(mn(t))}|lt:${t.limitType}`}function _i(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>gE(i)).join(", ")}]`),Au(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(mn(t))}; limitType=${t.limitType})`}function Nu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ps(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=yv(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,ps(r),i)||r.endAt&&!function(s,l,u){const c=yv(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,ps(r),i))}(t,e)}function ek(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wE(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const o=tk(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function tk(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?ro(u,c):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=new Ve(Q.comparator);function Sr(){return nk}const EE=new Ve(Q.comparator);function Jo(...t){let e=EE;for(const n of t)e=e.insert(n.key,n);return e}function rk(t){let e=EE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return ms()}function TE(){return ms()}function ms(){return new ui(t=>t.toString(),(t,e)=>t.isEqual(e))}const ik=new Ke(Q.comparator);function ue(...t){let e=ik;for(const n of t)e=e.add(n);return e}const ok=new Ke(le);function sk(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ql(e)?"-0":e}}function CE(t){return{integerValue:""+t}}function ak(t,e){return L2(e)?CE(e):qd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function lk(t,e,n){return t instanceof cf?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bd(o)&&(o=Pu(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Yl?SE(t,e):t instanceof Jl?IE(t,e):function(i,o){const s=ck(i,o),l=Tv(s)+Tv(i.Pe);return of(s)&&of(i.Pe)?CE(l):qd(i.serializer,l)}(t,e)}function uk(t,e,n){return t instanceof Yl?SE(t,e):t instanceof Jl?IE(t,e):n}function ck(t,e){return t instanceof hf?function(r){return of(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class cf extends Du{}class Yl extends Du{constructor(e){super(),this.elements=e}}function SE(t,e){const n=xE(e);for(const r of t.elements)n.some(i=>gn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Jl extends Du{constructor(e){super(),this.elements=e}}function IE(t,e){let n=xE(e);for(const r of t.elements)n=n.filter(i=>!gn(i,r));return{arrayValue:{values:n}}}class hf extends Du{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Tv(t){return Ne(t.integerValue||t.doubleValue)}function xE(t){return Ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function hk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yl&&i instanceof Yl||r instanceof Jl&&i instanceof Jl?no(r.elements,i.elements,gn):r instanceof hf&&i instanceof hf?gn(r.Pe,i.Pe):r instanceof cf&&i instanceof cf}(t.transform,e.transform)}class Gr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gr}static exists(e){return new Gr(void 0,e)}static updateTime(e){return new Gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kd{}function RE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dk(t.key,Gr.none()):new Qd(t.key,t.data,Gr.none());{const n=t.data,r=cn.empty();let i=new Ke(ht.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ou(t.key,r,new nr(i.toArray()),Gr.none())}}function fk(t,e,n){t instanceof Qd?function(i,o,s){const l=i.value.clone(),u=Sv(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Ou?function(i,o,s){if(!hl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Sv(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(AE(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function gs(t,e,n,r){return t instanceof Qd?function(o,s,l,u){if(!hl(o.precondition,s))return l;const c=o.value.clone(),f=Iv(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ou?function(o,s,l,u){if(!hl(o.precondition,s))return l;const c=Iv(o.fieldTransforms,u,s),f=s.data;return f.setAll(AE(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return hl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function Cv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(o,s)=>hk(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qd extends Kd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ou extends Kd{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function AE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sv(t,e,n){const r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,uk(s,l,n[i]))}return r}function Iv(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,lk(o,s,e))}return r}class dk extends Kd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&fk(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=gs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=gs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=RE(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(G.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>Cv(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>Cv(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,ie;function PE(t){if(t===void 0)return Vn("GRPC error has no .code"),B.UNKNOWN;switch(t){case Le.OK:return B.OK;case Le.CANCELLED:return B.CANCELLED;case Le.UNKNOWN:return B.UNKNOWN;case Le.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Le.INTERNAL:return B.INTERNAL;case Le.UNAVAILABLE:return B.UNAVAILABLE;case Le.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Le.NOT_FOUND:return B.NOT_FOUND;case Le.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Le.ABORTED:return B.ABORTED;case Le.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Le.DATA_LOSS:return B.DATA_LOSS;default:return X()}}(ie=Le||(Le={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Qr([4294967295,4294967295],0);function xv(t){const e=vk().encode(t),n=new nE;return n.update(e),new Uint8Array(n.digest())}function Rv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Qr([n,r],0),new Qr([i,o],0)]}class Gd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Zo(`Invalid padding: ${n}`);if(r<0)throw new Zo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Qr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Qr.fromNumber(r)));return i.compare(yk)===1&&(i=new Qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xv(e),[r,i]=Rv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Gd(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=xv(e),[r,i]=Rv(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vu(G.min(),i,new Ve(le),Sr(),ue())}}class sa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new sa(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class kE{constructor(e,n){this.targetId=e,this.me=n}}class NE{constructor(e,n,r=tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Av{constructor(){this.fe=0,this.ge=kv(),this.pe=tt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new sa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=kv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _k{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=Pv(),this.Qe=new Ve(le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(af(o))if(r===0){const s=new Q(o.path);this.Ue(n,s,ct.newNoDocument(s,G.min()))}else Re(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Tr(r).toUint8Array()}catch(u){if(u instanceof hE)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Gd(s,i,o)}catch(u){return to(u instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&af(l.target)){const u=new Q(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,ct.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ue();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Vu(e,n,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=Pv(),this.Qe=new Ve(le),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Av,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ke(le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Av),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Pv(){return new Ve(Q.comparator)}function kv(){return new Ve(Q.comparator)}const wk={asc:"ASCENDING",desc:"DESCENDING"},Ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tk={and:"AND",or:"OR"};class Ck{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ff(t,e){return t.useProto3Json||Au(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ui(t){return Re(!!t),G.fromTimestamp(function(n){const r=Er(n);return new qe(r.seconds,r.nanos)}(t))}function OE(t,e){return pf(t,e).canonicalString()}function pf(t,e){const n=function(i){return new Te(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VE(t){const e=Te.fromString(t);return Re(FE(e)),e}function zc(t,e){const n=VE(e);if(n.get(1)!==t.databaseId.projectId)throw new H(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(ME(n))}function LE(t,e){return OE(t.databaseId,e)}function Sk(t){const e=VE(t);return e.length===4?Te.emptyPath():ME(e)}function Nv(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ME(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Ik(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(Re(f===void 0||typeof f=="string"),tt.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array),tt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?B.UNKNOWN:PE(c.code);return new H(f,c.message||"")}(s);n=new NE(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zc(t,r.document.name),o=Ui(r.document.updateTime),s=r.document.createTime?Ui(r.document.createTime):G.min(),l=new cn({mapValue:{fields:r.document.fields}}),u=ct.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new fl(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zc(t,r.document),o=r.readTime?Ui(r.readTime):G.min(),s=ct.newNoDocument(i,o),l=r.removedTargetIds||[];n=new fl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zc(t,r.document),o=r.removedTargetIds||[];n=new fl([],o,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new gk(i,o),l=r.targetId;n=new kE(l,s)}}return n}function xk(t,e){return{documents:[LE(t,e.path)]}}function Rk(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LE(t,i);const o=function(c){if(c.length!==0)return jE(tn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:wi(m.field),direction:kk(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=ff(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function Ak(t){let e=Sk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const m=bE(p);return m instanceof tn&&pE(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(x){return new Xl(Ei(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Au(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,_=p.values||[];return new Gl(_,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,_=p.values||[];return new Gl(_,m)}(n.endAt)),J2(e,i,s,o,l,"F",u,c)}function Pk(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ei(n.unaryFilter.field);return be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ei(n.unaryFilter.field);return be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ei(n.unaryFilter.field);return be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ei(n.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return be.create(Ei(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tn.create(n.compositeFilter.filters.map(r=>bE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function kk(t){return wk[t]}function Nk(t){return Ek[t]}function Dk(t){return Tk[t]}function wi(t){return{fieldPath:t.canonicalString()}}function Ei(t){return ht.fromServerFormat(t.fieldPath)}function jE(t){return t instanceof be?function(n){if(n.op==="=="){if(vv(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NAN"}};if(gv(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vv(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NAN"}};if(gv(n.value))return{unaryFilter:{field:wi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(n.field),op:Nk(n.op),value:n.value}}}(t):t instanceof tn?function(n){const r=n.getFilters().map(i=>jE(i));return r.length===1?r[0]:{compositeFilter:{op:Dk(n.op),filters:r}}}(t):X()}function FE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,i,o=G.min(),s=G.min(),l=tt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e){this.ct=e}}function Vk(t){const e=Ak({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.un=new Mk}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(wr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class Mk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(Te.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yt(e,yt.DEFAULT_COLLECTION_PERCENTILE,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yt.DEFAULT_COLLECTION_PERCENTILE=10,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yt.DEFAULT=new yt(41943040,yt.DEFAULT_COLLECTION_PERCENTILE,yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yt.DISABLED=new yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oo(0)}static kn(){return new oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov([t,e],[n,r]){const i=le(t,n);return i===0?le(e,r):i}class bk{constructor(e){this.Un=e,this.buffer=new Ke(Ov),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ov(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await xu(n)}await this.Hn(3e5)})}}class Fk{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Ru.oe);const r=new bk(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Dv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),yi()<=oe.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function $k(t,e){return new Fk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changes=new ui(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&gs(r.mutation,i,nr.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Jo();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Sr();const s=ms(),l=function(){return ms()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Ou)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),gs(f.mutation,c,f.mutation.getFieldMask(),qe.now())):s.set(c.key,nr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new Uk(f,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ms();let i=new Ve((s,l)=>s-l),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||nr.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=TE();f.forEach(m=>{if(!o.has(m)){const _=RE(n.get(m),r.get(m));_!==null&&p.set(m,_),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(zr());let l=-1,u=o;return s.next(c=>j.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,ue())).next(f=>({batchId:l,changes:rk(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Jo();return this.indexManager.getCollectionParents(e,o).next(l=>j.forEach(l,u=>{const c=function(p,m){return new oa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,ct.newInvalidDocument(f)))});let l=Jo();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&gs(f.mutation,c,nr.empty(),qe.now()),Nu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ui(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Vk(i.bundledQuery),readTime:Ui(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new Ve(Q.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=zr(),o=n.length+1,s=new Q(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ve((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=zr(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=zr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return j.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mk(n,r));let o=this.Ir.get(n);o===void 0&&(o=ue(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.sessionToken=tt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.Tr=new Ke(ze.Er),this.dr=new Ke(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new Q(new Te([])),r=new ze(n,e),i=new ze(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Q(new Te([])),r=new ze(n,e),i=new ze(n,e+1);let o=ue();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Q.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ke(ze.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new pk(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.br=this.br.add(new ze(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const l=this.Dr(s.wr);o.push(l)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(le);return n.forEach(i=>{const o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],l=>{r=r.add(l.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Q.isDocumentKey(o)||(o=o.child(""));const s=new ze(new Q(o),0);let l=new Ke(le);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},s),j.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{const o=new ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ze(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.Mr=e,this.docs=function(){return new Ve(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ct.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Sr();const s=n.path,l=new Q(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||N2(k2(f),r)<=0||(i.has(f.key)||Nu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gk(this)}getSize(e){return j.resolve(this.size)}}class Gk extends Bk{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.persistence=e,this.Nr=new ui(n=>zd(n),Wd),this.lastRemoteSnapshotVersion=G.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xd,this.targetCount=0,this.kr=oo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Ru(0),this.Kr=!1,this.Kr=!0,this.$r=new qk,this.referenceDelegate=e(this),this.Ur=new Xk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(i){return new Qk(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ok(n),this.Gr=new Wk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Hk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Kk(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new Yk(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Yk extends O2{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.Jr=new Xd,this.Yr=null}static Zr(e){return new Yd(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{const i=Q.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,G.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Zl{constructor(e,n){this.persistence=e,this.ti=new ui(r=>M2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$k(this,n)}static Zr(e,n){return new Zl(e,n)}zr(){}jr(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return j.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(o=>o?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Or(e,s=>this.nr(e,s,n).next(l=>{l||(r++,o.removeEntry(s,G.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),j.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cl(e.data.value)),n}nr(e,n,r){return j.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iP()?8:V2(nP())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Jk;return this.Xi(e,n,s).next(l=>{if(o.result=l,this.zi)return this.es(e,n,s,l.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(yi()<=oe.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",_i(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(yi()<=oe.DEBUG&&z("QueryEngine","Query:",_i(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(yi()<=oe.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",_i(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(n))):j.resolve())}Yi(e,n){if(Ev(n))return j.resolve(null);let r=mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uf(n,null,"F"),r=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ue(...o);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,s,u.readTime)?this.Yi(e,uf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Ev(n)||i.isEqual(G.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?j.resolve(null):(yi()<=oe.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_i(n)),this.rs(e,s,n,P2(i,-1)).next(l=>l))})}ts(e,n){let r=new Ke(wE(e));return n.forEach((i,o)=>{Nu(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return yi()<=oe.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",_i(n)),this.Ji.getDocumentsMatchingQuery(e,n,wr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ve(le),this._s=new ui(o=>zd(o),Wd),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function tN(t,e,n,r){return new eN(t,e,n,r)}async function BE(t,e){const n=se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=ue();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:l}))})})}function UE(t){const e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function nN(t,e){const n=se(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,f.addedDocuments,p)));let _=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(tt.EMPTY_BYTE_STRING,G.min()).withLastLimboFreeSnapshotVersion(G.min()):f.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(f.resumeToken,r)),i=i.insert(p,_),function(k,P,C){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,_,f)&&l.push(n.Ur.updateTargetData(o,_))});let u=Sr(),c=ue();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(rN(o,s,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(G.min())){const f=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return j.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function rN(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Sr();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(G.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function iN(t,e){const n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new rr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function mf(t,e,n){const r=se(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!vo(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Vv(t,e,n){const r=se(t);let i=G.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const p=se(u),m=p._s.get(f);return m!==void 0?j.resolve(p.os.get(m)):p.Ur.getTargetData(c,f)}(r,s,mn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:G.min(),n?o:ue())).next(l=>(oN(r,ek(e),l),{documents:l,Ts:o})))}function oN(t,e,n){let r=t.us.get(e)||G.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Lv{constructor(){this.activeTargetIds=sk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sN{constructor(){this.so=new Lv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Lv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=null;function Wc(){return Ga===null?Ga=function(){return 268435456+Math.round(2147483648*Math.random())}():Ga++,"0x"+Ga.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class cN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const l=Wc(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(f=>(z("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw to("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,l){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+go}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=lN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Wc();return new Promise((s,l)=>{const u=new rE;u.setWithCredentials(!0),u.listenOnce(iE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ul.NO_ERROR:const f=u.getResponseJson();z(at,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case ul.TIMEOUT:z(at,`RPC '${e}' ${o} timed out`),l(new H(B.DEADLINE_EXCEEDED,"Request time out"));break;case ul.HTTP_ERROR:const p=u.getStatus();if(z(at,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const _=m==null?void 0:m.error;if(_&&_.status&&_.message){const x=function(P){const C=P.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(C)>=0?C:B.UNKNOWN}(_.status);l(new H(x,_.message))}else l(new H(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H(B.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{z(at,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);z(at,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Wc(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aE(),l=sE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");z(at,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let m=!1,_=!1;const x=new uN({Io:P=>{_?z(at,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(z(at,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(at,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),k=(P,C,y)=>{P.listen(C,T=>{try{y(T)}catch(D){setTimeout(()=>{throw D},0)}})};return k(p,Yo.EventType.OPEN,()=>{_||(z(at,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),k(p,Yo.EventType.CLOSE,()=>{_||(_=!0,z(at,`RPC '${e}' stream ${i} transport closed`),x.So())}),k(p,Yo.EventType.ERROR,P=>{_||(_=!0,to(at,`RPC '${e}' stream ${i} transport errored:`,P),x.So(new H(B.UNAVAILABLE,"The operation could not be completed")))}),k(p,Yo.EventType.MESSAGE,P=>{var C;if(!_){const y=P.data[0];Re(!!y);const T=y,D=T.error||((C=T[0])===null||C===void 0?void 0:C.error);if(D){z(at,`RPC '${e}' stream ${i} received error:`,D);const M=D.status;let L=function(S){const R=Le[S];if(R!==void 0)return PE(R)}(M),w=D.message;L===void 0&&(L=B.INTERNAL,w="Unknown error status: "+M+" with message "+D.message),_=!0,x.So(new H(L,w)),p.close()}else z(at,`RPC '${e}' stream ${i} received:`,y),x.bo(y)}}),k(l,oE.STAT_EVENT,P=>{P.stat===nf.PROXY?z(at,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===nf.NOPROXY&&z(at,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Hc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){return new Ck(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n,r,i,o,s,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new H(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fN extends hN{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Ik(this.serializer,e),r=function(o){if(!("targetChange"in o))return G.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?G.min():s.readTime?Ui(s.readTime):G.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Nv(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=af(u)?{documents:xk(o,u)}:{query:Rk(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=DE(o,s.resumeToken);const c=ff(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(G.min())>0){l.readTime=df(o,s.snapshotVersion.toTimestamp());const c=ff(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=Pk(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Nv(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,pf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(B.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,pf(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(B.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class pN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Vn(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{la(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=se(u);c.L_.add(4),await aa(c),c.q_.set("Unknown"),c.L_.delete(4),await Mu(c)}(this))})}),this.q_=new pN(r,i)}}async function Mu(t){if(la(t))for(const e of t.B_)await e(!0)}async function aa(t){for(const e of t.B_)await e(!1)}function WE(t,e){const n=se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),np(n)?tp(n):_o(n).r_()&&ep(n,e))}function Zd(t,e){const n=se(t),r=_o(n);n.N_.delete(e),r.r_()&&HE(n,e),n.N_.size===0&&(r.r_()?r.o_():la(n)&&n.q_.set("Unknown"))}function ep(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(G.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(t).A_(e)}function HE(t,e){t.Q_.xe(e),_o(t).R_(e)}function tp(t){t.Q_=new _k({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_o(t).start(),t.q_.v_()}function np(t){return la(t)&&!_o(t).n_()&&t.N_.size>0}function la(t){return se(t).L_.size===0}function qE(t){t.Q_=void 0}async function gN(t){t.q_.set("Online")}async function vN(t){t.N_.forEach((e,n)=>{ep(t,e)})}async function yN(t,e){qE(t),np(t)?(t.q_.M_(e),tp(t)):t.q_.set("Unknown")}async function _N(t,e,n){if(t.q_.set("Online"),e instanceof NE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bv(t,r)}else if(e instanceof fl?t.Q_.Ke(e):e instanceof kE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(G.min()))try{const r=await UE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.Q_.rt(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.N_.get(c);f&&o.N_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(tt.EMPTY_BYTE_STRING,f.snapshotVersion)),HE(o,u);const p=new rr(f.target,u,c,f.sequenceNumber);ep(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await bv(t,r)}}async function bv(t,e,n){if(!vo(e))throw e;t.L_.add(1),await aa(t),t.q_.set("Offline"),n||(n=()=>UE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Mu(t)})}async function jv(t,e){const n=se(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=la(n);n.L_.add(3),await aa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Mu(n)}async function wN(t,e){const n=se(t);e?(n.L_.delete(2),await Mu(n)):e||(n.L_.add(2),await aa(n),n.q_.set("Unknown"))}function _o(t){return t.K_||(t.K_=function(n,r,i){const o=se(n);return o.w_(),new fN(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:gN.bind(null,t),Ro:vN.bind(null,t),mo:yN.bind(null,t),d_:_N.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),np(t)?tp(t):t.q_.set("Unknown")):(await t.K_.stop(),qE(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new rp(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function KE(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),vo(t))return new H(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Jo(),this.sortedSet=new Ve(this.comparator)}static emptySet(e){return new zi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.W_=new Ve(Q.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new so(e,n,zi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class TN{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=se(n),o=i.queries;i.queries=$v(),o.forEach((s,l)=>{for(const u of l.j_)u.onError(r)})})(this,new H(B.ABORTED,"Firestore shutting down"))}}function $v(){return new ui(t=>_E(t),ku)}async function QE(t,e){const n=se(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new EN,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=KE(s,`Initialization of query '${_i(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ip(n)}async function GE(t,e){const n=se(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function CN(t,e){const n=se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.j_)l.X_(i)&&(r=!0);s.z_=i}}r&&ip(n)}function SN(t,e,n){const r=se(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ip(t){t.Y_.forEach(e=>{e.next()})}var gf,Bv;(Bv=gf||(gf={})).ea="default",Bv.Cache="cache";class XE{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.key=e}}class JE{constructor(e){this.key=e}}class IN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=wE(e),this.Ra=new zi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Fv,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),_=Nu(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),k=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let P=!1;m&&_?m.data.isEqual(_.data)?x!==k&&(r.track({type:3,doc:_}),P=!0):this.ga(m,_)||(r.track({type:2,doc:_}),P=!0,(u&&this.Aa(_,u)>0||c&&this.Aa(_,c)<0)&&(l=!0)):!m&&_?(r.track({type:0,doc:_}),P=!0):m&&!_&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(l=!0)),P&&(_?(s=s.add(_),o=k?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((f,p)=>function(_,x){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return k(_)-k(x)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new so(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Fv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new JE(r))}),this.da.forEach(r=>{e.has(r)||n.push(new YE(r))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return so.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class xN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RN{constructor(e){this.key=e,this.va=!1}}class AN{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ui(l=>_E(l),ku),this.Ma=new Map,this.xa=new Set,this.Oa=new Ve(Q.comparator),this.Na=new Map,this.La=new Xd,this.Ba={},this.ka=new Map,this.qa=oo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PN(t,e,n=!0){const r=r1(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await ZE(r,e,n,!0),i}async function kN(t,e){const n=r1(t);await ZE(n,e,!0,!1)}async function ZE(t,e,n,r){const i=await iN(t.localStore,mn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await NN(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&WE(t.remoteStore,i),l}async function NN(t,e,n,r,i){t.Ka=(p,m,_)=>async function(k,P,C,y){let T=P.view.ma(C);T.ns&&(T=await Vv(k.localStore,P.query,!1).then(({documents:w})=>P.view.ma(w,T)));const D=y&&y.targetChanges.get(P.targetId),M=y&&y.targetMismatches.get(P.targetId)!=null,L=P.view.applyChanges(T,k.isPrimaryClient,D,M);return zv(k,P.targetId,L.wa),L.snapshot}(t,p,m,_);const o=await Vv(t.localStore,e,!0),s=new IN(e,o.Ts),l=s.ma(o.documents),u=sa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);zv(t,n,c.wa);const f=new xN(e,n,s);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function DN(t,e,n){const r=se(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ku(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zd(r.remoteStore,i.targetId),vf(r,i.targetId)}).catch(xu)):(vf(r,i.targetId),await mf(r.localStore,i.targetId,!0))}async function ON(t,e){const n=se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zd(n.remoteStore,r.targetId))}async function e1(t,e){const n=se(t);try{const r=await nN(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),await n1(n,r,e)}catch(r){await xu(r)}}function Uv(t,e,n){const r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const l=s.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=se(s);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.j_)m.Z_(l)&&(c=!0)}),c&&ip(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VN(t,e,n){const r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ve(Q.comparator);s=s.insert(o,ct.newNoDocument(o,G.min()));const l=ue().add(o),u=new Vu(G.min(),new Map,new Ve(le),s,l);await e1(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),op(r)}else await mf(r.localStore,e,!1).then(()=>vf(r,e,n)).catch(xu)}function vf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||t1(t,r)})}function t1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Zd(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),op(t))}function zv(t,e,n){for(const r of n)r instanceof YE?(t.La.addReference(r.key,e),LN(t,r)):r instanceof JE?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||t1(t,r.key)):X()}function LN(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),op(t))}function op(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Q(Te.fromString(e)),r=t.qa.next();t.Na.set(r,new RN(n)),t.Oa=t.Oa.insert(n,r),WE(t.remoteStore,new rr(mn(Hd(n.path)),r,"TargetPurposeLimboResolution",Ru.oe))}}async function n1(t,e,n){const r=se(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{s.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=Jd.Wi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const f=se(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>j.forEach(c,m=>j.forEach(m.$i,_=>f.persistence.referenceDelegate.addReference(p,m.targetId,_)).next(()=>j.forEach(m.Ui,_=>f.persistence.referenceDelegate.removeReference(p,m.targetId,_)))))}catch(p){if(!vo(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const _=f.os.get(m),x=_.snapshotVersion,k=_.withLastLimboFreeSnapshotVersion(x);f.os=f.os.insert(m,k)}}}(r.localStore,o))}async function MN(t,e){const n=se(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await BE(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(l=>{l.forEach(u=>{u.reject(new H(B.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await n1(n,r.hs)}}function bN(t,e){const n=se(t),r=n.Na.get(e);if(r&&r.va)return ue().add(r.key);{let i=ue();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const l=n.Fa.get(s);i=i.unionWith(l.view.Va)}return i}}function r1(t){const e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VN.bind(null,e),e.Ca.d_=CN.bind(null,e.eventManager),e.Ca.$a=SN.bind(null,e.eventManager),e}class eu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return tN(this.persistence,new Zk,e.initialUser,this.serializer)}Ga(e){return new $E(Yd.Zr,this.serializer)}Wa(e){return new sN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eu.provider={build:()=>new eu};class jN extends eu{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Re(this.persistence.referenceDelegate instanceof Zl);const r=this.persistence.referenceDelegate.garbageCollector;return new jk(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?yt.withCacheSize(this.cacheSizeBytes):yt.DEFAULT;return new $E(r=>Zl.Zr(r,n),this.serializer)}}class yf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MN.bind(null,this.syncEngine),await wN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TN}()}createDatastore(e){const n=Lu(e.databaseInfo.databaseId),r=function(o){return new cN(o)}(e.databaseInfo);return function(o,s,l,u){return new dN(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new mN(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Uv(this.syncEngine,n,0),function(){return Mv.D()?new Mv:new aN}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,f){const p=new AN(i,o,s,l,u,c);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=se(i);z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await aa(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yf.provider={build:()=>new yf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lt.UNAUTHENTICATED,this.clientId=uE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=KE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qc(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $N(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jv(e.remoteStore,i)),t._onlineComponents=e}async function $N(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await qc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await qc(t,new eu)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await qc(t,new jN(void 0));return t._offlineComponents}async function BN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await Wv(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await Wv(t,new yf))),t._onlineComponents}async function o1(t){const e=await BN(t),n=e.eventManager;return n.onListen=PN.bind(null,e.syncEngine),n.onUnlisten=DN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ON.bind(null,e.syncEngine),n}function UN(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new i1({next:m=>{f.Za(),s.enqueueAndForget(()=>GE(o,p));const _=m.docs.has(l);!_&&m.fromCache?c.reject(new H(B.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&m.fromCache&&u&&u.source==="server"?c.reject(new H(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new XE(Hd(l.path),f,{includeMetadataChanges:!0,_a:!0});return QE(o,p)}(await o1(t),t.asyncQueue,e,n,r)),r.promise}function zN(t,e,n={}){const r=new mr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new i1({next:m=>{f.Za(),s.enqueueAndForget(()=>GE(o,p)),m.fromCache&&u.source==="server"?c.reject(new H(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new XE(l,f,{includeMetadataChanges:!0,_a:!0});return QE(o,p)}(await o1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t,e,n){if(!n)throw new H(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function WN(t,e,n,r){if(e===!0&&r===!0)throw new H(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qv(t){if(!Q.isDocumentKey(t))throw new H(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kv(t){if(Q.isDocumentKey(t))throw new H(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Ks(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bu(t);throw new H(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=s1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ju{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w2;switch(r.type){case"firstParty":return new S2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hv.get(n);r&&(z("ComponentProvider","Removing Datastore"),Hv.delete(n),r.terminate())}(this),Promise.resolve()}}function HN(t,e,n,r={}){var i;const o=(t=Ks(t,ju))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=lt.MOCK_USER;else{l=tP(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new lt(c)}t._authCredentials=new E2(new lE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wo(this.firestore,e,this._query)}}class kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}}class gr extends wo{constructor(e,n,r){super(e,n,Hd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Q(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function qN(t,e,...n){if(t=$s(t),a1("collection","path",e),t instanceof ju){const r=Te.fromString(e,...n);return Kv(r),new gr(t,null,r)}{if(!(t instanceof kt||t instanceof gr))throw new H(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return Kv(r),new gr(t.firestore,null,r)}}function KN(t,e,...n){if(t=$s(t),arguments.length===1&&(e=uE.newId()),a1("doc","path",e),t instanceof ju){const r=Te.fromString(e,...n);return qv(r),new kt(t,null,new Q(r))}{if(!(t instanceof kt||t instanceof gr))throw new H(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Te.fromString(e,...n));return qv(r),new kt(t.firestore,t instanceof gr?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zE(this,"async_queue_retry"),this.Vu=()=>{const r=Hc();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new mr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vo(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=rp.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class sp extends ju{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Gv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function QN(t,e){const n=typeof t=="object"?t:c2(),r=typeof t=="string"?t:"(default)",i=s2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=ZA("firestore");o&&HN(i,...o)}return i}function l1(t){if(t._terminated)throw new H(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||GN(t),t._firestoreClient}function GN(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,f){return new F2(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,s1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FN(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(tt.fromBase64String(e))}catch(n){throw new H(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^__.*__$/;function h1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class up{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new up(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _f(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(h1(this.Cu)&&XN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class YN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lu(e)}Qu(e,n,r,i=!1){return new up({Cu:e,methodName:n,qu:r,path:ht.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JN(t){const e=t._freezeSettings(),n=Lu(t._databaseId);return new YN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZN(t,e,n,r=!1){return cp(n,t.Qu(r?4:3,e))}function cp(t,e){if(f1(t=$s(t)))return tD("Unsupported field value:",e,t),eD(t,e);if(t instanceof c1)return function(r,i){if(!h1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=cp(l,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=$s(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ak(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=qe.fromDate(r);return{timestampValue:df(i.serializer,o)}}if(r instanceof qe){const o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:df(i.serializer,o)}}if(r instanceof ap)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:DE(i.serializer,r._byteString)};if(r instanceof kt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:OE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lp)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return qd(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${bu(r)}`)}(t,e)}function eD(t,e){const n={};return cE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const o=cp(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function f1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof ap||t instanceof ao||t instanceof kt||t instanceof c1||t instanceof lp)}function tD(t,e,n){if(!f1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=bu(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}const nD=new RegExp("[~\\*/\\[\\]]");function rD(t,e,n){if(e.search(nD)>=0)throw _f(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new u1(...e.split("."))._internalPath}catch{throw _f(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _f(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(B.INVALID_ARGUMENT,l+t+u)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iD extends d1{data(){return super.data()}}function hp(t,e){return typeof e=="string"?rD(t,e):e instanceof u1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fp{}class sD extends fp{}function aD(t,e,...n){let r=[];e instanceof fp&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof dp).length,l=o.filter(u=>u instanceof Fu).length;if(s>1||s>0&&l>0)throw new H(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Fu extends sD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Fu(e,n,r)}_apply(e){const n=this._parse(e);return p1(e._query,n),new wo(e.firestore,e.converter,lf(e._query,n))}_parse(e){const n=JN(e.firestore);return function(o,s,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Yv(p,f);const _=[];for(const x of p)_.push(Xv(u,o,x));m={arrayValue:{values:_}}}else m=Xv(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Yv(p,f),m=ZN(l,s,p,f==="in"||f==="not-in");return be.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lD(t,e,n){const r=e,i=hp("where",t);return Fu._create(i,r,n)}class dp extends fp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new dp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)p1(s,u),s=lf(s,u)}(e._query,n),new wo(e.firestore,e.converter,lf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Xv(t,e,n){if(typeof(n=$s(n))=="string"){if(n==="")throw new H(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yE(e)&&n.indexOf("/")!==-1)throw new H(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Te.fromString(n));if(!Q.isDocumentKey(r))throw new H(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mv(t,new Q(r))}if(n instanceof kt)return mv(t,n._key);throw new H(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bu(n)}.`)}function Yv(t,e){if(!Array.isArray(t)||t.length===0)throw new H(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p1(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class uD{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new lp(o)}convertGeoPoint(e){return new ap(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Pu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ws(e));default:return null}}convertTimestamp(e){const n=Er(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Te.fromString(e);Re(FE(r));const i=new Hs(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(n)||Vn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class m1 extends d1{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class dl extends m1{data(e={}){return super.data(e)}}class cD{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new es(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new dl(this._firestore,this._userDataWriter,r.key,r,new es(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new dl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new es(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new dl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new es(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:hD(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(t){t=Ks(t,kt);const e=Ks(t.firestore,sp);return UN(l1(e),t._key).then(n=>pD(e,t,n))}class g1 extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function dD(t){t=Ks(t,wo);const e=Ks(t.firestore,sp),n=l1(e),r=new g1(e);return oD(t._query),zN(n,t._query).then(i=>new cD(e,r,t,i))}function pD(t,e,n){const r=n.docs.get(e._key),i=new g1(t);return new m1(t,i,e._key,r,new es(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){go=i})(u2),Kl(new Bs("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new sp(new T2(r.getProvider("auth-internal")),new x2(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hs(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Bi(uv,"4.7.4",e),Bi(uv,"4.7.4","esm2017")})();var mD="firebase",gD="11.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi(mD,gD,"app");const vD={apiKey:"AIzaSyCJOr024yRAMFcTqnSqvNwKWdkR4O5rVKI",authDomain:"richardstore-af657.firebaseapp.com",projectId:"richardstore-af657",storageBucket:"richardstore-af657.appspot.com",messagingSenderId:"596971287963",appId:"1:596971287963:web:3cfa3271e24424f89f5d3e",measurementId:"G-JMST2ZW0QD"},yD=Zw(vD),v1=QN(yD),Jv=()=>{const[t,e]=E.useState([]),n=kw().category;return E.useEffect(()=>{const r=qN(v1,"items"),i=n?aD(r,lD("category","==",n)):r;dD(i).then(o=>{e(o.docs.map(s=>({...s.data(),id:s.id})))})},[n]),O.jsx(O.Fragment,{children:O.jsx(ho,{children:t.map(r=>O.jsx(zA,{id:r.id,image:r.image,title:r.title,category:r.category,price:r.price},r.id))})})},_D=({cantidad:t,handleRestar:e,handleSumar:n,handleAgregar:r})=>O.jsxs("div",{children:[O.jsxs("div",{className:"item-count",children:[O.jsx("button",{onClick:e,children:"-"}),O.jsx("p",{children:t}),O.jsx("button",{onClick:n,children:"+"})]}),O.jsx("button",{className:"agregar-al-carrito",onClick:r,children:"Agregar al carrito"})]});function wD({image:t,title:e,category:n,description:r,price:i,id:o}){return O.jsx(ho,{className:"container-detailed",children:O.jsx(Ww,{children:O.jsxs(bt,{style:{width:"18rem"},children:[O.jsx(bt.Img,{variant:"top",src:t}),O.jsxs(bt.Body,{children:[O.jsx(bt.Title,{children:e}),O.jsx(bt.Text,{children:n}),O.jsx(bt.Text,{children:r}),O.jsxs("h6",{className:"card-price",variant:"primary",children:["$ ",i]}),O.jsx(_D,{}),O.jsx("div",{className:"card-buttons",children:O.jsx(Hw,{id:o})})]})]})})})}const ED=()=>{const[t,e]=E.useState(null),n=kw().id;return E.useEffect(()=>{const r=KN(v1,"items",n);fD(r).then(i=>{e({...i.data(),id:i.id})})},[n]),O.jsx(O.Fragment,{children:O.jsx(wD,{...t})})};function TD(){return O.jsxs("div",{children:[O.jsx("h1",{children:"Aqu se supone que va a ir un formulario de contacto"}),O.jsx("span",{children:"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Atque culpa enim assumenda corrupti temporibus facilis facere et odit doloribus exercitationem unde vitae maxime, aspernatur aut, numquam soluta commodi nobis molestias. Voluptate aliquid, illo veritatis veniam accusantium eaque ipsam modi nihil perspiciatis neque sapiente iusto incidunt minus impedit ipsa, ipsum illum velit dolore odit fuga. Odio fugit blanditiis necessitatibus tempore nam. Saepe atque, tempora culpa consectetur"})]})}function CD(){return O.jsx(yS,{children:O.jsxs(OA,{children:[O.jsx(UA,{}),O.jsxs(xA,{children:[O.jsx(Xo,{main:!0,path:"/",element:O.jsx(Jv,{})}),O.jsx(Xo,{path:"/contacto",element:O.jsx(TD,{})}),O.jsx(Xo,{path:"/item/:id",element:O.jsx(ED,{})}),O.jsx(Xo,{path:"/category/:category",element:O.jsx(Jv,{})})]})]})})}f_(document.getElementById("root")).render(O.jsx(CD,{}));
