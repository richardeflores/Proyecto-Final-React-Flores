function xC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Na(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c_={exports:{}},Gu={},f_={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Da=Symbol.for("react.element"),AC=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),PC=Symbol.for("react.strict_mode"),kC=Symbol.for("react.profiler"),NC=Symbol.for("react.provider"),DC=Symbol.for("react.context"),VC=Symbol.for("react.forward_ref"),OC=Symbol.for("react.suspense"),bC=Symbol.for("react.memo"),LC=Symbol.for("react.lazy"),fg=Symbol.iterator;function MC(t){return t===null||typeof t!="object"?null:(t=fg&&t[fg]||t["@@iterator"],typeof t=="function"?t:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h_=Object.assign,p_={};function Ws(t,e,n){this.props=t,this.context=e,this.refs=p_,this.updater=n||d_}Ws.prototype.isReactComponent={};Ws.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ws.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m_(){}m_.prototype=Ws.prototype;function gh(t,e,n){this.props=t,this.context=e,this.refs=p_,this.updater=n||d_}var yh=gh.prototype=new m_;yh.constructor=gh;h_(yh,Ws.prototype);yh.isPureReactComponent=!0;var dg=Array.isArray,g_=Object.prototype.hasOwnProperty,vh={current:null},y_={key:!0,ref:!0,__self:!0,__source:!0};function v_(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)g_.call(e,r)&&!y_.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Da,type:t,key:s,ref:o,props:i,_owner:vh.current}}function FC(t,e){return{$$typeof:Da,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _h(t){return typeof t=="object"&&t!==null&&t.$$typeof===Da}function jC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hg=/\/+/g;function Yc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jC(""+t.key):e.toString(36)}function Vl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Da:case AC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yc(o,0):r,dg(i)?(n="",t!=null&&(n=t.replace(hg,"$&/")+"/"),Vl(i,e,n,"",function(c){return c})):i!=null&&(_h(i)&&(i=FC(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",dg(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Yc(s,l);o+=Vl(s,e,n,u,i)}else if(u=MC(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Yc(s,l++),o+=Vl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cl(t,e,n){if(t==null)return t;var r=[],i=0;return Vl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $C(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Ol={transition:null},BC={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:vh};function __(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:cl,forEach:function(t,e,n){cl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cl(t,function(){e++}),e},toArray:function(t){return cl(t,function(e){return e})||[]},only:function(t){if(!_h(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Ws;ye.Fragment=RC;ye.Profiler=kC;ye.PureComponent=gh;ye.StrictMode=PC;ye.Suspense=OC;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BC;ye.act=__;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=vh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)g_.call(e,u)&&!y_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Da,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:DC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NC,_context:t},t.Consumer=t};ye.createElement=v_;ye.createFactory=function(t){var e=v_.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:VC,render:t}};ye.isValidElement=_h;ye.lazy=function(t){return{$$typeof:LC,_payload:{_status:-1,_result:t},_init:$C}};ye.memo=function(t,e){return{$$typeof:bC,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Ol.transition;Ol.transition={};try{t()}finally{Ol.transition=e}};ye.unstable_act=__;ye.useCallback=function(t,e){return Ot.current.useCallback(t,e)};ye.useContext=function(t){return Ot.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Ot.current.useEffect(t,e)};ye.useId=function(){return Ot.current.useId()};ye.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Ot.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};ye.useRef=function(t){return Ot.current.useRef(t)};ye.useState=function(t){return Ot.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Ot.current.useTransition()};ye.version="18.3.1";f_.exports=ye;var w=f_.exports;const xe=Na(w),UC=xC({__proto__:null,default:xe},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=w,WC=Symbol.for("react.element"),qC=Symbol.for("react.fragment"),HC=Object.prototype.hasOwnProperty,KC=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,GC={key:!0,ref:!0,__self:!0,__source:!0};function w_(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HC.call(e,r)&&!GC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WC,type:t,key:s,ref:o,props:i,_owner:KC.current}}Gu.Fragment=qC;Gu.jsx=w_;Gu.jsxs=w_;c_.exports=Gu;var A=c_.exports,E_={exports:{}},rn={},T_={exports:{}},C_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var Q=z.length;z.push(Y);e:for(;0<Q;){var pe=Q-1>>>1,he=z[pe];if(0<i(he,Y))z[pe]=Y,z[Q]=he,Q=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Q=z.pop();if(Q!==Y){z[0]=Q;e:for(var pe=0,he=z.length,ve=he>>>1;pe<ve;){var Ce=2*(pe+1)-1,Pe=z[Ce],qe=Ce+1,nt=z[qe];if(0>i(Pe,Q))qe<he&&0>i(nt,Pe)?(z[pe]=nt,z[qe]=Q,pe=qe):(z[pe]=Pe,z[Ce]=Q,pe=Ce);else if(qe<he&&0>i(nt,Q))z[pe]=nt,z[qe]=Q,pe=qe;else break e}}return Y}function i(z,Y){var Q=z.sortIndex-Y.sortIndex;return Q!==0?Q:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],f=1,h=null,m=3,v=!1,I=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=z)r(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function O(z){if(k=!1,T(z),!I)if(n(u)!==null)I=!0,ae(b);else{var Y=n(c);Y!==null&&ce(O,Y.startTime-z)}}function b(z,Y){I=!1,k&&(k=!1,S(g),g=-1),v=!0;var Q=m;try{for(T(Y),h=n(u);h!==null&&(!(h.expirationTime>Y)||z&&!D());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,m=h.priorityLevel;var he=pe(h.expirationTime<=Y);Y=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(u)&&r(u),T(Y)}else r(u);h=n(u)}if(h!==null)var ve=!0;else{var Ce=n(c);Ce!==null&&ce(O,Ce.startTime-Y),ve=!1}return ve}finally{h=null,m=Q,v=!1}}var M=!1,E=null,g=-1,x=5,R=-1;function D(){return!(t.unstable_now()-R<x)}function N(){if(E!==null){var z=t.unstable_now();R=z;var Y=!0;try{Y=E(!0,z)}finally{Y?C():(M=!1,E=null)}}else M=!1}var C;if(typeof y=="function")C=function(){y(N)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ue=ne.port2;ne.port1.onmessage=N,C=function(){ue.postMessage(null)}}else C=function(){P(N,0)};function ae(z){E=z,M||(M=!0,C())}function ce(z,Y){g=P(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,ae(b))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var Q=m;m=Y;try{return z()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=m;m=z;try{return Y()}finally{m=Q}},t.unstable_scheduleCallback=function(z,Y,Q){var pe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?pe+Q:pe):Q=pe,z){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Q+he,z={id:f++,callback:Y,priorityLevel:z,startTime:Q,expirationTime:he,sortIndex:-1},Q>pe?(z.sortIndex=Q,e(c,z),n(u)===null&&z===n(c)&&(k?(S(g),g=-1):k=!0,ce(O,Q-pe))):(z.sortIndex=he,e(u,z),I||v||(I=!0,ae(b))),z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(z){var Y=m;return function(){var Q=m;m=Y;try{return z.apply(this,arguments)}finally{m=Q}}}})(C_);T_.exports=C_;var QC=T_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XC=w,tn=QC;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,ea={};function Oi(t,e){Ss(t,e),Ss(t+"Capture",e)}function Ss(t,e){for(ea[t]=e,t=0;t<e.length;t++)S_.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=Object.prototype.hasOwnProperty,YC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},mg={};function JC(t){return qf.call(mg,t)?!0:qf.call(pg,t)?!1:YC.test(t)?mg[t]=!0:(pg[t]=!0,!1)}function ZC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eS(t,e,n,r){if(e===null||typeof e>"u"||ZC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){gt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];gt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){gt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){gt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){gt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){gt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){gt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){gt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){gt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var wh=/[\-:]([a-z])/g;function Eh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wh,Eh);gt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wh,Eh);gt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wh,Eh);gt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){gt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});gt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){gt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Th(t,e,n,r){var i=gt.hasOwnProperty(e)?gt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eS(e,n,i,r)&&(n=null),r||i===null?JC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vr=XC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fl=Symbol.for("react.element"),rs=Symbol.for("react.portal"),is=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Hf=Symbol.for("react.profiler"),I_=Symbol.for("react.provider"),x_=Symbol.for("react.context"),Sh=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Gf=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),Sr=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),gg=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=gg&&t[gg]||t["@@iterator"],typeof t=="function"?t:null)}var Be=Object.assign,Jc;function Ro(t){if(Jc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jc=e&&e[1]||""}return`
`+Jc+t}var Zc=!1;function ef(t,e){if(!t||Zc)return"";Zc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Zc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ro(t):""}function tS(t){switch(t.tag){case 5:return Ro(t.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return t=ef(t.type,!1),t;case 11:return t=ef(t.type.render,!1),t;case 1:return t=ef(t.type,!0),t;default:return""}}function Qf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case is:return"Fragment";case rs:return"Portal";case Hf:return"Profiler";case Ch:return"StrictMode";case Kf:return"Suspense";case Gf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x_:return(t.displayName||"Context")+".Consumer";case I_:return(t._context.displayName||"Context")+".Provider";case Sh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ih:return e=t.displayName||null,e!==null?e:Qf(t.type)||"Memo";case Sr:e=t._payload,t=t._init;try{return Qf(t(e))}catch{}}return null}function nS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(e);case 8:return e===Ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Kr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rS(t){var e=R_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dl(t){t._valueTracker||(t._valueTracker=rS(t))}function P_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xf(t,e){var n=e.checked;return Be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Kr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k_(t,e){e=e.checked,e!=null&&Th(t,"checked",e,!1)}function Yf(t,e){k_(t,e);var n=Kr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,Kr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function gs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Kr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _g(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Po(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Kr(n)}}function N_(t,e){var n=Kr(e.value),r=Kr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function D_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ed(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?D_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hl,V_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ta(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Mo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iS=["Webkit","ms","Moz","O"];Object.keys(Mo).forEach(function(t){iS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mo[e]=Mo[t]})});function O_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Mo.hasOwnProperty(t)&&Mo[t]?(""+e).trim():e+"px"}function b_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=O_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sS=Be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function td(t,e){if(e){if(sS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function nd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rd=null;function xh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var id=null,ys=null,vs=null;function Eg(t){if(t=ba(t)){if(typeof id!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Zu(e),id(t.stateNode,t.type,e))}}function L_(t){ys?vs?vs.push(t):vs=[t]:ys=t}function M_(){if(ys){var t=ys,e=vs;if(vs=ys=null,Eg(t),e)for(t=0;t<e.length;t++)Eg(e[t])}}function F_(t,e){return t(e)}function j_(){}var tf=!1;function $_(t,e,n){if(tf)return t(e,n);tf=!0;try{return F_(t,e,n)}finally{tf=!1,(ys!==null||vs!==null)&&(j_(),M_())}}function na(t,e){var n=t.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var sd=!1;if(lr)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){sd=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{sd=!1}function oS(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Fo=!1,tu=null,nu=!1,od=null,aS={onError:function(t){Fo=!0,tu=t}};function lS(t,e,n,r,i,s,o,l,u){Fo=!1,tu=null,oS.apply(aS,arguments)}function uS(t,e,n,r,i,s,o,l,u){if(lS.apply(this,arguments),Fo){if(Fo){var c=tu;Fo=!1,tu=null}else throw Error(W(198));nu||(nu=!0,od=c)}}function bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tg(t){if(bi(t)!==t)throw Error(W(188))}function cS(t){var e=t.alternate;if(!e){if(e=bi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Tg(i),t;if(s===r)return Tg(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function U_(t){return t=cS(t),t!==null?z_(t):null}function z_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=z_(t);if(e!==null)return e;t=t.sibling}return null}var W_=tn.unstable_scheduleCallback,Cg=tn.unstable_cancelCallback,fS=tn.unstable_shouldYield,dS=tn.unstable_requestPaint,Ge=tn.unstable_now,hS=tn.unstable_getCurrentPriorityLevel,Ah=tn.unstable_ImmediatePriority,q_=tn.unstable_UserBlockingPriority,ru=tn.unstable_NormalPriority,pS=tn.unstable_LowPriority,H_=tn.unstable_IdlePriority,Qu=null,Fn=null;function mS(t){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Qu,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:vS,gS=Math.log,yS=Math.LN2;function vS(t){return t>>>=0,t===0?32:31-(gS(t)/yS|0)|0}var pl=64,ml=4194304;function ko(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=ko(l):(s&=o,s!==0&&(r=ko(s)))}else o=n&~i,o!==0?r=ko(o):s!==0&&(r=ko(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xn(e),i=1<<n,r|=t[n],e&=~i;return r}function _S(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=_S(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function ad(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K_(){var t=pl;return pl<<=1,!(pl&4194240)&&(pl=64),t}function nf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Va(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=n}function ES(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Re=0;function G_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Q_,Ph,X_,Y_,J_,ld=!1,gl=[],br=null,Lr=null,Mr=null,ra=new Map,ia=new Map,Ar=[],TS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sg(t,e){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":ra.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ia.delete(e.pointerId)}}function vo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ba(e),e!==null&&Ph(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CS(t,e,n,r,i){switch(e){case"focusin":return br=vo(br,t,e,n,r,i),!0;case"dragenter":return Lr=vo(Lr,t,e,n,r,i),!0;case"mouseover":return Mr=vo(Mr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ra.set(s,vo(ra.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ia.set(s,vo(ia.get(s)||null,t,e,n,r,i)),!0}return!1}function Z_(t){var e=gi(t.target);if(e!==null){var n=bi(e);if(n!==null){if(e=n.tag,e===13){if(e=B_(n),e!==null){t.blockedOn=e,J_(t.priority,function(){X_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ud(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rd=r,n.target.dispatchEvent(r),rd=null}else return e=ba(n),e!==null&&Ph(e),t.blockedOn=n,!1;e.shift()}return!0}function Ig(t,e,n){bl(t)&&n.delete(e)}function SS(){ld=!1,br!==null&&bl(br)&&(br=null),Lr!==null&&bl(Lr)&&(Lr=null),Mr!==null&&bl(Mr)&&(Mr=null),ra.forEach(Ig),ia.forEach(Ig)}function _o(t,e){t.blockedOn===e&&(t.blockedOn=null,ld||(ld=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,SS)))}function sa(t){function e(i){return _o(i,t)}if(0<gl.length){_o(gl[0],t);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(br!==null&&_o(br,t),Lr!==null&&_o(Lr,t),Mr!==null&&_o(Mr,t),ra.forEach(e),ia.forEach(e),n=0;n<Ar.length;n++)r=Ar[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ar.length&&(n=Ar[0],n.blockedOn===null);)Z_(n),n.blockedOn===null&&Ar.shift()}var _s=vr.ReactCurrentBatchConfig,su=!0;function IS(t,e,n,r){var i=Re,s=_s.transition;_s.transition=null;try{Re=1,kh(t,e,n,r)}finally{Re=i,_s.transition=s}}function xS(t,e,n,r){var i=Re,s=_s.transition;_s.transition=null;try{Re=4,kh(t,e,n,r)}finally{Re=i,_s.transition=s}}function kh(t,e,n,r){if(su){var i=ud(t,e,n,r);if(i===null)hf(t,e,r,ou,n),Sg(t,r);else if(CS(i,t,e,n,r))r.stopPropagation();else if(Sg(t,r),e&4&&-1<TS.indexOf(t)){for(;i!==null;){var s=ba(i);if(s!==null&&Q_(s),s=ud(t,e,n,r),s===null&&hf(t,e,r,ou,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hf(t,e,r,null,n)}}var ou=null;function ud(t,e,n,r){if(ou=null,t=xh(r),t=gi(t),t!==null)if(e=bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ou=t,null}function e0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hS()){case Ah:return 1;case q_:return 4;case ru:case pS:return 16;case H_:return 536870912;default:return 16}default:return 16}}var kr=null,Nh=null,Ll=null;function t0(){if(Ll)return Ll;var t,e=Nh,n=e.length,r,i="value"in kr?kr.value:kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ll=i.slice(t,1<r?1-r:void 0)}function Ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yl(){return!0}function xg(){return!1}function sn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yl:xg,this.isPropagationStopped=xg,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yl)},persist:function(){},isPersistent:yl}),e}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=sn(qs),Oa=Be({},qs,{view:0,detail:0}),AS=sn(Oa),rf,sf,wo,Xu=Be({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wo&&(wo&&t.type==="mousemove"?(rf=t.screenX-wo.screenX,sf=t.screenY-wo.screenY):sf=rf=0,wo=t),rf)},movementY:function(t){return"movementY"in t?t.movementY:sf}}),Ag=sn(Xu),RS=Be({},Xu,{dataTransfer:0}),PS=sn(RS),kS=Be({},Oa,{relatedTarget:0}),of=sn(kS),NS=Be({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=sn(NS),VS=Be({},qs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OS=sn(VS),bS=Be({},qs,{data:0}),Rg=sn(bS),LS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FS[t])?!!e[t]:!1}function Vh(){return jS}var $S=Be({},Oa,{key:function(t){if(t.key){var e=LS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vh,charCode:function(t){return t.type==="keypress"?Ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BS=sn($S),US=Be({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pg=sn(US),zS=Be({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vh}),WS=sn(zS),qS=Be({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),HS=sn(qS),KS=Be({},Xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GS=sn(KS),QS=[9,13,27,32],Oh=lr&&"CompositionEvent"in window,jo=null;lr&&"documentMode"in document&&(jo=document.documentMode);var XS=lr&&"TextEvent"in window&&!jo,n0=lr&&(!Oh||jo&&8<jo&&11>=jo),kg=" ",Ng=!1;function r0(t,e){switch(t){case"keyup":return QS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ss=!1;function YS(t,e){switch(t){case"compositionend":return i0(e);case"keypress":return e.which!==32?null:(Ng=!0,kg);case"textInput":return t=e.data,t===kg&&Ng?null:t;default:return null}}function JS(t,e){if(ss)return t==="compositionend"||!Oh&&r0(t,e)?(t=t0(),Ll=Nh=kr=null,ss=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return n0&&e.locale!=="ko"?null:e.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZS[t.type]:e==="textarea"}function s0(t,e,n,r){L_(r),e=au(e,"onChange"),0<e.length&&(n=new Dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $o=null,oa=null;function eI(t){g0(t,0)}function Yu(t){var e=ls(t);if(P_(e))return t}function tI(t,e){if(t==="change")return e}var o0=!1;if(lr){var af;if(lr){var lf="oninput"in document;if(!lf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),lf=typeof Vg.oninput=="function"}af=lf}else af=!1;o0=af&&(!document.documentMode||9<document.documentMode)}function Og(){$o&&($o.detachEvent("onpropertychange",a0),oa=$o=null)}function a0(t){if(t.propertyName==="value"&&Yu(oa)){var e=[];s0(e,oa,t,xh(t)),$_(eI,e)}}function nI(t,e,n){t==="focusin"?(Og(),$o=e,oa=n,$o.attachEvent("onpropertychange",a0)):t==="focusout"&&Og()}function rI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yu(oa)}function iI(t,e){if(t==="click")return Yu(e)}function sI(t,e){if(t==="input"||t==="change")return Yu(e)}function oI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:oI;function aa(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qf.call(e,i)||!Rn(t[i],e[i]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,e){var n=bg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bg(n)}}function l0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?l0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function u0(){for(var t=window,e=eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=eu(t.document)}return e}function bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aI(t){var e=u0(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&l0(n.ownerDocument.documentElement,n)){if(r!==null&&bh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Lg(n,s);var o=Lg(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lI=lr&&"documentMode"in document&&11>=document.documentMode,os=null,cd=null,Bo=null,fd=!1;function Mg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fd||os==null||os!==eu(r)||(r=os,"selectionStart"in r&&bh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bo&&aa(Bo,r)||(Bo=r,r=au(cd,"onSelect"),0<r.length&&(e=new Dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=os)))}function vl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var as={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},uf={},c0={};lr&&(c0=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function Ju(t){if(uf[t])return uf[t];if(!as[t])return t;var e=as[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in c0)return uf[t]=e[n];return t}var f0=Ju("animationend"),d0=Ju("animationiteration"),h0=Ju("animationstart"),p0=Ju("transitionend"),m0=new Map,Fg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){m0.set(t,e),Oi(e,[t])}for(var cf=0;cf<Fg.length;cf++){var ff=Fg[cf],uI=ff.toLowerCase(),cI=ff[0].toUpperCase()+ff.slice(1);ni(uI,"on"+cI)}ni(f0,"onAnimationEnd");ni(d0,"onAnimationIteration");ni(h0,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(p0,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fI=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function jg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uS(r,e,void 0,t),t.currentTarget=null}function g0(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;jg(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;jg(i,l,c),s=u}}}if(nu)throw t=od,nu=!1,od=null,t}function Oe(t,e){var n=e[gd];n===void 0&&(n=e[gd]=new Set);var r=t+"__bubble";n.has(r)||(y0(e,t,2,!1),n.add(r))}function df(t,e,n){var r=0;e&&(r|=4),y0(n,t,r,e)}var _l="_reactListening"+Math.random().toString(36).slice(2);function la(t){if(!t[_l]){t[_l]=!0,S_.forEach(function(n){n!=="selectionchange"&&(fI.has(n)||df(n,!1,t),df(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_l]||(e[_l]=!0,df("selectionchange",!1,e))}}function y0(t,e,n,r){switch(e0(e)){case 1:var i=IS;break;case 4:i=xS;break;default:i=kh}n=i.bind(null,e,n,t),i=void 0,!sd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=gi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}$_(function(){var c=s,f=xh(n),h=[];e:{var m=m0.get(t);if(m!==void 0){var v=Dh,I=t;switch(t){case"keypress":if(Ml(n)===0)break e;case"keydown":case"keyup":v=BS;break;case"focusin":I="focus",v=of;break;case"focusout":I="blur",v=of;break;case"beforeblur":case"afterblur":v=of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=PS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=WS;break;case f0:case d0:case h0:v=DS;break;case p0:v=HS;break;case"scroll":v=AS;break;case"wheel":v=GS;break;case"copy":case"cut":case"paste":v=OS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Pg}var k=(e&4)!==0,P=!k&&t==="scroll",S=k?m!==null?m+"Capture":null:m;k=[];for(var y=c,T;y!==null;){T=y;var O=T.stateNode;if(T.tag===5&&O!==null&&(T=O,S!==null&&(O=na(y,S),O!=null&&k.push(ua(y,O,T)))),P)break;y=y.return}0<k.length&&(m=new v(m,I,null,n,f),h.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==rd&&(I=n.relatedTarget||n.fromElement)&&(gi(I)||I[ur]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=c,I=I?gi(I):null,I!==null&&(P=bi(I),I!==P||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=c),v!==I)){if(k=Ag,O="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(k=Pg,O="onPointerLeave",S="onPointerEnter",y="pointer"),P=v==null?m:ls(v),T=I==null?m:ls(I),m=new k(O,y+"leave",v,n,f),m.target=P,m.relatedTarget=T,O=null,gi(f)===c&&(k=new k(S,y+"enter",I,n,f),k.target=T,k.relatedTarget=P,O=k),P=O,v&&I)t:{for(k=v,S=I,y=0,T=k;T;T=Qi(T))y++;for(T=0,O=S;O;O=Qi(O))T++;for(;0<y-T;)k=Qi(k),y--;for(;0<T-y;)S=Qi(S),T--;for(;y--;){if(k===S||S!==null&&k===S.alternate)break t;k=Qi(k),S=Qi(S)}k=null}else k=null;v!==null&&$g(h,m,v,k,!1),I!==null&&P!==null&&$g(h,P,I,k,!0)}}e:{if(m=c?ls(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var b=tI;else if(Dg(m))if(o0)b=sI;else{b=rI;var M=nI}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=iI);if(b&&(b=b(t,c))){s0(h,b,n,f);break e}M&&M(t,m,c),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&Jf(m,"number",m.value)}switch(M=c?ls(c):window,t){case"focusin":(Dg(M)||M.contentEditable==="true")&&(os=M,cd=c,Bo=null);break;case"focusout":Bo=cd=os=null;break;case"mousedown":fd=!0;break;case"contextmenu":case"mouseup":case"dragend":fd=!1,Mg(h,n,f);break;case"selectionchange":if(lI)break;case"keydown":case"keyup":Mg(h,n,f)}var E;if(Oh)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else ss?r0(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(n0&&n.locale!=="ko"&&(ss||g!=="onCompositionStart"?g==="onCompositionEnd"&&ss&&(E=t0()):(kr=f,Nh="value"in kr?kr.value:kr.textContent,ss=!0)),M=au(c,g),0<M.length&&(g=new Rg(g,t,null,n,f),h.push({event:g,listeners:M}),E?g.data=E:(E=i0(n),E!==null&&(g.data=E)))),(E=XS?YS(t,n):JS(t,n))&&(c=au(c,"onBeforeInput"),0<c.length&&(f=new Rg("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=E))}g0(h,e)})}function ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function au(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=na(t,n),s!=null&&r.unshift(ua(t,s,i)),s=na(t,e),s!=null&&r.push(ua(t,s,i))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $g(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=na(n,s),u!=null&&o.unshift(ua(n,u,l))):i||(u=na(n,s),u!=null&&o.push(ua(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dI=/\r\n?/g,hI=/\u0000|\uFFFD/g;function Bg(t){return(typeof t=="string"?t:""+t).replace(dI,`
`).replace(hI,"")}function wl(t,e,n){if(e=Bg(e),Bg(t)!==e&&n)throw Error(W(425))}function lu(){}var dd=null,hd=null;function pd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var md=typeof setTimeout=="function"?setTimeout:void 0,pI=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,mI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(t){return Ug.resolve(null).then(t).catch(gI)}:md;function gI(t){setTimeout(function(){throw t})}function pf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sa(e)}function Fr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Hs,ca="__reactProps$"+Hs,ur="__reactContainer$"+Hs,gd="__reactEvents$"+Hs,yI="__reactListeners$"+Hs,vI="__reactHandles$"+Hs;function gi(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ur]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zg(t);t!==null;){if(n=t[Ln])return n;t=zg(t)}return e}t=n,n=t.parentNode}return null}function ba(t){return t=t[Ln]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Zu(t){return t[ca]||null}var yd=[],us=-1;function ri(t){return{current:t}}function Me(t){0>us||(t.current=yd[us],yd[us]=null,us--)}function De(t,e){us++,yd[us]=t.current,t.current=e}var Gr={},At=ri(Gr),Ut=ri(!1),xi=Gr;function Is(t,e){var n=t.type.contextTypes;if(!n)return Gr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function zt(t){return t=t.childContextTypes,t!=null}function uu(){Me(Ut),Me(At)}function Wg(t,e,n){if(At.current!==Gr)throw Error(W(168));De(At,e),De(Ut,n)}function v0(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,nS(t)||"Unknown",i));return Be({},n,r)}function cu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gr,xi=At.current,De(At,t),De(Ut,Ut.current),!0}function qg(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=v0(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,Me(Ut),Me(At),De(At,t)):Me(Ut),De(Ut,n)}var Yn=null,ec=!1,mf=!1;function _0(t){Yn===null?Yn=[t]:Yn.push(t)}function _I(t){ec=!0,_0(t)}function ii(){if(!mf&&Yn!==null){mf=!0;var t=0,e=Re;try{var n=Yn;for(Re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yn=null,ec=!1}catch(i){throw Yn!==null&&(Yn=Yn.slice(t+1)),W_(Ah,ii),i}finally{Re=e,mf=!1}}return null}var cs=[],fs=0,fu=null,du=0,un=[],cn=0,Ai=null,er=1,tr="";function di(t,e){cs[fs++]=du,cs[fs++]=fu,fu=t,du=e}function w0(t,e,n){un[cn++]=er,un[cn++]=tr,un[cn++]=Ai,Ai=t;var r=er;t=tr;var i=32-xn(r)-1;r&=~(1<<i),n+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,er=1<<32-xn(e)+i|n<<i|r,tr=s+t}else er=1<<s|n<<i|r,tr=t}function Lh(t){t.return!==null&&(di(t,1),w0(t,1,0))}function Mh(t){for(;t===fu;)fu=cs[--fs],cs[fs]=null,du=cs[--fs],cs[fs]=null;for(;t===Ai;)Ai=un[--cn],un[cn]=null,tr=un[--cn],un[cn]=null,er=un[--cn],un[cn]=null}var Zt=null,Jt=null,Fe=!1,Tn=null;function E0(t,e){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=Fr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ai!==null?{id:er,overflow:tr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Jt=null,!0):!1;default:return!1}}function vd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _d(t){if(Fe){var e=Jt;if(e){var n=e;if(!Hg(t,e)){if(vd(t))throw Error(W(418));e=Fr(n.nextSibling);var r=Zt;e&&Hg(t,e)?E0(r,n):(t.flags=t.flags&-4097|2,Fe=!1,Zt=t)}}else{if(vd(t))throw Error(W(418));t.flags=t.flags&-4097|2,Fe=!1,Zt=t}}}function Kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function El(t){if(t!==Zt)return!1;if(!Fe)return Kg(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pd(t.type,t.memoizedProps)),e&&(e=Jt)){if(vd(t))throw T0(),Error(W(418));for(;e;)E0(t,e),e=Fr(e.nextSibling)}if(Kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=Fr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=Zt?Fr(t.stateNode.nextSibling):null;return!0}function T0(){for(var t=Jt;t;)t=Fr(t.nextSibling)}function xs(){Jt=Zt=null,Fe=!1}function Fh(t){Tn===null?Tn=[t]:Tn.push(t)}var wI=vr.ReactCurrentBatchConfig;function Eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Tl(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Gg(t){var e=t._init;return e(t._payload)}function C0(t){function e(S,y){if(t){var T=S.deletions;T===null?(S.deletions=[y],S.flags|=16):T.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=Ur(S,y),S.index=0,S.sibling=null,S}function s(S,y,T){return S.index=T,t?(T=S.alternate,T!==null?(T=T.index,T<y?(S.flags|=2,y):T):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,y,T,O){return y===null||y.tag!==6?(y=Tf(T,S.mode,O),y.return=S,y):(y=i(y,T),y.return=S,y)}function u(S,y,T,O){var b=T.type;return b===is?f(S,y,T.props.children,O,T.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sr&&Gg(b)===y.type)?(O=i(y,T.props),O.ref=Eo(S,y,T),O.return=S,O):(O=Wl(T.type,T.key,T.props,null,S.mode,O),O.ref=Eo(S,y,T),O.return=S,O)}function c(S,y,T,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Cf(T,S.mode,O),y.return=S,y):(y=i(y,T.children||[]),y.return=S,y)}function f(S,y,T,O,b){return y===null||y.tag!==7?(y=Ci(T,S.mode,O,b),y.return=S,y):(y=i(y,T),y.return=S,y)}function h(S,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tf(""+y,S.mode,T),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fl:return T=Wl(y.type,y.key,y.props,null,S.mode,T),T.ref=Eo(S,null,y),T.return=S,T;case rs:return y=Cf(y,S.mode,T),y.return=S,y;case Sr:var O=y._init;return h(S,O(y._payload),T)}if(Po(y)||go(y))return y=Ci(y,S.mode,T,null),y.return=S,y;Tl(S,y)}return null}function m(S,y,T,O){var b=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return b!==null?null:l(S,y,""+T,O);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fl:return T.key===b?u(S,y,T,O):null;case rs:return T.key===b?c(S,y,T,O):null;case Sr:return b=T._init,m(S,y,b(T._payload),O)}if(Po(T)||go(T))return b!==null?null:f(S,y,T,O,null);Tl(S,T)}return null}function v(S,y,T,O,b){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(T)||null,l(y,S,""+O,b);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case fl:return S=S.get(O.key===null?T:O.key)||null,u(y,S,O,b);case rs:return S=S.get(O.key===null?T:O.key)||null,c(y,S,O,b);case Sr:var M=O._init;return v(S,y,T,M(O._payload),b)}if(Po(O)||go(O))return S=S.get(T)||null,f(y,S,O,b,null);Tl(y,O)}return null}function I(S,y,T,O){for(var b=null,M=null,E=y,g=y=0,x=null;E!==null&&g<T.length;g++){E.index>g?(x=E,E=null):x=E.sibling;var R=m(S,E,T[g],O);if(R===null){E===null&&(E=x);break}t&&E&&R.alternate===null&&e(S,E),y=s(R,y,g),M===null?b=R:M.sibling=R,M=R,E=x}if(g===T.length)return n(S,E),Fe&&di(S,g),b;if(E===null){for(;g<T.length;g++)E=h(S,T[g],O),E!==null&&(y=s(E,y,g),M===null?b=E:M.sibling=E,M=E);return Fe&&di(S,g),b}for(E=r(S,E);g<T.length;g++)x=v(E,S,g,T[g],O),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?g:x.key),y=s(x,y,g),M===null?b=x:M.sibling=x,M=x);return t&&E.forEach(function(D){return e(S,D)}),Fe&&di(S,g),b}function k(S,y,T,O){var b=go(T);if(typeof b!="function")throw Error(W(150));if(T=b.call(T),T==null)throw Error(W(151));for(var M=b=null,E=y,g=y=0,x=null,R=T.next();E!==null&&!R.done;g++,R=T.next()){E.index>g?(x=E,E=null):x=E.sibling;var D=m(S,E,R.value,O);if(D===null){E===null&&(E=x);break}t&&E&&D.alternate===null&&e(S,E),y=s(D,y,g),M===null?b=D:M.sibling=D,M=D,E=x}if(R.done)return n(S,E),Fe&&di(S,g),b;if(E===null){for(;!R.done;g++,R=T.next())R=h(S,R.value,O),R!==null&&(y=s(R,y,g),M===null?b=R:M.sibling=R,M=R);return Fe&&di(S,g),b}for(E=r(S,E);!R.done;g++,R=T.next())R=v(E,S,g,R.value,O),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?g:R.key),y=s(R,y,g),M===null?b=R:M.sibling=R,M=R);return t&&E.forEach(function(N){return e(S,N)}),Fe&&di(S,g),b}function P(S,y,T,O){if(typeof T=="object"&&T!==null&&T.type===is&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case fl:e:{for(var b=T.key,M=y;M!==null;){if(M.key===b){if(b=T.type,b===is){if(M.tag===7){n(S,M.sibling),y=i(M,T.props.children),y.return=S,S=y;break e}}else if(M.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Sr&&Gg(b)===M.type){n(S,M.sibling),y=i(M,T.props),y.ref=Eo(S,M,T),y.return=S,S=y;break e}n(S,M);break}else e(S,M);M=M.sibling}T.type===is?(y=Ci(T.props.children,S.mode,O,T.key),y.return=S,S=y):(O=Wl(T.type,T.key,T.props,null,S.mode,O),O.ref=Eo(S,y,T),O.return=S,S=O)}return o(S);case rs:e:{for(M=T.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(S,y.sibling),y=i(y,T.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=Cf(T,S.mode,O),y.return=S,S=y}return o(S);case Sr:return M=T._init,P(S,y,M(T._payload),O)}if(Po(T))return I(S,y,T,O);if(go(T))return k(S,y,T,O);Tl(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,T),y.return=S,S=y):(n(S,y),y=Tf(T,S.mode,O),y.return=S,S=y),o(S)):n(S,y)}return P}var As=C0(!0),S0=C0(!1),hu=ri(null),pu=null,ds=null,jh=null;function $h(){jh=ds=pu=null}function Bh(t){var e=hu.current;Me(hu),t._currentValue=e}function wd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ws(t,e){pu=t,jh=ds=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(jh!==t)if(t={context:t,memoizedValue:e,next:null},ds===null){if(pu===null)throw Error(W(308));ds=t,pu.dependencies={lanes:0,firstContext:t}}else ds=ds.next=t;return e}var yi=null;function Uh(t){yi===null?yi=[t]:yi.push(t)}function I0(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Uh(e)):(n.next=i.next,i.next=n),e.interleaved=n,cr(t,r)}function cr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ir=!1;function zh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cr(t,n)}return i=r.interleaved,i===null?(e.next=e,Uh(r)):(e.next=i.next,i.next=e),r.interleaved=e,cr(t,n)}function Fl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rh(t,n)}}function Qg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mu(t,e,n,r){var i=t.updateQueue;Ir=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;o=0,f=c=u=null,l=s;do{var m=l.lane,v=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,k=l;switch(m=e,v=n,k.tag){case 1:if(I=k.payload,typeof I=="function"){h=I.call(v,h,m);break e}h=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=k.payload,m=typeof I=="function"?I.call(v,h,m):I,m==null)break e;h=Be({},h,m);break e;case 2:Ir=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,u=h):f=f.next=v,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Pi|=o,t.lanes=o,t.memoizedState=h}}function Xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var La={},jn=ri(La),fa=ri(La),da=ri(La);function vi(t){if(t===La)throw Error(W(174));return t}function Wh(t,e){switch(De(da,e),De(fa,t),De(jn,La),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ed(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ed(e,t)}Me(jn),De(jn,e)}function Rs(){Me(jn),Me(fa),Me(da)}function A0(t){vi(da.current);var e=vi(jn.current),n=ed(e,t.type);e!==n&&(De(fa,t),De(jn,n))}function qh(t){fa.current===t&&(Me(jn),Me(fa))}var je=ri(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gf=[];function Hh(){for(var t=0;t<gf.length;t++)gf[t]._workInProgressVersionPrimary=null;gf.length=0}var jl=vr.ReactCurrentDispatcher,yf=vr.ReactCurrentBatchConfig,Ri=0,$e=null,it=null,lt=null,yu=!1,Uo=!1,ha=0,EI=0;function wt(){throw Error(W(321))}function Kh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Gh(t,e,n,r,i,s){if(Ri=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jl.current=t===null||t.memoizedState===null?II:xI,t=n(r,i),Uo){s=0;do{if(Uo=!1,ha=0,25<=s)throw Error(W(301));s+=1,lt=it=null,e.updateQueue=null,jl.current=AI,t=n(r,i)}while(Uo)}if(jl.current=vu,e=it!==null&&it.next!==null,Ri=0,lt=it=$e=null,yu=!1,e)throw Error(W(300));return t}function Qh(){var t=ha!==0;return ha=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?$e.memoizedState=lt=t:lt=lt.next=t,lt}function mn(){if(it===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=lt===null?$e.memoizedState:lt.next;if(e!==null)lt=e,it=t;else{if(t===null)throw Error(W(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},lt===null?$e.memoizedState=lt=t:lt=lt.next=t}return lt}function pa(t,e){return typeof e=="function"?e(t):e}function vf(t){var e=mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=it,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var f=c.lane;if((Ri&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,$e.lanes|=f,Pi|=f}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,Rn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,$e.lanes|=s,Pi|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _f(t){var e=mn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Rn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function R0(){}function P0(t,e){var n=$e,r=mn(),i=e(),s=!Rn(r.memoizedState,i);if(s&&(r.memoizedState=i,Bt=!0),r=r.queue,Xh(D0.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(n.flags|=2048,ma(9,N0.bind(null,n,r,i,e),void 0,null),ut===null)throw Error(W(349));Ri&30||k0(n,e,i)}return i}function k0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function N0(t,e,n,r){e.value=n,e.getSnapshot=r,V0(e)&&O0(t)}function D0(t,e,n){return n(function(){V0(e)&&O0(t)})}function V0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function O0(t){var e=cr(t,1);e!==null&&An(e,t,1,-1)}function Yg(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:t},e.queue=t,t=t.dispatch=SI.bind(null,$e,t),[e.memoizedState,t]}function ma(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function b0(){return mn().memoizedState}function $l(t,e,n,r){var i=Vn();$e.flags|=t,i.memoizedState=ma(1|e,n,void 0,r===void 0?null:r)}function tc(t,e,n,r){var i=mn();r=r===void 0?null:r;var s=void 0;if(it!==null){var o=it.memoizedState;if(s=o.destroy,r!==null&&Kh(r,o.deps)){i.memoizedState=ma(e,n,s,r);return}}$e.flags|=t,i.memoizedState=ma(1|e,n,s,r)}function Jg(t,e){return $l(8390656,8,t,e)}function Xh(t,e){return tc(2048,8,t,e)}function L0(t,e){return tc(4,2,t,e)}function M0(t,e){return tc(4,4,t,e)}function F0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function j0(t,e,n){return n=n!=null?n.concat([t]):null,tc(4,4,F0.bind(null,e,t),n)}function Yh(){}function $0(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function B0(t,e){var n=mn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function U0(t,e,n){return Ri&21?(Rn(n,e)||(n=K_(),$e.lanes|=n,Pi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function TI(t,e){var n=Re;Re=n!==0&&4>n?n:4,t(!0);var r=yf.transition;yf.transition={};try{t(!1),e()}finally{Re=n,yf.transition=r}}function z0(){return mn().memoizedState}function CI(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},W0(t))q0(e,n);else if(n=I0(t,e,n,r),n!==null){var i=Vt();An(n,t,r,i),H0(n,e,r)}}function SI(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(W0(t))q0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,Rn(l,o)){var u=e.interleaved;u===null?(i.next=i,Uh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=I0(t,e,i,r),n!==null&&(i=Vt(),An(n,t,r,i),H0(n,e,r))}}function W0(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function q0(t,e){Uo=yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function H0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rh(t,n)}}var vu={readContext:pn,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},II={readContext:pn,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:Jg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$l(4194308,4,F0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $l(4194308,4,t,e)},useInsertionEffect:function(t,e){return $l(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CI.bind(null,$e,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:Yg,useDebugValue:Yh,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=Yg(!1),e=t[0];return t=TI.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=$e,i=Vn();if(Fe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),ut===null)throw Error(W(349));Ri&30||k0(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jg(D0.bind(null,r,s,t),[t]),r.flags|=2048,ma(9,N0.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Vn(),e=ut.identifierPrefix;if(Fe){var n=tr,r=er;n=(r&~(1<<32-xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ha++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xI={readContext:pn,useCallback:$0,useContext:pn,useEffect:Xh,useImperativeHandle:j0,useInsertionEffect:L0,useLayoutEffect:M0,useMemo:B0,useReducer:vf,useRef:b0,useState:function(){return vf(pa)},useDebugValue:Yh,useDeferredValue:function(t){var e=mn();return U0(e,it.memoizedState,t)},useTransition:function(){var t=vf(pa)[0],e=mn().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:P0,useId:z0,unstable_isNewReconciler:!1},AI={readContext:pn,useCallback:$0,useContext:pn,useEffect:Xh,useImperativeHandle:j0,useInsertionEffect:L0,useLayoutEffect:M0,useMemo:B0,useReducer:_f,useRef:b0,useState:function(){return _f(pa)},useDebugValue:Yh,useDeferredValue:function(t){var e=mn();return it===null?e.memoizedState=t:U0(e,it.memoizedState,t)},useTransition:function(){var t=_f(pa)[0],e=mn().memoizedState;return[t,e]},useMutableSource:R0,useSyncExternalStore:P0,useId:z0,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ed(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nc={isMounted:function(t){return(t=t._reactInternals)?bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Br(t),s=rr(r,i);s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(An(e,t,i,r),Fl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Vt(),i=Br(t),s=rr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=jr(t,s,i),e!==null&&(An(e,t,i,r),Fl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Vt(),r=Br(t),i=rr(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(An(e,t,r,n),Fl(e,t,r))}};function Zg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!aa(n,r)||!aa(i,s):!0}function K0(t,e,n){var r=!1,i=Gr,s=e.contextType;return typeof s=="object"&&s!==null?s=pn(s):(i=zt(e)?xi:At.current,r=e.contextTypes,s=(r=r!=null)?Is(t,i):Gr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ey(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nc.enqueueReplaceState(e,e.state,null)}function Td(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},zh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pn(s):(s=zt(e)?xi:At.current,i.context=Is(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ed(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nc.enqueueReplaceState(i,i.state,null),mu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ps(t,e){try{var n="",r=e;do n+=tS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function wf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RI=typeof WeakMap=="function"?WeakMap:Map;function G0(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wu||(wu=!0,Vd=r),Cd(t,e)},n}function Q0(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Cd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Cd(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ty(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UI.bind(null,t,e,n),e.then(t,t))}function ny(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ry(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var PI=vr.ReactCurrentOwner,Bt=!1;function Nt(t,e,n,r){e.child=t===null?S0(e,null,n,r):As(e,t.child,n,r)}function iy(t,e,n,r,i){n=n.render;var s=e.ref;return ws(e,i),r=Gh(t,e,n,r,s,i),n=Qh(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(Fe&&n&&Lh(e),e.flags|=1,Nt(t,e,r,i),e.child)}function sy(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,X0(t,e,s,r,i)):(t=Wl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:aa,n(o,r)&&t.ref===e.ref)return fr(t,e,i)}return e.flags|=1,t=Ur(s,r),t.ref=e.ref,t.return=e,e.child=t}function X0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(aa(s,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,fr(t,e,i)}return Sd(t,e,n,r,i)}function Y0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ps,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(ps,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(ps,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(ps,Yt),Yt|=r;return Nt(t,e,i,n),e.child}function J0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sd(t,e,n,r,i){var s=zt(n)?xi:At.current;return s=Is(e,s),ws(e,i),n=Gh(t,e,n,r,s,i),r=Qh(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fr(t,e,i)):(Fe&&r&&Lh(e),e.flags|=1,Nt(t,e,n,i),e.child)}function oy(t,e,n,r,i){if(zt(n)){var s=!0;cu(e)}else s=!1;if(ws(e,i),e.stateNode===null)Bl(t,e),K0(e,n,r),Td(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=pn(c):(c=zt(n)?xi:At.current,c=Is(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&ey(e,o,r,c),Ir=!1;var m=e.memoizedState;o.state=m,mu(e,r,o,i),u=e.memoizedState,l!==r||m!==u||Ut.current||Ir?(typeof f=="function"&&(Ed(e,n,f,r),u=e.memoizedState),(l=Ir||Zg(e,n,l,r,m,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,x0(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:wn(e.type,l),o.props=c,h=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=pn(u):(u=zt(n)?xi:At.current,u=Is(e,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==u)&&ey(e,o,r,u),Ir=!1,m=e.memoizedState,o.state=m,mu(e,r,o,i);var I=e.memoizedState;l!==h||m!==I||Ut.current||Ir?(typeof v=="function"&&(Ed(e,n,v,r),I=e.memoizedState),(c=Ir||Zg(e,n,c,r,m,I,u)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Id(t,e,n,r,s,i)}function Id(t,e,n,r,i,s){J0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qg(e,n,!1),fr(t,e,s);r=e.stateNode,PI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=As(e,t.child,null,s),e.child=As(e,null,l,s)):Nt(t,e,l,s),e.memoizedState=r.state,i&&qg(e,n,!0),e.child}function Z0(t){var e=t.stateNode;e.pendingContext?Wg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wg(t,e.context,!1),Wh(t,e.containerInfo)}function ay(t,e,n,r,i){return xs(),Fh(i),e.flags|=256,Nt(t,e,n,r),e.child}var xd={dehydrated:null,treeContext:null,retryLane:0};function Ad(t){return{baseLanes:t,cachePool:null,transitions:null}}function ew(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(je,i&1),t===null)return _d(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sc(o,r,0,null),t=Ci(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ad(n),e.memoizedState=xd,t):Jh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ur(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ur(l,s):(s=Ci(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ad(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=xd,r}return s=t.child,t=s.sibling,r=Ur(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jh(t,e){return e=sc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cl(t,e,n,r){return r!==null&&Fh(r),As(e,t.child,null,n),t=Jh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=wf(Error(W(422))),Cl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sc({mode:"visible",children:r.children},i,0,null),s=Ci(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&As(e,t.child,null,o),e.child.memoizedState=Ad(o),e.memoizedState=xd,s);if(!(e.mode&1))return Cl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(W(419)),r=wf(s,r,void 0),Cl(t,e,o,r)}if(l=(o&t.childLanes)!==0,Bt||l){if(r=ut,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cr(t,i),An(r,t,i,-1))}return ip(),r=wf(Error(W(421))),Cl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=Fr(i.nextSibling),Zt=e,Fe=!0,Tn=null,t!==null&&(un[cn++]=er,un[cn++]=tr,un[cn++]=Ai,er=t.id,tr=t.overflow,Ai=e),e=Jh(e,r.children),e.flags|=4096,e)}function ly(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wd(t.return,e,n)}function Ef(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function tw(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ly(t,n,e);else if(t.tag===19)ly(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ef(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ef(e,!0,n,null,s);break;case"together":Ef(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NI(t,e,n){switch(e.tag){case 3:Z0(e),xs();break;case 5:A0(e);break;case 1:zt(e.type)&&cu(e);break;case 4:Wh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(hu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?ew(t,e,n):(De(je,je.current&1),t=fr(t,e,n),t!==null?t.sibling:null);De(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return tw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,Y0(t,e,n)}return fr(t,e,n)}var nw,Rd,rw,iw;nw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rd=function(){};rw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,vi(jn.current);var s=null;switch(n){case"input":i=Xf(t,i),r=Xf(t,r),s=[];break;case"select":i=Be({},i,{value:void 0}),r=Be({},r,{value:void 0}),s=[];break;case"textarea":i=Zf(t,i),r=Zf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=lu)}td(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ea.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ea.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Oe("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};iw=function(t,e,n,r){n!==r&&(e.flags|=4)};function To(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DI(t,e,n){var r=e.pendingProps;switch(Mh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(e),null;case 1:return zt(e.type)&&uu(),Et(e),null;case 3:return r=e.stateNode,Rs(),Me(Ut),Me(At),Hh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(El(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Ld(Tn),Tn=null))),Rd(t,e),Et(e),null;case 5:qh(e);var i=vi(da.current);if(n=e.type,t!==null&&e.stateNode!=null)rw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Et(e),null}if(t=vi(jn.current),El(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[ca]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<No.length;i++)Oe(No[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":yg(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":_g(r,s),Oe("invalid",r)}td(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&wl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wl(r.textContent,l,t),i=["children",""+l]):ea.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":dl(r),vg(r,s,!0);break;case"textarea":dl(r),wg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=lu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=D_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[ca]=r,nw(t,e,!1,!1),e.stateNode=t;e:{switch(o=nd(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<No.length;i++)Oe(No[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":yg(t,r),i=Xf(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Be({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":_g(t,r),i=Zf(t,r),Oe("invalid",t);break;default:i=r}td(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?b_(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&V_(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ta(t,u):typeof u=="number"&&ta(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ea.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Oe("scroll",t):u!=null&&Th(t,s,u,o))}switch(n){case"input":dl(t),vg(t,r,!1);break;case"textarea":dl(t),wg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Kr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gs(t,!!r.multiple,s,!1):r.defaultValue!=null&&gs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=lu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Et(e),null;case 6:if(t&&e.stateNode!=null)iw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=vi(da.current),vi(jn.current),El(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:wl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return Et(e),null;case 13:if(Me(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&Jt!==null&&e.mode&1&&!(e.flags&128))T0(),xs(),e.flags|=98560,s=!1;else if(s=El(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Ln]=e}else xs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Et(e),s=!1}else Tn!==null&&(Ld(Tn),Tn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?st===0&&(st=3):ip())),e.updateQueue!==null&&(e.flags|=4),Et(e),null);case 4:return Rs(),Rd(t,e),t===null&&la(e.stateNode.containerInfo),Et(e),null;case 10:return Bh(e.type._context),Et(e),null;case 17:return zt(e.type)&&uu(),Et(e),null;case 19:if(Me(je),s=e.memoizedState,s===null)return Et(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)To(s,!1);else{if(st!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gu(t),o!==null){for(e.flags|=128,To(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ge()>ks&&(e.flags|=128,r=!0,To(s,!1),e.lanes=4194304)}else{if(!r)if(t=gu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),To(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return Et(e),null}else 2*Ge()-s.renderingStartTime>ks&&n!==1073741824&&(e.flags|=128,r=!0,To(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ge(),e.sibling=null,n=je.current,De(je,r?n&1|2:n&1),e):(Et(e),null);case 22:case 23:return rp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(Et(e),e.subtreeFlags&6&&(e.flags|=8192)):Et(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function VI(t,e){switch(Mh(e),e.tag){case 1:return zt(e.type)&&uu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rs(),Me(Ut),Me(At),Hh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qh(e),null;case 13:if(Me(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));xs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(je),null;case 4:return Rs(),null;case 10:return Bh(e.type._context),null;case 22:case 23:return rp(),null;case 24:return null;default:return null}}var Sl=!1,St=!1,OI=typeof WeakSet=="function"?WeakSet:Set,J=null;function hs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function Pd(t,e,n){try{n()}catch(r){We(t,e,r)}}var uy=!1;function bI(t,e){if(dd=su,t=u0(),bh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,f=0,h=t,m=null;t:for(;;){for(var v;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===n&&++c===i&&(l=o),m===s&&++f===r&&(u=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(hd={focusedElem:t,selectionRange:n},su=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var k=I.memoizedProps,P=I.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?k:wn(e.type,k),P);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){We(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return I=uy,uy=!1,I}function zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Pd(e,n,s)}i=i.next}while(i!==r)}}function rc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sw(t){var e=t.alternate;e!==null&&(t.alternate=null,sw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[ca],delete e[gd],delete e[yI],delete e[vI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ow(t){return t.tag===5||t.tag===3||t.tag===4}function cy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ow(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lu));else if(r!==4&&(t=t.child,t!==null))for(Nd(t,e,n),t=t.sibling;t!==null;)Nd(t,e,n),t=t.sibling}function Dd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Dd(t,e,n),t=t.sibling;t!==null;)Dd(t,e,n),t=t.sibling}var dt=null,En=!1;function Cr(t,e,n){for(n=n.child;n!==null;)aw(t,e,n),n=n.sibling}function aw(t,e,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Qu,n)}catch{}switch(n.tag){case 5:St||hs(n,e);case 6:var r=dt,i=En;dt=null,Cr(t,e,n),dt=r,En=i,dt!==null&&(En?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(En?(t=dt,n=n.stateNode,t.nodeType===8?pf(t.parentNode,n):t.nodeType===1&&pf(t,n),sa(t)):pf(dt,n.stateNode));break;case 4:r=dt,i=En,dt=n.stateNode.containerInfo,En=!0,Cr(t,e,n),dt=r,En=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Pd(n,e,o),i=i.next}while(i!==r)}Cr(t,e,n);break;case 1:if(!St&&(hs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){We(n,e,l)}Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Cr(t,e,n),St=r):Cr(t,e,n);break;default:Cr(t,e,n)}}function fy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OI),e.forEach(function(r){var i=WI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _n(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,En=!1;break e;case 3:dt=l.stateNode.containerInfo,En=!0;break e;case 4:dt=l.stateNode.containerInfo,En=!0;break e}l=l.return}if(dt===null)throw Error(W(160));aw(s,o,i),dt=null,En=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lw(e,t),e=e.sibling}function lw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_n(e,t),Dn(t),r&4){try{zo(3,t,t.return),rc(3,t)}catch(k){We(t,t.return,k)}try{zo(5,t,t.return)}catch(k){We(t,t.return,k)}}break;case 1:_n(e,t),Dn(t),r&512&&n!==null&&hs(n,n.return);break;case 5:if(_n(e,t),Dn(t),r&512&&n!==null&&hs(n,n.return),t.flags&32){var i=t.stateNode;try{ta(i,"")}catch(k){We(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&k_(i,s),nd(l,o);var c=nd(l,s);for(o=0;o<u.length;o+=2){var f=u[o],h=u[o+1];f==="style"?b_(i,h):f==="dangerouslySetInnerHTML"?V_(i,h):f==="children"?ta(i,h):Th(i,f,h,c)}switch(l){case"input":Yf(i,s);break;case"textarea":N_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?gs(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?gs(i,!!s.multiple,s.defaultValue,!0):gs(i,!!s.multiple,s.multiple?[]:"",!1))}i[ca]=s}catch(k){We(t,t.return,k)}}break;case 6:if(_n(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){We(t,t.return,k)}}break;case 3:if(_n(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sa(e.containerInfo)}catch(k){We(t,t.return,k)}break;case 4:_n(e,t),Dn(t);break;case 13:_n(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tp=Ge())),r&4&&fy(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||f,_n(e,t),St=c):_n(e,t),Dn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(J=t,f=t.child;f!==null;){for(h=J=f;J!==null;){switch(m=J,v=m.child,m.tag){case 0:case 11:case 14:case 15:zo(4,m,m.return);break;case 1:hs(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(k){We(r,n,k)}}break;case 5:hs(m,m.return);break;case 22:if(m.memoizedState!==null){hy(h);continue}}v!==null?(v.return=m,J=v):hy(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=O_("display",o))}catch(k){We(t,t.return,k)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(k){We(t,t.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(e,t),Dn(t),r&4&&fy(t);break;case 21:break;default:_n(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ow(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ta(i,""),r.flags&=-33);var s=cy(t);Dd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=cy(t);Nd(t,l,o);break;default:throw Error(W(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LI(t,e,n){J=t,uw(t)}function uw(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sl;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||St;l=Sl;var c=St;if(Sl=o,(St=u)&&!c)for(J=i;J!==null;)o=J,u=o.child,o.tag===22&&o.memoizedState!==null?py(i):u!==null?(u.return=o,J=u):py(i);for(;s!==null;)J=s,uw(s),s=s.sibling;J=i,Sl=l,St=c}dy(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):dy(t)}}function dy(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||rc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xg(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&sa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}St||e.flags&512&&kd(e)}catch(m){We(e,e.return,m)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function hy(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function py(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rc(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){We(e,i,u)}}var s=e.return;try{kd(e)}catch(u){We(e,s,u)}break;case 5:var o=e.return;try{kd(e)}catch(u){We(e,o,u)}}}catch(u){We(e,e.return,u)}if(e===t){J=null;break}var l=e.sibling;if(l!==null){l.return=e.return,J=l;break}J=e.return}}var MI=Math.ceil,_u=vr.ReactCurrentDispatcher,Zh=vr.ReactCurrentOwner,hn=vr.ReactCurrentBatchConfig,Se=0,ut=null,Ze=null,mt=0,Yt=0,ps=ri(0),st=0,ga=null,Pi=0,ic=0,ep=0,Wo=null,jt=null,tp=0,ks=1/0,Xn=null,wu=!1,Vd=null,$r=null,Il=!1,Nr=null,Eu=0,qo=0,Od=null,Ul=-1,zl=0;function Vt(){return Se&6?Ge():Ul!==-1?Ul:Ul=Ge()}function Br(t){return t.mode&1?Se&2&&mt!==0?mt&-mt:wI.transition!==null?(zl===0&&(zl=K_()),zl):(t=Re,t!==0||(t=window.event,t=t===void 0?16:e0(t.type)),t):1}function An(t,e,n,r){if(50<qo)throw qo=0,Od=null,Error(W(185));Va(t,n,r),(!(Se&2)||t!==ut)&&(t===ut&&(!(Se&2)&&(ic|=n),st===4&&Rr(t,mt)),Wt(t,r),n===1&&Se===0&&!(e.mode&1)&&(ks=Ge()+500,ec&&ii()))}function Wt(t,e){var n=t.callbackNode;wS(t,e);var r=iu(t,t===ut?mt:0);if(r===0)n!==null&&Cg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cg(n),e===1)t.tag===0?_I(my.bind(null,t)):_0(my.bind(null,t)),mI(function(){!(Se&6)&&ii()}),n=null;else{switch(G_(r)){case 1:n=Ah;break;case 4:n=q_;break;case 16:n=ru;break;case 536870912:n=H_;break;default:n=ru}n=yw(n,cw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cw(t,e){if(Ul=-1,zl=0,Se&6)throw Error(W(327));var n=t.callbackNode;if(Es()&&t.callbackNode!==n)return null;var r=iu(t,t===ut?mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Tu(t,r);else{e=r;var i=Se;Se|=2;var s=dw();(ut!==t||mt!==e)&&(Xn=null,ks=Ge()+500,Ti(t,e));do try{$I();break}catch(l){fw(t,l)}while(!0);$h(),_u.current=s,Se=i,Ze!==null?e=0:(ut=null,mt=0,e=st)}if(e!==0){if(e===2&&(i=ad(t),i!==0&&(r=i,e=bd(t,i))),e===1)throw n=ga,Ti(t,0),Rr(t,r),Wt(t,Ge()),n;if(e===6)Rr(t,r);else{if(i=t.current.alternate,!(r&30)&&!FI(i)&&(e=Tu(t,r),e===2&&(s=ad(t),s!==0&&(r=s,e=bd(t,s))),e===1))throw n=ga,Ti(t,0),Rr(t,r),Wt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:hi(t,jt,Xn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=tp+500-Ge(),10<e)){if(iu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Vt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=md(hi.bind(null,t,jt,Xn),e);break}hi(t,jt,Xn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-xn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MI(r/1960))-r,10<r){t.timeoutHandle=md(hi.bind(null,t,jt,Xn),r);break}hi(t,jt,Xn);break;case 5:hi(t,jt,Xn);break;default:throw Error(W(329))}}}return Wt(t,Ge()),t.callbackNode===n?cw.bind(null,t):null}function bd(t,e){var n=Wo;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=Tu(t,e),t!==2&&(e=jt,jt=n,e!==null&&Ld(e)),t}function Ld(t){jt===null?jt=t:jt.push.apply(jt,t)}function FI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Rn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~ep,e&=~ic,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xn(e),r=1<<n;t[n]=-1,e&=~r}}function my(t){if(Se&6)throw Error(W(327));Es();var e=iu(t,0);if(!(e&1))return Wt(t,Ge()),null;var n=Tu(t,e);if(t.tag!==0&&n===2){var r=ad(t);r!==0&&(e=r,n=bd(t,r))}if(n===1)throw n=ga,Ti(t,0),Rr(t,e),Wt(t,Ge()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,jt,Xn),Wt(t,Ge()),null}function np(t,e){var n=Se;Se|=1;try{return t(e)}finally{Se=n,Se===0&&(ks=Ge()+500,ec&&ii())}}function ki(t){Nr!==null&&Nr.tag===0&&!(Se&6)&&Es();var e=Se;Se|=1;var n=hn.transition,r=Re;try{if(hn.transition=null,Re=1,t)return t()}finally{Re=r,hn.transition=n,Se=e,!(Se&6)&&ii()}}function rp(){Yt=ps.current,Me(ps)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pI(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(Mh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uu();break;case 3:Rs(),Me(Ut),Me(At),Hh();break;case 5:qh(r);break;case 4:Rs();break;case 13:Me(je);break;case 19:Me(je);break;case 10:Bh(r.type._context);break;case 22:case 23:rp()}n=n.return}if(ut=t,Ze=t=Ur(t.current,null),mt=Yt=e,st=0,ga=null,ep=ic=Pi=0,jt=Wo=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yi=null}return t}function fw(t,e){do{var n=Ze;try{if($h(),jl.current=vu,yu){for(var r=$e.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}yu=!1}if(Ri=0,lt=it=$e=null,Uo=!1,ha=0,Zh.current=null,n===null||n.return===null){st=1,ga=e,Ze=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=mt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=ny(o);if(v!==null){v.flags&=-257,ry(v,o,l,s,e),v.mode&1&&ty(s,c,e),e=v,u=c;var I=e.updateQueue;if(I===null){var k=new Set;k.add(u),e.updateQueue=k}else I.add(u);break e}else{if(!(e&1)){ty(s,c,e),ip();break e}u=Error(W(426))}}else if(Fe&&l.mode&1){var P=ny(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ry(P,o,l,s,e),Fh(Ps(u,l));break e}}s=u=Ps(u,l),st!==4&&(st=2),Wo===null?Wo=[s]:Wo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=G0(s,u,e);Qg(s,S);break e;case 1:l=u;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&($r===null||!$r.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=Q0(s,l,e);Qg(s,O);break e}}s=s.return}while(s!==null)}pw(n)}catch(b){e=b,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function dw(){var t=_u.current;return _u.current=vu,t===null?vu:t}function ip(){(st===0||st===3||st===2)&&(st=4),ut===null||!(Pi&268435455)&&!(ic&268435455)||Rr(ut,mt)}function Tu(t,e){var n=Se;Se|=2;var r=dw();(ut!==t||mt!==e)&&(Xn=null,Ti(t,e));do try{jI();break}catch(i){fw(t,i)}while(!0);if($h(),Se=n,_u.current=r,Ze!==null)throw Error(W(261));return ut=null,mt=0,st}function jI(){for(;Ze!==null;)hw(Ze)}function $I(){for(;Ze!==null&&!fS();)hw(Ze)}function hw(t){var e=gw(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?pw(t):Ze=e,Zh.current=null}function pw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=VI(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,Ze=null;return}}else if(n=DI(n,e,Yt),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);st===0&&(st=5)}function hi(t,e,n){var r=Re,i=hn.transition;try{hn.transition=null,Re=1,BI(t,e,n,r)}finally{hn.transition=i,Re=r}return null}function BI(t,e,n,r){do Es();while(Nr!==null);if(Se&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ES(t,s),t===ut&&(Ze=ut=null,mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Il||(Il=!0,yw(ru,function(){return Es(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=hn.transition,hn.transition=null;var o=Re;Re=1;var l=Se;Se|=4,Zh.current=null,bI(t,n),lw(n,t),aI(hd),su=!!dd,hd=dd=null,t.current=n,LI(n),dS(),Se=l,Re=o,hn.transition=s}else t.current=n;if(Il&&(Il=!1,Nr=t,Eu=i),s=t.pendingLanes,s===0&&($r=null),mS(n.stateNode),Wt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wu)throw wu=!1,t=Vd,Vd=null,t;return Eu&1&&t.tag!==0&&Es(),s=t.pendingLanes,s&1?t===Od?qo++:(qo=0,Od=t):qo=0,ii(),null}function Es(){if(Nr!==null){var t=G_(Eu),e=hn.transition,n=Re;try{if(hn.transition=null,Re=16>t?16:t,Nr===null)var r=!1;else{if(t=Nr,Nr=null,Eu=0,Se&6)throw Error(W(331));var i=Se;for(Se|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(J=c;J!==null;){var f=J;switch(f.tag){case 0:case 11:case 15:zo(8,f,s)}var h=f.child;if(h!==null)h.return=f,J=h;else for(;J!==null;){f=J;var m=f.sibling,v=f.return;if(sw(f),f===c){J=null;break}if(m!==null){m.return=v,J=m;break}J=v}}}var I=s.alternate;if(I!==null){var k=I.child;if(k!==null){I.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zo(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,J=S;break e}J=s.return}}var y=t.current;for(J=y;J!==null;){o=J;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,J=T;else e:for(o=y;J!==null;){if(l=J,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rc(9,l)}}catch(b){We(l,l.return,b)}if(l===o){J=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,J=O;break e}J=l.return}}if(Se=i,ii(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Qu,t)}catch{}r=!0}return r}finally{Re=n,hn.transition=e}}return!1}function gy(t,e,n){e=Ps(n,e),e=G0(t,e,1),t=jr(t,e,1),e=Vt(),t!==null&&(Va(t,1,e),Wt(t,e))}function We(t,e,n){if(t.tag===3)gy(t,t,n);else for(;e!==null;){if(e.tag===3){gy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Ps(n,t),t=Q0(e,t,1),e=jr(e,t,1),t=Vt(),e!==null&&(Va(e,1,t),Wt(e,t));break}}e=e.return}}function UI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Vt(),t.pingedLanes|=t.suspendedLanes&n,ut===t&&(mt&n)===n&&(st===4||st===3&&(mt&130023424)===mt&&500>Ge()-tp?Ti(t,0):ep|=n),Wt(t,e)}function mw(t,e){e===0&&(t.mode&1?(e=ml,ml<<=1,!(ml&130023424)&&(ml=4194304)):e=1);var n=Vt();t=cr(t,e),t!==null&&(Va(t,e,n),Wt(t,n))}function zI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mw(t,n)}function WI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),mw(t,n)}var gw;gw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,NI(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Fe&&e.flags&1048576&&w0(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bl(t,e),t=e.pendingProps;var i=Is(e,At.current);ws(e,n),i=Gh(null,e,r,t,i,n);var s=Qh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(s=!0,cu(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zh(e),i.updater=nc,e.stateNode=i,i._reactInternals=e,Td(e,r,t,n),e=Id(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&Lh(e),Nt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HI(r),t=wn(r,t),i){case 0:e=Sd(null,e,r,t,n);break e;case 1:e=oy(null,e,r,t,n);break e;case 11:e=iy(null,e,r,t,n);break e;case 14:e=sy(null,e,r,wn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Sd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),oy(t,e,r,i,n);case 3:e:{if(Z0(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,x0(t,e),mu(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ps(Error(W(423)),e),e=ay(t,e,r,n,i);break e}else if(r!==i){i=Ps(Error(W(424)),e),e=ay(t,e,r,n,i);break e}else for(Jt=Fr(e.stateNode.containerInfo.firstChild),Zt=e,Fe=!0,Tn=null,n=S0(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xs(),r===i){e=fr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return A0(e),t===null&&_d(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pd(r,i)?o=null:s!==null&&pd(r,s)&&(e.flags|=32),J0(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&_d(e),null;case 13:return ew(t,e,n);case 4:return Wh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=As(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),iy(t,e,r,i,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(hu,r._currentValue),r._currentValue=o,s!==null)if(Rn(s.value,o)){if(s.children===i.children&&!Ut.current){e=fr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=rr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),wd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),wd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ws(e,n),i=pn(i),r=r(i),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,i=wn(r,e.pendingProps),i=wn(r.type,i),sy(t,e,r,i,n);case 15:return X0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wn(r,i),Bl(t,e),e.tag=1,zt(r)?(t=!0,cu(e)):t=!1,ws(e,n),K0(e,r,i),Td(e,r,i,n),Id(null,e,r,!0,t,n);case 19:return tw(t,e,n);case 22:return Y0(t,e,n)}throw Error(W(156,e.tag))};function yw(t,e){return W_(t,e)}function qI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new qI(t,e,n,r)}function sp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HI(t){if(typeof t=="function")return sp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sh)return 11;if(t===Ih)return 14}return 2}function Ur(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case is:return Ci(n.children,i,s,e);case Ch:o=8,i|=8;break;case Hf:return t=dn(12,n,e,i|2),t.elementType=Hf,t.lanes=s,t;case Kf:return t=dn(13,n,e,i),t.elementType=Kf,t.lanes=s,t;case Gf:return t=dn(19,n,e,i),t.elementType=Gf,t.lanes=s,t;case A_:return sc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I_:o=10;break e;case x_:o=9;break e;case Sh:o=11;break e;case Ih:o=14;break e;case Sr:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=dn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ci(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function sc(t,e,n,r){return t=dn(22,t,r,e),t.elementType=A_,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function Cf(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nf(0),this.expirationTimes=nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function op(t,e,n,r,i,s,o,l,u){return t=new KI(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zh(s),t}function GI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function vw(t){if(!t)return Gr;t=t._reactInternals;e:{if(bi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(zt(n))return v0(t,n,e)}return e}function _w(t,e,n,r,i,s,o,l,u){return t=op(n,r,!0,t,i,s,o,l,u),t.context=vw(null),n=t.current,r=Vt(),i=Br(n),s=rr(r,i),s.callback=e??null,jr(n,s,i),t.current.lanes=i,Va(t,i,r),Wt(t,r),t}function oc(t,e,n,r){var i=e.current,s=Vt(),o=Br(i);return n=vw(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,o),t!==null&&(An(t,i,o,s),Fl(t,i,o)),o}function Cu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ap(t,e){yy(t,e),(t=t.alternate)&&yy(t,e)}function QI(){return null}var ww=typeof reportError=="function"?reportError:function(t){console.error(t)};function lp(t){this._internalRoot=t}ac.prototype.render=lp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));oc(t,e,null,null)};ac.prototype.unmount=lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ki(function(){oc(null,t,null,null)}),e[ur]=null}};function ac(t){this._internalRoot=t}ac.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ar.length&&e!==0&&e<Ar[n].priority;n++);Ar.splice(n,0,t),n===0&&Z_(t)}};function up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vy(){}function XI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Cu(o);s.call(c)}}var o=_w(e,r,t,0,null,!1,!1,"",vy);return t._reactRootContainer=o,t[ur]=o.current,la(t.nodeType===8?t.parentNode:t),ki(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Cu(u);l.call(c)}}var u=op(t,0,!1,null,null,!1,!1,"",vy);return t._reactRootContainer=u,t[ur]=u.current,la(t.nodeType===8?t.parentNode:t),ki(function(){oc(e,u,n,r)}),u}function uc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Cu(o);l.call(u)}}oc(e,o,t,i)}else o=XI(n,e,t,i,r);return Cu(o)}Q_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ko(e.pendingLanes);n!==0&&(Rh(e,n|1),Wt(e,Ge()),!(Se&6)&&(ks=Ge()+500,ii()))}break;case 13:ki(function(){var r=cr(t,1);if(r!==null){var i=Vt();An(r,t,1,i)}}),ap(t,1)}};Ph=function(t){if(t.tag===13){var e=cr(t,134217728);if(e!==null){var n=Vt();An(e,t,134217728,n)}ap(t,134217728)}};X_=function(t){if(t.tag===13){var e=Br(t),n=cr(t,e);if(n!==null){var r=Vt();An(n,t,e,r)}ap(t,e)}};Y_=function(){return Re};J_=function(t,e){var n=Re;try{return Re=t,e()}finally{Re=n}};id=function(t,e,n){switch(e){case"input":if(Yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zu(r);if(!i)throw Error(W(90));P_(r),Yf(r,i)}}}break;case"textarea":N_(t,n);break;case"select":e=n.value,e!=null&&gs(t,!!n.multiple,e,!1)}};F_=np;j_=ki;var YI={usingClientEntryPoint:!1,Events:[ba,ls,Zu,L_,M_,np]},Co={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JI={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=U_(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||QI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{Qu=xl.inject(JI),Fn=xl}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YI;rn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!up(e))throw Error(W(200));return GI(t,e,null,n)};rn.createRoot=function(t,e){if(!up(t))throw Error(W(299));var n=!1,r="",i=ww;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=op(t,1,!1,null,null,n,!1,r,i),t[ur]=e.current,la(t.nodeType===8?t.parentNode:t),new lp(e)};rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=U_(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t){return ki(t)};rn.hydrate=function(t,e,n){if(!lc(e))throw Error(W(200));return uc(null,t,e,!0,n)};rn.hydrateRoot=function(t,e,n){if(!up(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ww;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_w(e,null,t,1,n??null,i,!1,s,o),t[ur]=e.current,la(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ac(e)};rn.render=function(t,e,n){if(!lc(e))throw Error(W(200));return uc(null,t,e,!1,n)};rn.unmountComponentAtNode=function(t){if(!lc(t))throw Error(W(40));return t._reactRootContainer?(ki(function(){uc(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1};rn.unstable_batchedUpdates=np;rn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lc(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return uc(t,e,n,!1,r)};rn.version="18.3.1-next-f1338f8080-20240426";function Ew(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ew)}catch(t){console.error(t)}}Ew(),E_.exports=rn;var Tw=E_.exports;const ms=Na(Tw);var Cw,_y=Tw;Cw=_y.createRoot,_y.hydrateRoot;const ZI="/assets/LogoRF-BdxrwRKU.svg";var Sw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Sw);var ex=Sw.exports;const ie=Na(ex),tx=["xxl","xl","lg","md","sm","xs"],nx="xs",cc=w.createContext({prefixes:{},breakpoints:tx,minBreakpoint:nx});function oe(t,e){const{prefixes:n}=w.useContext(cc);return t||n[e]||e}function Iw(){const{breakpoints:t}=w.useContext(cc);return t}function xw(){const{minBreakpoint:t}=w.useContext(cc);return t}function rx(){const{dir:t}=w.useContext(cc);return t==="rtl"}const Pn=w.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:r,...i},s)=>{const o=oe(t,"container"),l=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(n,{ref:s,...i,className:ie(r,e?`${o}${l}`:o)})});Pn.displayName="Container";var wy={exports:{}},Md={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){function i(o,l,u,c,f,h){var m=c||"<<anonymous>>",v=h||u;if(l[u]==null)return o?new Error("Required "+f+" `"+v+"` was not specified "+("in `"+m+"`.")):null;for(var I=arguments.length,k=Array(I>6?I-6:0),P=6;P<I;P++)k[P-6]=arguments[P];return r.apply(void 0,[l,u,m,f,v].concat(k))}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}t.exports=e.default})(Md,Md.exports);var ix=Md.exports;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=ix,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function s(){for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];function c(){for(var f=arguments.length,h=Array(f),m=0;m<f;m++)h[m]=arguments[m];var v=null;return l.forEach(function(I){if(v==null){var k=I.apply(void 0,h);k!=null&&(v=k)}}),v}return(0,r.default)(c)}t.exports=e.default})(wy,wy.exports);function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(null,arguments)}function Aw(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Ey(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function sx(t){var e=ox(t,"string");return typeof e=="symbol"?e:String(e)}function ox(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ax(t,e,n){var r=w.useRef(t!==void 0),i=w.useState(e),s=i[0],o=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&s!==e&&o(e),[l?t:s,w.useCallback(function(c){for(var f=arguments.length,h=new Array(f>1?f-1:0),m=1;m<f;m++)h[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(h)),o(c)},[n])]}function cp(t,e){return Object.keys(e).reduce(function(n,r){var i,s=n,o=s[Ey(r)],l=s[r],u=Aw(s,[Ey(r),r].map(sx)),c=e[r],f=ax(l,o,t[c]),h=f[0],m=f[1];return Fd({},u,(i={},i[r]=h,i[c]=m,i))},t)}function jd(t,e){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jd(t,e)}function lx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jd(t,e)}var ux=Function.prototype.bind.call(Function.prototype.call,[].slice);function Jn(t,e){return ux(t.querySelectorAll(e))}function Rw(){const[,t]=w.useReducer(e=>!e,!1);return t}const Ty=t=>!t||typeof t=="function"?t:e=>{t.current=e};function cx(t,e){const n=Ty(t),r=Ty(e);return i=>{n&&n(i),r&&r(i)}}function Li(t,e){return w.useMemo(()=>cx(t,e),[t,e])}const fc=w.createContext(null);fc.displayName="NavContext";const Ni=w.createContext(null),ya=(t,e=null)=>t!=null?String(t):e||null,Pw=w.createContext(null),fx="data-rr-ui-",dx="rrUi";function Ks(t){return`${fx}${t}`}function hx(t){return`${dx}${t}`}function px(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t},[t]),e}function Qe(t){const e=px(t);return w.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const mx=["as","disabled"];function gx(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yx(t){return!t||t.trim()==="#"}function fp({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const f=m=>{if((e||t==="a"&&yx(n))&&m.preventDefault(),e){m.stopPropagation();return}o==null||o(m)},h=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:h},c]}const dp=w.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=gx(t,mx);const[s,{tagName:o}]=fp(Object.assign({tagName:n,disabled:r},i));return A.jsx(o,Object.assign({},i,s,{ref:e}))});dp.displayName="Button";const vx=["as","active","eventKey"];function _x(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kw({key:t,onClick:e,active:n,id:r,role:i,disabled:s}){const o=w.useContext(Ni),l=w.useContext(fc),u=w.useContext(Pw);let c=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const h=l.getControllerId(t??null),m=l.getControlledId(t??null);f[Ks("event-key")]=t,f.id=h||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=c,c||(f.tabIndex=-1),s&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=Qe(h=>{s||(e==null||e(h),t!=null&&o&&!h.isPropagationStopped()&&o(t,h))}),[f,{isActive:c}]}const Nw=w.forwardRef((t,e)=>{let{as:n=dp,active:r,eventKey:i}=t,s=_x(t,vx);const[o,l]=kw(Object.assign({key:ya(i,s.href),active:r},s));return o[Ks("active")]=l.isActive,A.jsx(n,Object.assign({},s,o,{ref:e}))});Nw.displayName="NavItem";const wx=["as","onSelect","activeKey","role","onKeyDown"];function Ex(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Cy=()=>{},Sy=Ks("event-key"),Dw=w.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:s,onKeyDown:o}=t,l=Ex(t,wx);const u=Rw(),c=w.useRef(!1),f=w.useContext(Ni),h=w.useContext(Pw);let m,v;h&&(s=s||"tablist",i=h.activeKey,m=h.getControlledId,v=h.getControllerId);const I=w.useRef(null),k=T=>{const O=I.current;if(!O)return null;const b=Jn(O,`[${Sy}]:not([aria-disabled=true])`),M=O.querySelector("[aria-selected=true]");if(!M||M!==document.activeElement)return null;const E=b.indexOf(M);if(E===-1)return null;let g=E+T;return g>=b.length&&(g=0),g<0&&(g=b.length-1),b[g]},P=(T,O)=>{T!=null&&(r==null||r(T,O),f==null||f(T,O))},S=T=>{if(o==null||o(T),!h)return;let O;switch(T.key){case"ArrowLeft":case"ArrowUp":O=k(-1);break;case"ArrowRight":case"ArrowDown":O=k(1);break;default:return}O&&(T.preventDefault(),P(O.dataset[hx("EventKey")]||null,T),c.current=!0,u())};w.useEffect(()=>{if(I.current&&c.current){const T=I.current.querySelector(`[${Sy}][aria-selected=true]`);T==null||T.focus()}c.current=!1});const y=Li(e,I);return A.jsx(Ni.Provider,{value:P,children:A.jsx(fc.Provider,{value:{role:s,activeKey:ya(i),getControlledId:m||Cy,getControllerId:v||Cy},children:A.jsx(n,Object.assign({},l,{onKeyDown:S,ref:y,role:s}))})})});Dw.displayName="Nav";const Tx=Object.assign(Dw,{Item:Nw}),Mi=w.createContext(null);Mi.displayName="NavbarContext";const hp=w.createContext(null);hp.displayName="CardHeaderContext";const Vw=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=oe(e,"nav-item"),A.jsx(n,{ref:i,className:ie(t,e),...r})));Vw.displayName="NavItem";function Cx(){return w.useState(null)}function Sx(t,e,n,r=!1){const i=Qe(n);w.useEffect(()=>{const s=typeof t=="function"?t():t;return s.addEventListener(e,i,r),()=>s.removeEventListener(e,i,r)},[t])}function Ow(){const t=w.useRef(!0),e=w.useRef(()=>t.current);return w.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function bw(t){const e=w.useRef(null);return w.useEffect(()=>{e.current=t}),e.current}const Ix=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",xx=typeof document<"u",Su=xx||Ix?w.useLayoutEffect:w.useEffect,Ax=["onKeyDown"];function Rx(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Px(t){return!t||t.trim()==="#"}const pp=w.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=Rx(t,Ax);const[i]=fp(Object.assign({tagName:"a"},r)),s=Qe(o=>{i.onKeyDown(o),n==null||n(o)});return Px(r.href)||r.role==="button"?A.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:s})):A.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});pp.displayName="Anchor";const mp=w.forwardRef(({bsPrefix:t,className:e,as:n=pp,active:r,eventKey:i,disabled:s=!1,...o},l)=>{t=oe(t,"nav-link");const[u,c]=kw({key:ya(i,o.href),active:r,disabled:s,...o});return A.jsx(n,{...o,...u,ref:l,disabled:s,className:ie(e,t,s&&"disabled",c.isActive&&"active")})});mp.displayName="NavLink";const Lw=w.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:s=!1,justify:o=!1,navbar:l,navbarScroll:u,className:c,activeKey:f,...h}=cp(t,{activeKey:"onSelect"}),m=oe(r,"nav");let v,I,k=!1;const P=w.useContext(Mi),S=w.useContext(hp);return P?(v=P.bsPrefix,k=l??!0):S&&({cardHeaderBsPrefix:I}=S),A.jsx(Tx,{as:n,ref:e,activeKey:f,className:ie(c,{[m]:!k,[`${v}-nav`]:k,[`${v}-nav-scroll`]:k&&u,[`${I}-${i}`]:!!I,[`${m}-${i}`]:!!i,[`${m}-fill`]:s,[`${m}-justified`]:o}),...h})});Lw.displayName="Nav";const kx=Object.assign(Lw,{Item:Vw,Link:mp}),Mw=w.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=oe(t,"navbar-brand");const s=n||(r.href?"a":"span");return A.jsx(s,{...r,ref:i,className:ie(e,t)})});Mw.displayName="NavbarBrand";function dc(t){return t&&t.ownerDocument||document}function Nx(t){var e=dc(t);return e&&e.defaultView||window}function Dx(t,e){return Nx(t).getComputedStyle(t,e)}var Vx=/([A-Z])/g;function Ox(t){return t.replace(Vx,"-$1").toLowerCase()}var bx=/^ms-/;function Al(t){return Ox(t).replace(bx,"-ms-")}var Lx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Mx(t){return!!(t&&Lx.test(t))}function ir(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(Al(e))||Dx(t).getPropertyValue(Al(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(Al(i)):Mx(i)?r+=i+"("+s+") ":n+=Al(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Fw={exports:{}},Fx="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jx=Fx,$x=jx;function jw(){}function $w(){}$w.resetWarningCache=jw;var Bx=function(){function t(r,i,s,o,l,u){if(u!==$x){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$w,resetWarningCache:jw};return n.PropTypes=n,n};Fw.exports=Bx();var Ux=Fw.exports;const $t=Na(Ux),Iy={disabled:!1},Bw=xe.createContext(null);var zx=function(e){return e.scrollTop},Do="unmounted",xr="exited",Cn="entering",Zn="entered",va="exiting",_r=function(t){lx(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,l=o&&!o.isMounting?r.enter:r.appear,u;return s.appearStatus=null,r.in?l?(u=xr,s.appearStatus=Cn):u=Zn:r.unmountOnExit||r.mountOnEnter?u=Do:u=xr,s.state={status:u},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Do?{status:xr}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==Cn&&o!==Zn&&(s=Cn):(o===Cn||o===Zn)&&(s=va)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,l;return s=o=l=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,l=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Cn){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ms.findDOMNode(this);o&&zx(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===xr&&this.setState({status:Do})},n.performEnter=function(i){var s=this,o=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[ms.findDOMNode(this),l],c=u[0],f=u[1],h=this.getTimeouts(),m=l?h.appear:h.enter;if(!i&&!o||Iy.disabled){this.safeSetState({status:Zn},function(){s.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:Cn},function(){s.props.onEntering(c,f),s.onTransitionEnd(m,function(){s.safeSetState({status:Zn},function(){s.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),l=this.props.nodeRef?void 0:ms.findDOMNode(this);if(!s||Iy.disabled){this.safeSetState({status:xr},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:va},function(){i.props.onExiting(l),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:xr},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(l){o&&(o=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ms.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!o||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Do)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=Aw(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xe.createElement(Bw.Provider,{value:null},typeof o=="function"?o(i,l):xe.cloneElement(xe.Children.only(o),l))},e}(xe.Component);_r.contextType=Bw;_r.propTypes={};function Xi(){}_r.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xi,onEntering:Xi,onEntered:Xi,onExit:Xi,onExiting:Xi,onExited:Xi};_r.UNMOUNTED=Do;_r.EXITED=xr;_r.ENTERING=Cn;_r.ENTERED=Zn;_r.EXITING=va;const hc=!!(typeof window<"u"&&window.document&&window.document.createElement);var $d=!1,Bd=!1;try{var Sf={get passive(){return $d=!0},get once(){return Bd=$d=!0}};hc&&(window.addEventListener("test",Sf,Sf),window.removeEventListener("test",Sf,!0))}catch{}function Uw(t,e,n,r){if(r&&typeof r!="boolean"&&!Bd){var i=r.once,s=r.capture,o=n;!Bd&&i&&(o=n.__once||function l(u){this.removeEventListener(e,l,s),n.call(this,u)},n.__once=o),t.addEventListener(e,o,$d?r:s)}t.addEventListener(e,n,r)}function Wx(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Dr(t,e,n,r){return Uw(t,e,n,r),function(){Wx(t,e,n,r)}}function qx(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function Hx(t){var e=ir(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function Kx(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||qx(t,"transitionend",!0)},e+n),s=Dr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),s()}}function Gx(t,e,n,r){n==null&&(n=Hx(t)||0);var i=Kx(t,n,r),s=Dr(t,"transitionend",e);return function(){i(),s()}}function xy(t,e){const n=ir(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function gp(t,e){const n=xy(t,"transitionDuration"),r=xy(t,"transitionDelay"),i=Gx(t,s=>{s.target===t&&(i(),e(s))},n+r)}function So(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function zw(t){t.offsetHeight}function Qx(t){return t&&"setState"in t?ms.findDOMNode(t):t??null}const yp=xe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:s,addEndListener:o,children:l,childRef:u,...c},f)=>{const h=w.useRef(null),m=Li(h,u),v=M=>{m(Qx(M))},I=M=>E=>{M&&h.current&&M(h.current,E)},k=w.useCallback(I(t),[t]),P=w.useCallback(I(e),[e]),S=w.useCallback(I(n),[n]),y=w.useCallback(I(r),[r]),T=w.useCallback(I(i),[i]),O=w.useCallback(I(s),[s]),b=w.useCallback(I(o),[o]);return A.jsx(_r,{ref:f,...c,onEnter:k,onEntered:S,onEntering:P,onExit:y,onExited:O,onExiting:T,addEndListener:b,nodeRef:h,children:typeof l=="function"?(M,E)=>l(M,{...E,ref:v}):xe.cloneElement(l,{ref:v})})}),Xx={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Yx(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=Xx[t];return r+parseInt(ir(e,i[0]),10)+parseInt(ir(e,i[1]),10)}const Jx={[xr]:"collapse",[va]:"collapsing",[Cn]:"collapsing",[Zn]:"collapse show"},Zx=xe.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:s,children:o,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:f=!1,unmountOnExit:h=!1,appear:m=!1,getDimensionValue:v=Yx,...I},k)=>{const P=typeof l=="function"?l():l,S=w.useMemo(()=>So(M=>{M.style[P]="0"},t),[P,t]),y=w.useMemo(()=>So(M=>{const E=`scroll${P[0].toUpperCase()}${P.slice(1)}`;M.style[P]=`${M[E]}px`},e),[P,e]),T=w.useMemo(()=>So(M=>{M.style[P]=null},n),[P,n]),O=w.useMemo(()=>So(M=>{M.style[P]=`${v(P,M)}px`,zw(M)},r),[r,v,P]),b=w.useMemo(()=>So(M=>{M.style[P]=null},i),[P,i]);return A.jsx(yp,{ref:k,addEndListener:gp,...I,"aria-expanded":I.role?u:null,onEnter:S,onEntering:y,onEntered:T,onExit:O,onExiting:b,childRef:o.ref,in:u,timeout:c,mountOnEnter:f,unmountOnExit:h,appear:m,children:(M,E)=>xe.cloneElement(o,{...E,className:ie(s,o.props.className,Jx[M],P==="width"&&"collapse-horizontal")})})}),Ww=w.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=oe(e,"navbar-collapse");const i=w.useContext(Mi);return A.jsx(Zx,{in:!!(i&&i.expanded),...n,children:A.jsx("div",{ref:r,className:e,children:t})})});Ww.displayName="NavbarCollapse";const qw=w.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:s,...o},l)=>{t=oe(t,"navbar-toggler");const{onToggle:u,expanded:c}=w.useContext(Mi)||{},f=Qe(h=>{s&&s(h),u&&u()});return i==="button"&&(o.type="button"),A.jsx(i,{...o,ref:l,onClick:f,"aria-label":r,className:ie(e,t,!c&&"collapsed"),children:n||A.jsx("span",{className:`${t}-icon`})})});qw.displayName="NavbarToggle";const Ud=new WeakMap,Ay=(t,e)=>{if(!t||!e)return;const n=Ud.get(e)||new Map;Ud.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function eA(t,e=typeof window>"u"?void 0:window){const n=Ay(t,e),[r,i]=w.useState(()=>n?n.matches:!1);return Su(()=>{let s=Ay(t,e);if(!s)return i(!1);let o=Ud.get(e);const l=()=>{i(s.matches)};return s.refCount++,s.addListener(l),l(),()=>{s.removeListener(l),s.refCount--,s.refCount<=0&&(o==null||o.delete(s.media)),s=void 0}},[t]),r}function tA(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function s(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function o(l,u,c){let f;typeof l=="object"?(f=l,c=u,u=!0):(u=u||!0,f={[l]:u});let h=w.useMemo(()=>Object.entries(f).reduce((m,[v,I])=>((I==="up"||I===!0)&&(m=n(m,s(v))),(I==="down"||I===!0)&&(m=n(m,i(v))),m),""),[JSON.stringify(f)]);return eA(h,c)}return o}const nA=tA({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function If(t){t===void 0&&(t=dc());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Iu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function rA(t){const e=w.useRef(t);return e.current=t,e}function iA(t){const e=rA(t);w.useEffect(()=>()=>e.current(),[])}function sA(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Ry=Ks("modal-open");class vp{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return sA(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(ir(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Ry,""),ir(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Ry),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const Hw=w.createContext(hc?window:void 0);Hw.Provider;function pc(){return w.useContext(Hw)}const xf=(t,e)=>hc?t==null?(e||dc()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function oA(t,e){const n=pc(),[r,i]=w.useState(()=>xf(t,n==null?void 0:n.document));if(!r){const s=xf(t);s&&i(s)}return w.useEffect(()=>{},[e,r]),w.useEffect(()=>{const s=xf(t);s!==r&&i(s)},[t,r]),r}function aA({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const s=w.useRef(null),o=w.useRef(e),l=Qe(n);w.useEffect(()=>{e?o.current=!0:l(s.current)},[e,l]);const u=Li(s,t.ref),c=w.cloneElement(t,{ref:u});return e?c:i||!o.current&&r?null:c}function lA(t){return t.code==="Escape"||t.keyCode===27}function Kw(){const t=w.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}const uA=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function cA(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fA(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:s,onExited:o,addEndListener:l,children:u}=t,c=cA(t,uA);const{major:f}=Kw(),h=f>=19?u.props.ref:u.ref,m=w.useRef(null),v=Li(m,typeof u=="function"?null:h),I=M=>E=>{M&&m.current&&M(m.current,E)},k=w.useCallback(I(e),[e]),P=w.useCallback(I(n),[n]),S=w.useCallback(I(r),[r]),y=w.useCallback(I(i),[i]),T=w.useCallback(I(s),[s]),O=w.useCallback(I(o),[o]),b=w.useCallback(I(l),[l]);return Object.assign({},c,{nodeRef:m},e&&{onEnter:k},n&&{onEntering:P},r&&{onEntered:S},i&&{onExit:y},s&&{onExiting:T},o&&{onExited:O},l&&{addEndListener:b},{children:typeof u=="function"?(M,E)=>u(M,Object.assign({},E,{ref:v})):w.cloneElement(u,{ref:v})})}const dA=["component"];function hA(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const pA=w.forwardRef((t,e)=>{let{component:n}=t,r=hA(t,dA);const i=fA(r);return A.jsx(n,Object.assign({ref:e},i))});function mA({in:t,onTransition:e}){const n=w.useRef(null),r=w.useRef(!0),i=Qe(e);return Su(()=>{if(!n.current)return;let s=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>s}),()=>{s=!0}},[t,i]),Su(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function gA({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[s,o]=w.useState(!e);e&&s&&o(!1);const l=mA({in:!!e,onTransition:c=>{const f=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(o(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(f,h=>{throw c.in||o(!0),h})}}),u=Li(l,t.ref);return s&&!e?null:w.cloneElement(t,{ref:u})}function Py(t,e,n){return t?A.jsx(pA,Object.assign({},n,{component:t})):e?A.jsx(gA,Object.assign({},n,{transition:e})):A.jsx(aA,Object.assign({},n))}const yA=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vA(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let Af;function _A(t){return Af||(Af=new vp({ownerDocument:t==null?void 0:t.document})),Af}function wA(t){const e=pc(),n=t||_A(e),r=w.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:w.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:w.useCallback(i=>{r.current.backdrop=i},[])})}const Gw=w.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:s,children:o,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:f,transition:h,runTransition:m,backdropTransition:v,runBackdropTransition:I,autoFocus:k=!0,enforceFocus:P=!0,restoreFocus:S=!0,restoreFocusOptions:y,renderDialog:T,renderBackdrop:O=ke=>A.jsx("div",Object.assign({},ke)),manager:b,container:M,onShow:E,onHide:g=()=>{},onExit:x,onExited:R,onExiting:D,onEnter:N,onEntering:C,onEntered:ne}=t,ue=vA(t,yA);const ae=pc(),ce=oA(M),z=wA(b),Y=Ow(),Q=bw(n),[pe,he]=w.useState(!n),ve=w.useRef(null);w.useImperativeHandle(e,()=>z,[z]),hc&&!Q&&n&&(ve.current=If(ae==null?void 0:ae.document)),n&&pe&&he(!1);const Ce=Qe(()=>{if(z.add(),an.current=Dr(document,"keydown",Rt),on.current=Dr(document,"focus",()=>setTimeout(qe),!0),E&&E(),k){var ke,qn;const Hn=If((ke=(qn=z.dialog)==null?void 0:qn.ownerDocument)!=null?ke:ae==null?void 0:ae.document);z.dialog&&Hn&&!Iu(z.dialog,Hn)&&(ve.current=Hn,z.dialog.focus())}}),Pe=Qe(()=>{if(z.remove(),an.current==null||an.current(),on.current==null||on.current(),S){var ke;(ke=ve.current)==null||ke.focus==null||ke.focus(y),ve.current=null}});w.useEffect(()=>{!n||!ce||Ce()},[n,ce,Ce]),w.useEffect(()=>{pe&&Pe()},[pe,Pe]),iA(()=>{Pe()});const qe=Qe(()=>{if(!P||!Y()||!z.isTopModal())return;const ke=If(ae==null?void 0:ae.document);z.dialog&&ke&&!Iu(z.dialog,ke)&&z.dialog.focus()}),nt=Qe(ke=>{ke.target===ke.currentTarget&&(c==null||c(ke),l===!0&&g())}),Rt=Qe(ke=>{u&&lA(ke)&&z.isTopModal()&&(f==null||f(ke),ke.defaultPrevented||g())}),on=w.useRef(),an=w.useRef(),Kt=(...ke)=>{he(!0),R==null||R(...ke)};if(!ce)return null;const Nn=Object.assign({role:r,ref:z.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ue,{style:s,className:i,tabIndex:-1});let Gt=T?T(Nn):A.jsx("div",Object.assign({},Nn,{children:w.cloneElement(o,{role:"document"})}));Gt=Py(h,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:x,onExiting:D,onExited:Kt,onEnter:N,onEntering:C,onEntered:ne,children:Gt});let Qt=null;return l&&(Qt=O({ref:z.setBackdropRef,onClick:nt}),Qt=Py(v,I,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Qt})),A.jsx(A.Fragment,{children:ms.createPortal(A.jsxs(A.Fragment,{children:[Qt,Gt]}),ce)})});Gw.displayName="Modal";const EA=Object.assign(Gw,{Manager:vp}),TA={[Cn]:"show",[Zn]:"show"},Qw=w.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},s)=>{const o={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=w.useCallback((f,h)=>{zw(f),r==null||r(f,h)},[r]),{major:u}=Kw(),c=u>=19?e.props.ref:e.ref;return A.jsx(yp,{ref:s,addEndListener:gp,...o,onEnter:l,childRef:c,children:(f,h)=>w.cloneElement(e,{...h,className:ie("fade",t,e.props.className,TA[f],n[f])})})});Qw.displayName="Fade";const Xw=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=oe(e,"offcanvas-body"),A.jsx(n,{ref:i,className:ie(t,e),...r})));Xw.displayName="OffcanvasBody";const CA={[Cn]:"show",[Zn]:"show"},Yw=w.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:s=!1,appear:o=!1,...l},u)=>(t=oe(t,"offcanvas"),A.jsx(yp,{ref:u,addEndListener:gp,in:r,mountOnEnter:i,unmountOnExit:s,appear:o,...l,childRef:n.ref,children:(c,f)=>w.cloneElement(n,{...f,className:ie(e,n.props.className,(c===Cn||c===va)&&`${t}-toggling`,CA[c])})})));Yw.displayName="OffcanvasToggling";const Jw=w.createContext({onHide(){}}),SA={"aria-label":$t.string,onClick:$t.func,variant:$t.oneOf(["white"])},_p=w.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>A.jsx("button",{ref:i,type:"button",className:ie("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));_p.displayName="CloseButton";_p.propTypes=SA;const IA=w.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...s},o)=>{const l=w.useContext(Jw),u=Qe(()=>{l==null||l.onHide(),r==null||r()});return A.jsxs("div",{ref:o,...s,children:[i,n&&A.jsx(_p,{"aria-label":t,variant:e,onClick:u})]})}),Zw=w.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},s)=>(t=oe(t,"offcanvas-header"),A.jsx(IA,{ref:s,...i,className:ie(e,t),closeLabel:n,closeButton:r})));Zw.displayName="OffcanvasHeader";const wp=t=>w.forwardRef((e,n)=>A.jsx("div",{...e,ref:n,className:ie(e.className,t)})),xA=wp("h5"),eE=w.forwardRef(({className:t,bsPrefix:e,as:n=xA,...r},i)=>(e=oe(e,"offcanvas-title"),A.jsx(n,{ref:i,className:ie(t,e),...r})));eE.displayName="OffcanvasTitle";function AA(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function RA(t,e){t.classList?t.classList.add(e):AA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function ky(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function PA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=ky(t.className,e):t.setAttribute("class",ky(t.className&&t.className.baseVal||"",e))}const Yi={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class tE extends vp{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,ir(n,{[e]:`${parseFloat(ir(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],ir(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(RA(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Jn(n,Yi.FIXED_CONTENT).forEach(s=>this.adjustAndStore(r,s,e.scrollBarWidth)),Jn(n,Yi.STICKY_CONTENT).forEach(s=>this.adjustAndStore(i,s,-e.scrollBarWidth)),Jn(n,Yi.NAVBAR_TOGGLER).forEach(s=>this.adjustAndStore(i,s,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();PA(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";Jn(n,Yi.FIXED_CONTENT).forEach(s=>this.restore(r,s)),Jn(n,Yi.STICKY_CONTENT).forEach(s=>this.restore(i,s)),Jn(n,Yi.NAVBAR_TOGGLER).forEach(s=>this.restore(i,s))}}let Rf;function kA(t){return Rf||(Rf=new tE(t)),Rf}function NA(t){return A.jsx(Yw,{...t})}function DA(t){return A.jsx(Qw,{...t})}const nE=w.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:s,show:o=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:f,onShow:h,onHide:m,container:v,autoFocus:I=!0,enforceFocus:k=!0,restoreFocus:P=!0,restoreFocusOptions:S,onEntered:y,onExit:T,onExiting:O,onEnter:b,onEntering:M,onExited:E,backdropClassName:g,manager:x,renderStaticNode:R=!1,...D},N)=>{const C=w.useRef();t=oe(t,"offcanvas");const[ne,ue]=w.useState(!1),ae=Qe(m),ce=nA(s||"xs","up");w.useEffect(()=>{ue(s?o&&!ce:o)},[o,s,ce]);const z=w.useMemo(()=>({onHide:ae}),[ae]);function Y(){return x||(c?(C.current||(C.current=new tE({handleContainerOverflow:!1})),C.current):kA())}const Q=(Ce,...Pe)=>{Ce&&(Ce.style.visibility="visible"),b==null||b(Ce,...Pe)},pe=(Ce,...Pe)=>{Ce&&(Ce.style.visibility=""),E==null||E(...Pe)},he=w.useCallback(Ce=>A.jsx("div",{...Ce,className:ie(`${t}-backdrop`,g)}),[g,t]),ve=Ce=>A.jsx("div",{...Ce,...D,className:ie(e,s?`${t}-${s}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return A.jsxs(A.Fragment,{children:[!ne&&(s||R)&&ve({}),A.jsx(Jw.Provider,{value:z,children:A.jsx(EA,{show:ne,ref:N,backdrop:l,container:v,keyboard:u,autoFocus:I,enforceFocus:k&&!c,restoreFocus:P,restoreFocusOptions:S,onEscapeKeyDown:f,onShow:h,onHide:ae,onEnter:Q,onEntering:M,onEntered:y,onExit:T,onExiting:O,onExited:pe,manager:Y(),transition:NA,backdropTransition:DA,renderBackdrop:he,renderDialog:ve})})]})});nE.displayName="Offcanvas";const VA=Object.assign(nE,{Body:Xw,Header:Zw,Title:eE}),rE=w.forwardRef(({onHide:t,...e},n)=>{const r=w.useContext(Mi),i=Qe(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return A.jsx(VA,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});rE.displayName="NavbarOffcanvas";const iE=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=oe(e,"navbar-text"),A.jsx(n,{ref:i,className:ie(t,e),...r})));iE.displayName="NavbarText";const sE=w.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:s,fixed:o,sticky:l,className:u,as:c="nav",expanded:f,onToggle:h,onSelect:m,collapseOnSelect:v=!1,...I}=cp(t,{expanded:"onToggle"}),k=oe(n,"navbar"),P=w.useCallback((...T)=>{m==null||m(...T),v&&f&&(h==null||h(!1))},[m,v,f,h]);I.role===void 0&&c!=="nav"&&(I.role="navigation");let S=`${k}-expand`;typeof r=="string"&&(S=`${S}-${r}`);const y=w.useMemo(()=>({onToggle:()=>h==null?void 0:h(!f),bsPrefix:k,expanded:!!f,expand:r}),[k,f,r,h]);return A.jsx(Mi.Provider,{value:y,children:A.jsx(Ni.Provider,{value:P,children:A.jsx(c,{ref:e,...I,className:ie(u,k,r&&S,i&&`${k}-${i}`,s&&`bg-${s}`,l&&`sticky-${l}`,o&&`fixed-${o}`)})})})});sE.displayName="Navbar";const Pf=Object.assign(sE,{Brand:Mw,Collapse:Ww,Offcanvas:rE,Text:iE,Toggle:qw});function OA(t,e,n){const r=w.useRef(t!==void 0),[i,s]=w.useState(e),o=t!==void 0,l=r.current;return r.current=o,!o&&l&&i!==e&&s(e),[o?t:i,w.useCallback((...u)=>{const[c,...f]=u;let h=n==null?void 0:n(c,...f);return s(c),h},[n])]}const mc=w.createContext(null);var Ny=Object.prototype.hasOwnProperty;function Dy(t,e,n){for(n of t.keys())if(Ho(n,e))return n}function Ho(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ho(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=Dy(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=Dy(e,i),!i)||!Ho(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Ny.call(t,n)&&++r&&!Ny.call(e,n)||!(n in e)||!Ho(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function bA(t){const e=Ow();return[t[0],w.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var qt="top",gn="bottom",yn="right",Ht="left",Ep="auto",Ma=[qt,gn,yn,Ht],Ns="start",_a="end",LA="clippingParents",oE="viewport",Io="popper",MA="reference",Vy=Ma.reduce(function(t,e){return t.concat([e+"-"+Ns,e+"-"+_a])},[]),aE=[].concat(Ma,[Ep]).reduce(function(t,e){return t.concat([e,e+"-"+Ns,e+"-"+_a])},[]),FA="beforeRead",jA="read",$A="afterRead",BA="beforeMain",UA="main",zA="afterMain",WA="beforeWrite",qA="write",HA="afterWrite",KA=[FA,jA,$A,BA,UA,zA,WA,qA,HA];function $n(t){return t.split("-")[0]}function nn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Di(t){var e=nn(t).Element;return t instanceof e||t instanceof Element}function Bn(t){var e=nn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Tp(t){if(typeof ShadowRoot>"u")return!1;var e=nn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Si=Math.max,xu=Math.min,Ds=Math.round;function zd(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function lE(){return!/^((?!chrome|android).)*safari/i.test(zd())}function Vs(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Bn(t)&&(i=t.offsetWidth>0&&Ds(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ds(r.height)/t.offsetHeight||1);var o=Di(t)?nn(t):window,l=o.visualViewport,u=!lE()&&n,c=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/s,h=r.width/i,m=r.height/s;return{width:h,height:m,top:f,right:c+h,bottom:f+m,left:c,x:c,y:f}}function Cp(t){var e=Vs(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function uE(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Tp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Qr(t){return t?(t.nodeName||"").toLowerCase():null}function dr(t){return nn(t).getComputedStyle(t)}function GA(t){return["table","td","th"].indexOf(Qr(t))>=0}function si(t){return((Di(t)?t.ownerDocument:t.document)||window.document).documentElement}function gc(t){return Qr(t)==="html"?t:t.assignedSlot||t.parentNode||(Tp(t)?t.host:null)||si(t)}function Oy(t){return!Bn(t)||dr(t).position==="fixed"?null:t.offsetParent}function QA(t){var e=/firefox/i.test(zd()),n=/Trident/i.test(zd());if(n&&Bn(t)){var r=dr(t);if(r.position==="fixed")return null}var i=gc(t);for(Tp(i)&&(i=i.host);Bn(i)&&["html","body"].indexOf(Qr(i))<0;){var s=dr(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Fa(t){for(var e=nn(t),n=Oy(t);n&&GA(n)&&dr(n).position==="static";)n=Oy(n);return n&&(Qr(n)==="html"||Qr(n)==="body"&&dr(n).position==="static")?e:n||QA(t)||e}function Sp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ko(t,e,n){return Si(t,xu(e,n))}function XA(t,e,n){var r=Ko(t,e,n);return r>n?n:r}function cE(){return{top:0,right:0,bottom:0,left:0}}function fE(t){return Object.assign({},cE(),t)}function dE(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var YA=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,fE(typeof e!="number"?e:dE(e,Ma))};function JA(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,l=$n(n.placement),u=Sp(l),c=[Ht,yn].indexOf(l)>=0,f=c?"height":"width";if(!(!s||!o)){var h=YA(i.padding,n),m=Cp(s),v=u==="y"?qt:Ht,I=u==="y"?gn:yn,k=n.rects.reference[f]+n.rects.reference[u]-o[u]-n.rects.popper[f],P=o[u]-n.rects.reference[u],S=Fa(s),y=S?u==="y"?S.clientHeight||0:S.clientWidth||0:0,T=k/2-P/2,O=h[v],b=y-m[f]-h[I],M=y/2-m[f]/2+T,E=Ko(O,M,b),g=u;n.modifiersData[r]=(e={},e[g]=E,e.centerOffset=E-M,e)}}function ZA(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||uE(e.elements.popper,i)&&(e.elements.arrow=i))}const eR={name:"arrow",enabled:!0,phase:"main",fn:JA,effect:ZA,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Os(t){return t.split("-")[1]}var tR={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nR(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ds(n*i)/i||0,y:Ds(r*i)/i||0}}function by(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,l=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,h=t.isFixed,m=o.x,v=m===void 0?0:m,I=o.y,k=I===void 0?0:I,P=typeof f=="function"?f({x:v,y:k}):{x:v,y:k};v=P.x,k=P.y;var S=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),T=Ht,O=qt,b=window;if(c){var M=Fa(n),E="clientHeight",g="clientWidth";if(M===nn(n)&&(M=si(n),dr(M).position!=="static"&&l==="absolute"&&(E="scrollHeight",g="scrollWidth")),M=M,i===qt||(i===Ht||i===yn)&&s===_a){O=gn;var x=h&&M===b&&b.visualViewport?b.visualViewport.height:M[E];k-=x-r.height,k*=u?1:-1}if(i===Ht||(i===qt||i===gn)&&s===_a){T=yn;var R=h&&M===b&&b.visualViewport?b.visualViewport.width:M[g];v-=R-r.width,v*=u?1:-1}}var D=Object.assign({position:l},c&&tR),N=f===!0?nR({x:v,y:k},nn(n)):{x:v,y:k};if(v=N.x,k=N.y,u){var C;return Object.assign({},D,(C={},C[O]=y?"0":"",C[T]=S?"0":"",C.transform=(b.devicePixelRatio||1)<=1?"translate("+v+"px, "+k+"px)":"translate3d("+v+"px, "+k+"px, 0)",C))}return Object.assign({},D,(e={},e[O]=y?k+"px":"",e[T]=S?v+"px":"",e.transform="",e))}function rR(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:$n(e.placement),variation:Os(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,by(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,by(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const iR={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:rR,data:{}};var Rl={passive:!0};function sR(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,l=o===void 0?!0:o,u=nn(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(f){f.addEventListener("scroll",n.update,Rl)}),l&&u.addEventListener("resize",n.update,Rl),function(){s&&c.forEach(function(f){f.removeEventListener("scroll",n.update,Rl)}),l&&u.removeEventListener("resize",n.update,Rl)}}const oR={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:sR,data:{}};var aR={left:"right",right:"left",bottom:"top",top:"bottom"};function ql(t){return t.replace(/left|right|bottom|top/g,function(e){return aR[e]})}var lR={start:"end",end:"start"};function Ly(t){return t.replace(/start|end/g,function(e){return lR[e]})}function Ip(t){var e=nn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function xp(t){return Vs(si(t)).left+Ip(t).scrollLeft}function uR(t,e){var n=nn(t),r=si(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;var c=lE();(c||!c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l+xp(t),y:u}}function cR(t){var e,n=si(t),r=Ip(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Si(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Si(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+xp(t),u=-r.scrollTop;return dr(i||n).direction==="rtl"&&(l+=Si(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:l,y:u}}function Ap(t){var e=dr(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function hE(t){return["html","body","#document"].indexOf(Qr(t))>=0?t.ownerDocument.body:Bn(t)&&Ap(t)?t:hE(gc(t))}function Go(t,e){var n;e===void 0&&(e=[]);var r=hE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=nn(r),o=i?[s].concat(s.visualViewport||[],Ap(r)?r:[]):r,l=e.concat(o);return i?l:l.concat(Go(gc(o)))}function Wd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function fR(t,e){var n=Vs(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function My(t,e,n){return e===oE?Wd(uR(t,n)):Di(e)?fR(e,n):Wd(cR(si(t)))}function dR(t){var e=Go(gc(t)),n=["absolute","fixed"].indexOf(dr(t).position)>=0,r=n&&Bn(t)?Fa(t):t;return Di(r)?e.filter(function(i){return Di(i)&&uE(i,r)&&Qr(i)!=="body"}):[]}function hR(t,e,n,r){var i=e==="clippingParents"?dR(t):[].concat(e),s=[].concat(i,[n]),o=s[0],l=s.reduce(function(u,c){var f=My(t,c,r);return u.top=Si(f.top,u.top),u.right=xu(f.right,u.right),u.bottom=xu(f.bottom,u.bottom),u.left=Si(f.left,u.left),u},My(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function pE(t){var e=t.reference,n=t.element,r=t.placement,i=r?$n(r):null,s=r?Os(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case qt:u={x:o,y:e.y-n.height};break;case gn:u={x:o,y:e.y+e.height};break;case yn:u={x:e.x+e.width,y:l};break;case Ht:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var c=i?Sp(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(s){case Ns:u[c]=u[c]-(e[f]/2-n[f]/2);break;case _a:u[c]=u[c]+(e[f]/2-n[f]/2);break}}return u}function wa(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,l=n.boundary,u=l===void 0?LA:l,c=n.rootBoundary,f=c===void 0?oE:c,h=n.elementContext,m=h===void 0?Io:h,v=n.altBoundary,I=v===void 0?!1:v,k=n.padding,P=k===void 0?0:k,S=fE(typeof P!="number"?P:dE(P,Ma)),y=m===Io?MA:Io,T=t.rects.popper,O=t.elements[I?y:m],b=hR(Di(O)?O:O.contextElement||si(t.elements.popper),u,f,o),M=Vs(t.elements.reference),E=pE({reference:M,element:T,strategy:"absolute",placement:i}),g=Wd(Object.assign({},T,E)),x=m===Io?g:M,R={top:b.top-x.top+S.top,bottom:x.bottom-b.bottom+S.bottom,left:b.left-x.left+S.left,right:x.right-b.right+S.right},D=t.modifiersData.offset;if(m===Io&&D){var N=D[i];Object.keys(R).forEach(function(C){var ne=[yn,gn].indexOf(C)>=0?1:-1,ue=[qt,gn].indexOf(C)>=0?"y":"x";R[C]+=N[ue]*ne})}return R}function pR(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?aE:u,f=Os(r),h=f?l?Vy:Vy.filter(function(I){return Os(I)===f}):Ma,m=h.filter(function(I){return c.indexOf(I)>=0});m.length===0&&(m=h);var v=m.reduce(function(I,k){return I[k]=wa(t,{placement:k,boundary:i,rootBoundary:s,padding:o})[$n(k)],I},{});return Object.keys(v).sort(function(I,k){return v[I]-v[k]})}function mR(t){if($n(t)===Ep)return[];var e=ql(t);return[Ly(t),e,Ly(e)]}function gR(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!0:o,u=n.fallbackPlacements,c=n.padding,f=n.boundary,h=n.rootBoundary,m=n.altBoundary,v=n.flipVariations,I=v===void 0?!0:v,k=n.allowedAutoPlacements,P=e.options.placement,S=$n(P),y=S===P,T=u||(y||!I?[ql(P)]:mR(P)),O=[P].concat(T).reduce(function(Ce,Pe){return Ce.concat($n(Pe)===Ep?pR(e,{placement:Pe,boundary:f,rootBoundary:h,padding:c,flipVariations:I,allowedAutoPlacements:k}):Pe)},[]),b=e.rects.reference,M=e.rects.popper,E=new Map,g=!0,x=O[0],R=0;R<O.length;R++){var D=O[R],N=$n(D),C=Os(D)===Ns,ne=[qt,gn].indexOf(N)>=0,ue=ne?"width":"height",ae=wa(e,{placement:D,boundary:f,rootBoundary:h,altBoundary:m,padding:c}),ce=ne?C?yn:Ht:C?gn:qt;b[ue]>M[ue]&&(ce=ql(ce));var z=ql(ce),Y=[];if(s&&Y.push(ae[N]<=0),l&&Y.push(ae[ce]<=0,ae[z]<=0),Y.every(function(Ce){return Ce})){x=D,g=!1;break}E.set(D,Y)}if(g)for(var Q=I?3:1,pe=function(Pe){var qe=O.find(function(nt){var Rt=E.get(nt);if(Rt)return Rt.slice(0,Pe).every(function(on){return on})});if(qe)return x=qe,"break"},he=Q;he>0;he--){var ve=pe(he);if(ve==="break")break}e.placement!==x&&(e.modifiersData[r]._skip=!0,e.placement=x,e.reset=!0)}}const yR={name:"flip",enabled:!0,phase:"main",fn:gR,requiresIfExists:["offset"],data:{_skip:!1}};function Fy(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function jy(t){return[qt,yn,gn,Ht].some(function(e){return t[e]>=0})}function vR(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=wa(e,{elementContext:"reference"}),l=wa(e,{altBoundary:!0}),u=Fy(o,r),c=Fy(l,i,s),f=jy(u),h=jy(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":h})}const _R={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:vR};function wR(t,e,n){var r=$n(t),i=[Ht,qt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],l=s[1];return o=o||0,l=(l||0)*i,[Ht,yn].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function ER(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=aE.reduce(function(f,h){return f[h]=wR(h,e.rects,s),f},{}),l=o[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const TR={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ER};function CR(t){var e=t.state,n=t.name;e.modifiersData[n]=pE({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const SR={name:"popperOffsets",enabled:!0,phase:"read",fn:CR,data:{}};function IR(t){return t==="x"?"y":"x"}function xR(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,l=o===void 0?!1:o,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,h=n.padding,m=n.tether,v=m===void 0?!0:m,I=n.tetherOffset,k=I===void 0?0:I,P=wa(e,{boundary:u,rootBoundary:c,padding:h,altBoundary:f}),S=$n(e.placement),y=Os(e.placement),T=!y,O=Sp(S),b=IR(O),M=e.modifiersData.popperOffsets,E=e.rects.reference,g=e.rects.popper,x=typeof k=="function"?k(Object.assign({},e.rects,{placement:e.placement})):k,R=typeof x=="number"?{mainAxis:x,altAxis:x}:Object.assign({mainAxis:0,altAxis:0},x),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(M){if(s){var C,ne=O==="y"?qt:Ht,ue=O==="y"?gn:yn,ae=O==="y"?"height":"width",ce=M[O],z=ce+P[ne],Y=ce-P[ue],Q=v?-g[ae]/2:0,pe=y===Ns?E[ae]:g[ae],he=y===Ns?-g[ae]:-E[ae],ve=e.elements.arrow,Ce=v&&ve?Cp(ve):{width:0,height:0},Pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:cE(),qe=Pe[ne],nt=Pe[ue],Rt=Ko(0,E[ae],Ce[ae]),on=T?E[ae]/2-Q-Rt-qe-R.mainAxis:pe-Rt-qe-R.mainAxis,an=T?-E[ae]/2+Q+Rt+nt+R.mainAxis:he+Rt+nt+R.mainAxis,Kt=e.elements.arrow&&Fa(e.elements.arrow),Nn=Kt?O==="y"?Kt.clientTop||0:Kt.clientLeft||0:0,Gt=(C=D==null?void 0:D[O])!=null?C:0,Qt=ce+on-Gt-Nn,ke=ce+an-Gt,qn=Ko(v?xu(z,Qt):z,ce,v?Si(Y,ke):Y);M[O]=qn,N[O]=qn-ce}if(l){var Hn,V=O==="x"?qt:Ht,F=O==="x"?gn:yn,$=M[b],G=b==="y"?"height":"width",H=$+P[V],q=$-P[F],te=[qt,Ht].indexOf(S)!==-1,fe=(Hn=D==null?void 0:D[b])!=null?Hn:0,me=te?H:$-E[G]-g[G]-fe+R.altAxis,ge=te?$+E[G]+g[G]-fe-R.altAxis:q,Pt=v&&te?XA(me,$,ge):Ko(v?me:H,$,v?ge:q);M[b]=Pt,N[b]=Pt-$}e.modifiersData[r]=N}}const AR={name:"preventOverflow",enabled:!0,phase:"main",fn:xR,requiresIfExists:["offset"]};function RR(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function PR(t){return t===nn(t)||!Bn(t)?Ip(t):RR(t)}function kR(t){var e=t.getBoundingClientRect(),n=Ds(e.width)/t.offsetWidth||1,r=Ds(e.height)/t.offsetHeight||1;return n!==1||r!==1}function NR(t,e,n){n===void 0&&(n=!1);var r=Bn(e),i=Bn(e)&&kR(e),s=si(e),o=Vs(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Qr(e)!=="body"||Ap(s))&&(l=PR(e)),Bn(e)?(u=Vs(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=xp(s))),{x:o.left+l.scrollLeft-u.x,y:o.top+l.scrollTop-u.y,width:o.width,height:o.height}}function DR(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function VR(t){var e=DR(t);return KA.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function OR(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function bR(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var $y={placement:"bottom",modifiers:[],strategy:"absolute"};function By(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function LR(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?$y:i;return function(l,u,c){c===void 0&&(c=s);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},$y,s),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},h=[],m=!1,v={state:f,setOptions:function(S){var y=typeof S=="function"?S(f.options):S;k(),f.options=Object.assign({},s,f.options,y),f.scrollParents={reference:Di(l)?Go(l):l.contextElement?Go(l.contextElement):[],popper:Go(u)};var T=VR(bR([].concat(r,f.options.modifiers)));return f.orderedModifiers=T.filter(function(O){return O.enabled}),I(),v.update()},forceUpdate:function(){if(!m){var S=f.elements,y=S.reference,T=S.popper;if(By(y,T)){f.rects={reference:NR(y,Fa(T),f.options.strategy==="fixed"),popper:Cp(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var O=0;O<f.orderedModifiers.length;O++){if(f.reset===!0){f.reset=!1,O=-1;continue}var b=f.orderedModifiers[O],M=b.fn,E=b.options,g=E===void 0?{}:E,x=b.name;typeof M=="function"&&(f=M({state:f,options:g,name:x,instance:v})||f)}}}},update:OR(function(){return new Promise(function(P){v.forceUpdate(),P(f)})}),destroy:function(){k(),m=!0}};if(!By(l,u))return v;v.setOptions(c).then(function(P){!m&&c.onFirstUpdate&&c.onFirstUpdate(P)});function I(){f.orderedModifiers.forEach(function(P){var S=P.name,y=P.options,T=y===void 0?{}:y,O=P.effect;if(typeof O=="function"){var b=O({state:f,name:S,instance:v,options:T}),M=function(){};h.push(b||M)}})}function k(){h.forEach(function(P){return P()}),h=[]}return v}}const MR=LR({defaultModifiers:[_R,SR,iR,oR,TR,yR,AR,eR]}),FR=["enabled","placement","strategy","modifiers"];function jR(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const $R={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},BR={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const s=r.getAttribute("aria-describedby");if(s&&s.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",s?`${s},${n.id}`:n.id)}}},UR=[];function zR(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:s="absolute",modifiers:o=UR}=n,l=jR(n,FR);const u=w.useRef(o),c=w.useRef(),f=w.useCallback(()=>{var P;(P=c.current)==null||P.update()},[]),h=w.useCallback(()=>{var P;(P=c.current)==null||P.forceUpdate()},[]),[m,v]=bA(w.useState({placement:i,update:f,forceUpdate:h,attributes:{},styles:{popper:{},arrow:{}}})),I=w.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:P})=>{const S={},y={};Object.keys(P.elements).forEach(T=>{S[T]=P.styles[T],y[T]=P.attributes[T]}),v({state:P,styles:S,attributes:y,update:f,forceUpdate:h,placement:P.placement})}}),[f,h,v]),k=w.useMemo(()=>(Ho(u.current,o)||(u.current=o),u.current),[o]);return w.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:s,modifiers:[...k,I,$R]})},[s,i,I,r,k]),w.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=MR(t,e,Object.assign({},l,{placement:i,strategy:s,modifiers:[...k,BR,I]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,v(P=>Object.assign({},P,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}var WR=function(){},qR=WR;const HR=Na(qR),Uy=()=>{};function KR(t){return t.button===0}function GR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const kf=t=>t&&("current"in t?t.current:t),zy={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function QR(t,e=Uy,{disabled:n,clickTrigger:r="click"}={}){const i=w.useRef(!1),s=w.useRef(!1),o=w.useCallback(c=>{const f=kf(t);HR(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||GR(c)||!KR(c)||!!Iu(f,c.target)||s.current,s.current=!1},[t]),l=Qe(c=>{const f=kf(t);f&&Iu(f,c.target)&&(s.current=!0)}),u=Qe(c=>{i.current||e(c)});w.useEffect(()=>{var c,f;if(n||t==null)return;const h=dc(kf(t)),m=h.defaultView||window;let v=(c=m.event)!=null?c:(f=m.parent)==null?void 0:f.event,I=null;zy[r]&&(I=Dr(h,zy[r],l,!0));const k=Dr(h,r,o,!0),P=Dr(h,r,y=>{if(y===v){v=void 0;return}u(y)});let S=[];return"ontouchstart"in h.documentElement&&(S=[].slice.call(h.body.children).map(y=>Dr(y,"mousemove",Uy))),()=>{I==null||I(),k(),P(),S.forEach(y=>y())}},[t,n,r,o,l,u])}function XR(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function YR(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function JR({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:s,containerPadding:o,arrowElement:l,popperConfig:u={}}){var c,f,h,m,v;const I=XR(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:s?"fixed":u.strategy,modifiers:YR(Object.assign({},I,{eventListeners:{enabled:e,options:(c=I.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},I.preventOverflow,{options:o?Object.assign({padding:o},(f=I.preventOverflow)==null?void 0:f.options):(h=I.preventOverflow)==null?void 0:h.options}),offset:{options:Object.assign({offset:i},(m=I.offset)==null?void 0:m.options)},arrow:Object.assign({},I.arrow,{enabled:!!l,options:Object.assign({},(v=I.arrow)==null?void 0:v.options,{element:l})}),flip:Object.assign({enabled:!!r},I.flip)}))})}const ZR=["children","usePopper"];function eP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const tP=()=>{};function mE(t={}){const e=w.useContext(mc),[n,r]=Cx(),i=w.useRef(!1),{flip:s,offset:o,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:f={},enableEventListeners:h=!0,usePopper:m=!!e}=t,v=(e==null?void 0:e.show)==null?!!t.show:e.show;v&&!i.current&&(i.current=!0);const I=M=>{e==null||e.toggle(!1,M)},{placement:k,setMenu:P,menuElement:S,toggleElement:y}=e||{},T=zR(y,S,JR({placement:c||k||"bottom-start",enabled:m,enableEvents:h??v,offset:o,flip:s,fixed:u,arrowElement:n,popperConfig:f})),O=Object.assign({ref:P||tP,"aria-labelledby":y==null?void 0:y.id},T.attributes.popper,{style:T.styles.popper}),b={show:v,placement:k,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?T:null,arrowProps:m?Object.assign({ref:r},T.attributes.arrow,{style:T.styles.arrow}):{}};return QR(S,I,{clickTrigger:l,disabled:!v}),[O,b]}function gE(t){let{children:e,usePopper:n=!0}=t,r=eP(t,ZR);const[i,s]=mE(Object.assign({},r,{usePopper:n}));return A.jsx(A.Fragment,{children:e(i,s)})}gE.displayName="DropdownMenu";const Au={prefix:String(Math.round(Math.random()*1e10)),current:0},yE=xe.createContext(Au),nP=xe.createContext(!1);let rP=!!(typeof window<"u"&&window.document&&window.document.createElement),Nf=new WeakMap;function iP(t=!1){let e=w.useContext(yE),n=w.useRef(null);if(n.current===null&&!t){var r,i;let s=(i=xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let o=Nf.get(s);o==null?Nf.set(s,{id:e.current,state:s.memoizedState}):s.memoizedState!==o.state&&(e.current=o.id,Nf.delete(s))}n.current=++e.current}return n.current}function sP(t){let e=w.useContext(yE);e===Au&&!rP&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=iP(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function oP(t){let e=xe.useId(),[n]=w.useState(fP()),r=n?"react-aria":`react-aria${Au.prefix}`;return t||`${r}-${e}`}const aP=typeof xe.useId=="function"?oP:sP;function lP(){return!1}function uP(){return!0}function cP(t){return()=>{}}function fP(){return typeof xe.useSyncExternalStore=="function"?xe.useSyncExternalStore(cP,lP,uP):w.useContext(nP)}const vE=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},Wy=()=>{};function _E(){const t=aP(),{show:e=!1,toggle:n=Wy,setToggle:r,menuElement:i}=w.useContext(mc)||{},s=w.useCallback(l=>{n(!e,l)},[e,n]),o={id:t,ref:r||Wy,onClick:s,"aria-expanded":!!e};return i&&vE(i)&&(o["aria-haspopup"]=!0),[o,{show:e,toggle:n}]}function wE({children:t}){const[e,n]=_E();return A.jsx(A.Fragment,{children:t(e,n)})}wE.displayName="DropdownToggle";const dP=["eventKey","disabled","onClick","active","as"];function hP(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EE({key:t,href:e,active:n,disabled:r,onClick:i}){const s=w.useContext(Ni),o=w.useContext(fc),{activeKey:l}=o||{},u=ya(t,e),c=n==null&&t!=null?ya(l)===u:n;return[{onClick:Qe(h=>{r||(i==null||i(h),s&&!h.isPropagationStopped()&&s(u,h))}),"aria-disabled":r||void 0,"aria-selected":c,[Ks("dropdown-item")]:""},{isActive:c}]}const TE=w.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:s,as:o=dp}=t,l=hP(t,dP);const[u]=EE({key:n,href:l.href,disabled:r,onClick:i,active:s});return A.jsx(o,Object.assign({},l,{ref:e},u))});TE.displayName="DropdownItem";function qy(){const t=Rw(),e=w.useRef(null),n=w.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function ja({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Ks("dropdown-item")}]`,focusFirstItemOnShow:s,placement:o="bottom-start",children:l}){const u=pc(),[c,f]=OA(e,t,r),[h,m]=qy(),v=h.current,[I,k]=qy(),P=I.current,S=bw(c),y=w.useRef(null),T=w.useRef(!1),O=w.useContext(Ni),b=w.useCallback((D,N,C=N==null?void 0:N.type)=>{f(D,{originalEvent:N,source:C})},[f]),M=Qe((D,N)=>{n==null||n(D,N),b(!1,N,"select"),N.isPropagationStopped()||O==null||O(D,N)}),E=w.useMemo(()=>({toggle:b,placement:o,show:c,menuElement:v,toggleElement:P,setMenu:m,setToggle:k}),[b,o,c,v,P,m,k]);v&&S&&!c&&(T.current=v.contains(v.ownerDocument.activeElement));const g=Qe(()=>{P&&P.focus&&P.focus()}),x=Qe(()=>{const D=y.current;let N=s;if(N==null&&(N=h.current&&vE(h.current)?"keyboard":!1),N===!1||N==="keyboard"&&!/^key.+$/.test(D))return;const C=Jn(h.current,i)[0];C&&C.focus&&C.focus()});w.useEffect(()=>{c?x():T.current&&(T.current=!1,g())},[c,T,g,x]),w.useEffect(()=>{y.current=null});const R=(D,N)=>{if(!h.current)return null;const C=Jn(h.current,i);let ne=C.indexOf(D)+N;return ne=Math.max(0,Math.min(ne,C.length)),C[ne]};return Sx(w.useCallback(()=>u.document,[u]),"keydown",D=>{var N,C;const{key:ne}=D,ue=D.target,ae=(N=h.current)==null?void 0:N.contains(ue),ce=(C=I.current)==null?void 0:C.contains(ue);if(/input|textarea/i.test(ue.tagName)&&(ne===" "||ne!=="Escape"&&ae||ne==="Escape"&&ue.type==="search")||!ae&&!ce||ne==="Tab"&&(!h.current||!c))return;y.current=D.type;const Y={originalEvent:D,source:D.type};switch(ne){case"ArrowUp":{const Q=R(ue,-1);Q&&Q.focus&&Q.focus(),D.preventDefault();return}case"ArrowDown":if(D.preventDefault(),!c)f(!0,Y);else{const Q=R(ue,1);Q&&Q.focus&&Q.focus()}return;case"Tab":Uw(ue.ownerDocument,"keyup",Q=>{var pe;(Q.key==="Tab"&&!Q.target||!((pe=h.current)!=null&&pe.contains(Q.target)))&&f(!1,Y)},{once:!0});break;case"Escape":ne==="Escape"&&(D.preventDefault(),D.stopPropagation()),f(!1,Y);break}}),A.jsx(Ni.Provider,{value:M,children:A.jsx(mc.Provider,{value:E,children:l})})}ja.displayName="Dropdown";ja.Menu=gE;ja.Toggle=wE;ja.Item=TE;const Rp=w.createContext({});Rp.displayName="DropdownContext";const CE=w.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},s)=>(e=oe(e,"dropdown-divider"),A.jsx(n,{ref:s,className:ie(t,e),role:r,...i})));CE.displayName="DropdownDivider";const SE=w.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},s)=>(e=oe(e,"dropdown-header"),A.jsx(n,{ref:s,className:ie(t,e),role:r,...i})));SE.displayName="DropdownHeader";const IE=w.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:s,as:o=pp,...l},u)=>{const c=oe(t,"dropdown-item"),[f,h]=EE({key:n,href:l.href,disabled:r,onClick:i,active:s});return A.jsx(o,{...l,...f,ref:u,className:ie(e,c,h.isActive&&"active",r&&"disabled")})});IE.displayName="DropdownItem";const xE=w.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=oe(e,"dropdown-item-text"),A.jsx(n,{ref:i,className:ie(t,e),...r})));xE.displayName="DropdownItemText";const Pp=w.createContext(null);Pp.displayName="InputGroupContext";function AE(t,e){return t}function RE(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",s=n?"bottom-end":"bottom-start",o=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",f=n?"left-end":"right-end";let h=t?o:s;return e==="up"?h=t?i:r:e==="end"?h=t?f:c:e==="start"?h=t?u:l:e==="down-centered"?h="bottom":e==="up-centered"&&(h="top"),h}const PE=w.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:s,renderOnMount:o,as:l="div",popperConfig:u,variant:c,...f},h)=>{let m=!1;const v=w.useContext(Mi),I=oe(t,"dropdown-menu"),{align:k,drop:P,isRTL:S}=w.useContext(Rp);n=n||k;const y=w.useContext(Pp),T=[];if(n)if(typeof n=="object"){const D=Object.keys(n);if(D.length){const N=D[0],C=n[N];m=C==="start",T.push(`${I}-${N}-${C}`)}}else n==="end"&&(m=!0);const O=RE(m,P,S),[b,{hasShown:M,popper:E,show:g,toggle:x}]=mE({flip:i,rootCloseEvent:r,show:s,usePopper:!v&&T.length===0,offset:[0,2],popperConfig:u,placement:O});if(b.ref=Li(AE(h),b.ref),Su(()=>{g&&(E==null||E.update())},[g]),!M&&!o&&!y)return null;typeof l!="string"&&(b.show=g,b.close=()=>x==null?void 0:x(!1),b.align=n);let R=f.style;return E!=null&&E.placement&&(R={...f.style,...b.style},f["x-placement"]=E.placement),A.jsx(l,{...f,...b,style:R,...(T.length||v)&&{"data-bs-popper":"static"},className:ie(e,I,g&&"show",m&&`${I}-end`,c&&`${I}-${c}`,...T)})});PE.displayName="DropdownMenu";const xt=w.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...l},u)=>{const c=oe(e,"btn"),[f,{tagName:h}]=fp({tagName:t,disabled:s,...l}),m=h;return A.jsx(m,{...f,...l,ref:u,disabled:s,className:ie(o,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&s&&"disabled")})});xt.displayName="Button";const kE=w.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=xt,...s},o)=>{const l=oe(t,"dropdown-toggle"),u=w.useContext(mc);r!==void 0&&(s.bsPrefix=r);const[c]=_E();return c.ref=Li(c.ref,AE(o)),A.jsx(i,{className:ie(n,l,e&&`${l}-split`,(u==null?void 0:u.show)&&"show"),...c,...s})});kE.displayName="DropdownToggle";const NE=w.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:s,align:o="start",onSelect:l,onToggle:u,focusFirstItemOnShow:c,as:f="div",navbar:h,autoClose:m=!0,...v}=cp(t,{show:"onToggle"}),I=w.useContext(Pp),k=oe(n,"dropdown"),P=rx(),S=E=>m===!1?E==="click":m==="inside"?E!=="rootClose":m==="outside"?E!=="select":!0,y=Qe((E,g)=>{var x;!((x=g.originalEvent)==null||(x=x.target)==null)&&x.classList.contains("dropdown-toggle")&&g.source==="mousedown"||(g.originalEvent.currentTarget===document&&(g.source!=="keydown"||g.originalEvent.key==="Escape")&&(g.source="rootClose"),S(g.source)&&(u==null||u(E,g)))}),O=RE(o==="end",r,P),b=w.useMemo(()=>({align:o,drop:r,isRTL:P}),[o,r,P]),M={down:k,"down-centered":`${k}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return A.jsx(Rp.Provider,{value:b,children:A.jsx(ja,{placement:O,show:i,onSelect:l,onToggle:y,focusFirstItemOnShow:c,itemSelector:`.${k}-item:not(.disabled):not(:disabled)`,children:I?v.children:A.jsx(f,{...v,ref:e,className:ie(s,i&&"show",M[r])})})})});NE.displayName="Dropdown";const _i=Object.assign(NE,{Toggle:kE,Menu:PE,Item:IE,ItemText:xE,Divider:CE,Header:SE}),DE=w.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:s,menuRole:o,disabled:l,active:u,renderMenuOnMount:c,menuVariant:f,...h},m)=>{const v=oe(void 0,"nav-item");return A.jsxs(_i,{ref:m,...h,className:ie(i,v),children:[A.jsx(_i.Toggle,{id:t,eventKey:null,active:u,disabled:l,childBsPrefix:r,as:mp,children:e}),A.jsx(_i.Menu,{role:o,renderOnMount:c,rootCloseEvent:s,variant:f,children:n})]})});DE.displayName="NavDropdown";const Df=Object.assign(DE,{Item:_i.Item,ItemText:_i.ItemText,Divider:_i.Divider,Header:_i.Header});/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ea(){return Ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ea.apply(this,arguments)}var Vr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vr||(Vr={}));const Hy="popstate";function pP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return qd("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ru(i)}return gP(e,n,null,t)}function tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mP(){return Math.random().toString(36).substr(2,8)}function Ky(t,e){return{usr:t.state,key:t.key,idx:e}}function qd(t,e,n,r){return n===void 0&&(n=null),Ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gs(e):e,{state:n,key:e&&e.key||r||mP()})}function Ru(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=Vr.Pop,u=null,c=f();c==null&&(c=0,o.replaceState(Ea({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){l=Vr.Pop;let P=f(),S=P==null?null:P-c;c=P,u&&u({action:l,location:k.location,delta:S})}function m(P,S){l=Vr.Push;let y=qd(k.location,P,S);c=f()+1;let T=Ky(y,c),O=k.createHref(y);try{o.pushState(T,"",O)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(O)}s&&u&&u({action:l,location:k.location,delta:1})}function v(P,S){l=Vr.Replace;let y=qd(k.location,P,S);c=f();let T=Ky(y,c),O=k.createHref(y);o.replaceState(T,"",O),s&&u&&u({action:l,location:k.location,delta:0})}function I(P){let S=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof P=="string"?P:Ru(P);return y=y.replace(/ $/,"%20"),tt(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let k={get action(){return l},get location(){return t(i,o)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Hy,h),u=P,()=>{i.removeEventListener(Hy,h),u=null}},createHref(P){return e(i,P)},createURL:I,encodeLocation(P){let S=I(P);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(P){return o.go(P)}};return k}var Gy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Gy||(Gy={}));function yP(t,e,n){return n===void 0&&(n="/"),vP(t,e,n,!1)}function vP(t,e,n,r){let i=typeof e=="string"?Gs(e):e,s=kp(i.pathname||"/",n);if(s==null)return null;let o=OE(t);_P(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=kP(s);l=RP(o[u],c,r)}return l}function OE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(tt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=zr([r,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(tt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OE(s.children,e,f,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:xP(c,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of bE(s.path))i(s,o,u)}),e}function bE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=bE(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function _P(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wP=/^:[\w-]+$/,EP=3,TP=2,CP=1,SP=10,IP=-2,Qy=t=>t==="*";function xP(t,e){let n=t.split("/"),r=n.length;return n.some(Qy)&&(r+=IP),e&&(r+=TP),n.filter(i=>!Qy(i)).reduce((i,s)=>i+(wP.test(s)?EP:s===""?CP:SP),r)}function AP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function RP(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=Xy({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=Xy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zr([s,h.pathname]),pathnameBase:OP(zr([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=zr([s,h.pathnameBase]))}return o}function Xy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:m,isOptional:v}=f;if(m==="*"){let k=l[h]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const I=l[h];return v&&!I?c[m]=void 0:c[m]=(I||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function PP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function kP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function NP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Gs(t):t;return{pathname:n?n.startsWith("/")?n:DP(n,e):e,search:bP(r),hash:LP(i)}}function DP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function VP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LE(t,e){let n=VP(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ME(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Gs(t):(i=Ea({},t),tt(!i.pathname||!i.pathname.includes("?"),Vf("?","pathname","search",i)),tt(!i.pathname||!i.pathname.includes("#"),Vf("#","pathname","hash",i)),tt(!i.search||!i.search.includes("#"),Vf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}l=h>=0?e[h]:"/"}let u=NP(i,l),c=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const zr=t=>t.join("/").replace(/\/\/+/g,"/"),OP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,LP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function MP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const FE=["post","put","patch","delete"];new Set(FE);const FP=["get",...FE];new Set(FP);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}const Np=w.createContext(null),jP=w.createContext(null),Fi=w.createContext(null),yc=w.createContext(null),oi=w.createContext({outlet:null,matches:[],isDataRoute:!1}),jE=w.createContext(null);function $P(t,e){let{relative:n}=e===void 0?{}:e;$a()||tt(!1);let{basename:r,navigator:i}=w.useContext(Fi),{hash:s,pathname:o,search:l}=UE(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:zr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function $a(){return w.useContext(yc)!=null}function vc(){return $a()||tt(!1),w.useContext(yc).location}function $E(t){w.useContext(Fi).static||w.useLayoutEffect(t)}function BP(){let{isDataRoute:t}=w.useContext(oi);return t?ek():UP()}function UP(){$a()||tt(!1);let t=w.useContext(Np),{basename:e,future:n,navigator:r}=w.useContext(Fi),{matches:i}=w.useContext(oi),{pathname:s}=vc(),o=JSON.stringify(LE(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return $E(()=>{l.current=!0}),w.useCallback(function(c,f){if(f===void 0&&(f={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=ME(c,JSON.parse(o),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zr([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,o,s,t])}function BE(){let{matches:t}=w.useContext(oi),e=t[t.length-1];return e?e.params:{}}function UE(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(Fi),{matches:i}=w.useContext(oi),{pathname:s}=vc(),o=JSON.stringify(LE(i,r.v7_relativeSplatPath));return w.useMemo(()=>ME(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function zP(t,e){return WP(t,e)}function WP(t,e,n,r){$a()||tt(!1);let{navigator:i}=w.useContext(Fi),{matches:s}=w.useContext(oi),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=vc(),f;if(e){var h;let P=typeof e=="string"?Gs(e):e;u==="/"||(h=P.pathname)!=null&&h.startsWith(u)||tt(!1),f=P}else f=c;let m=f.pathname||"/",v=m;if(u!=="/"){let P=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let I=yP(t,{pathname:v}),k=QP(I&&I.map(P=>Object.assign({},P,{params:Object.assign({},l,P.params),pathname:zr([u,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?u:zr([u,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&k?w.createElement(yc.Provider,{value:{location:Ta({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vr.Pop}},k):k}function qP(){let t=ZP(),e=MP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const HP=w.createElement(qP,null);class KP extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(oi.Provider,{value:this.props.routeContext},w.createElement(jE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GP(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Np);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(oi.Provider,{value:e},r)}function QP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);f>=0||tt(!1),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:v}=n,I=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||I){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,h,m)=>{let v,I=!1,k=null,P=null;n&&(v=l&&h.route.id?l[h.route.id]:void 0,k=h.route.errorElement||HP,u&&(c<0&&m===0?(I=!0,P=null):c===m&&(I=!0,P=h.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,m+1)),y=()=>{let T;return v?T=k:I?T=P:h.route.Component?T=w.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,w.createElement(GP,{match:h,routeContext:{outlet:f,matches:S,isDataRoute:n!=null},children:T})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?w.createElement(KP,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var zE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zE||{}),Pu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pu||{});function XP(t){let e=w.useContext(Np);return e||tt(!1),e}function YP(t){let e=w.useContext(jP);return e||tt(!1),e}function JP(t){let e=w.useContext(oi);return e||tt(!1),e}function WE(t){let e=JP(),n=e.matches[e.matches.length-1];return n.route.id||tt(!1),n.route.id}function ZP(){var t;let e=w.useContext(jE),n=YP(Pu.UseRouteError),r=WE(Pu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function ek(){let{router:t}=XP(zE.UseNavigateStable),e=WE(Pu.UseNavigateStable),n=w.useRef(!1);return $E(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Ta({fromRouteId:e},s)))},[t,e])}function pi(t){tt(!1)}function tk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vr.Pop,navigator:s,static:o=!1,future:l}=t;$a()&&tt(!1);let u=e.replace(/^\/*/,"/"),c=w.useMemo(()=>({basename:u,navigator:s,static:o,future:Ta({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Gs(r));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:I="default"}=r,k=w.useMemo(()=>{let P=kp(f,u);return P==null?null:{location:{pathname:P,search:h,hash:m,state:v,key:I},navigationType:i}},[u,f,h,m,v,I,i]);return k==null?null:w.createElement(Fi.Provider,{value:c},w.createElement(yc.Provider,{children:n,value:k}))}function nk(t){let{children:e,location:n}=t;return zP(Hd(e),n)}new Promise(()=>{});function Hd(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,Hd(r.props.children,s));return}r.type!==pi&&tt(!1),!r.props.index||!r.props.children||tt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hd(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kd(){return Kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kd.apply(this,arguments)}function rk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ik(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sk(t,e){return t.button===0&&(!e||e==="_self")&&!ik(t)}const ok=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ak="6";try{window.__reactRouterVersion=ak}catch{}const lk="startTransition",Yy=UC[lk];function uk(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=pP({window:i,v5Compat:!0}));let o=s.current,[l,u]=w.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},f=w.useCallback(h=>{c&&Yy?Yy(()=>u(h)):u(h)},[u,c]);return w.useLayoutEffect(()=>o.listen(f),[o,f]),w.createElement(tk,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const ck=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:f,viewTransition:h}=e,m=rk(e,ok),{basename:v}=w.useContext(Fi),I,k=!1;if(typeof c=="string"&&fk.test(c)&&(I=c,ck))try{let T=new URL(window.location.href),O=c.startsWith("//")?new URL(T.protocol+c):new URL(c),b=kp(O.pathname,v);O.origin===T.origin&&b!=null?c=b+O.search+O.hash:k=!0}catch{}let P=$P(c,{relative:i}),S=dk(c,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:h});function y(T){r&&r(T),T.defaultPrevented||S(T)}return w.createElement("a",Kd({},m,{href:I||P,onClick:k||s?r:y,ref:n,target:u}))});var Jy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jy||(Jy={}));var Zy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Zy||(Zy={}));function dk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,u=BP(),c=vc(),f=UE(t,{relative:o});return w.useCallback(h=>{if(sk(h,n)){h.preventDefault();let m=r!==void 0?r:Ru(c)===Ru(f);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[c,u,f,r,i,n,t,s,o,l])}const hr=w.createContext(),hk=JSON.parse(localStorage.getItem("cart"))||[],pk=({children:t})=>{const[e,n]=w.useState(hk),r=(h,m)=>{const v={...h,qty:m},I=[...e],k=I.find(P=>P.id===v.id);k?k.qty+=m:I.push(v),n(I)},i=()=>e.reduce((h,m)=>h+m.qty,0),s=w.createContext(null),o=h=>{const m=e.filter(v=>v.id!==h);n(m)},l=()=>e.reduce((h,m)=>h+m.price*m.qty,0),u=()=>{n([])};w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const[c,f]=w.useState("none");return A.jsx(hr.Provider,{value:{cart:e,addToCart:r,qtyInCart:i,listCartContext:s,remove:o,totalPrice:l,emptyCart:u,showCart:c,setShowCart:f},children:t})},mk=()=>{const{qtyInCart:t,setShowCart:e,showCart:n,cart:r}=w.useContext(hr),i=()=>{e(n==="none"?"flex":"none")};return A.jsxs("div",{className:"carrito",onClick:i,children:["",A.jsx("span",{className:"badge",children:t()})]})},gk=w.createContext(null),yk=({children:t})=>{const[e,n]=w.useState("none");return A.jsx(gk.Provider,{value:{showCart:e,setShowCart:n},children:t})},Dp=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=oe(e,"card-body"),A.jsx(n,{ref:i,className:ie(t,e),...r})));Dp.displayName="CardBody";const qE=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=oe(e,"card-footer"),A.jsx(n,{ref:i,className:ie(t,e),...r})));qE.displayName="CardFooter";const HE=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=oe(t,"card-header"),o=w.useMemo(()=>({cardHeaderBsPrefix:s}),[s]);return A.jsx(hp.Provider,{value:o,children:A.jsx(n,{ref:i,...r,className:ie(e,s)})})});HE.displayName="CardHeader";const KE=w.forwardRef(({bsPrefix:t,className:e,variant:n,as:r="img",...i},s)=>{const o=oe(t,"card-img");return A.jsx(r,{ref:s,className:ie(n?`${o}-${n}`:o,e),...i})});KE.displayName="CardImg";const GE=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=oe(e,"card-img-overlay"),A.jsx(n,{ref:i,className:ie(t,e),...r})));GE.displayName="CardImgOverlay";const QE=w.forwardRef(({className:t,bsPrefix:e,as:n="a",...r},i)=>(e=oe(e,"card-link"),A.jsx(n,{ref:i,className:ie(t,e),...r})));QE.displayName="CardLink";const vk=wp("h6"),XE=w.forwardRef(({className:t,bsPrefix:e,as:n=vk,...r},i)=>(e=oe(e,"card-subtitle"),A.jsx(n,{ref:i,className:ie(t,e),...r})));XE.displayName="CardSubtitle";const YE=w.forwardRef(({className:t,bsPrefix:e,as:n="p",...r},i)=>(e=oe(e,"card-text"),A.jsx(n,{ref:i,className:ie(t,e),...r})));YE.displayName="CardText";const _k=wp("h5"),JE=w.forwardRef(({className:t,bsPrefix:e,as:n=_k,...r},i)=>(e=oe(e,"card-title"),A.jsx(n,{ref:i,className:ie(t,e),...r})));JE.displayName="CardTitle";const ZE=w.forwardRef(({bsPrefix:t,className:e,bg:n,text:r,border:i,body:s=!1,children:o,as:l="div",...u},c)=>{const f=oe(t,"card");return A.jsx(l,{ref:c,...u,className:ie(e,f,n&&`bg-${n}`,r&&`text-${r}`,i&&`border-${i}`),children:s?A.jsx(Dp,{children:o}):o})});ZE.displayName="Card";const Ft=Object.assign(ZE,{Img:KE,Title:JE,Subtitle:XE,Body:Dp,Link:QE,Text:YE,Header:HE,Footer:qE,ImgOverlay:GE});function wk(t,e){return w.Children.toArray(t).some(n=>w.isValidElement(n)&&n.type===e)}function Ek({as:t,bsPrefix:e,className:n,...r}){e=oe(e,"col");const i=Iw(),s=xw(),o=[],l=[];return i.forEach(u=>{const c=r[u];delete r[u];let f,h,m;typeof c=="object"&&c!=null?{span:f,offset:h,order:m}=c:f=c;const v=u!==s?`-${u}`:"";f&&o.push(f===!0?`${e}${v}`:`${e}${v}-${f}`),m!=null&&l.push(`order${v}-${m}`),h!=null&&l.push(`offset${v}-${h}`)}),[{...r,className:ie(n,...o,...l)},{as:t,bsPrefix:e,spans:o}]}const Xr=w.forwardRef((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=Ek(t);return A.jsx(i,{...r,ref:e,className:ie(n,!o.length&&s)})});Xr.displayName="Col";$t.string,$t.bool,$t.bool,$t.bool,$t.bool;const Vp=w.forwardRef(({bsPrefix:t,className:e,fluid:n=!1,rounded:r=!1,roundedCircle:i=!1,thumbnail:s=!1,...o},l)=>(t=oe(t,"img"),A.jsx("img",{ref:l,...o,className:ie(e,n&&`${t}-fluid`,r&&"rounded",i&&"rounded-circle",s&&`${t}-thumbnail`)})));Vp.displayName="Image";const Tk={type:$t.string,tooltip:$t.bool,as:$t.elementType},_c=w.forwardRef(({as:t="div",className:e,type:n="valid",tooltip:r=!1,...i},s)=>A.jsx(t,{...i,ref:s,className:ie(e,`${n}-${r?"tooltip":"feedback"}`)}));_c.displayName="Feedback";_c.propTypes=Tk;const pr=w.createContext({}),Op=w.forwardRef(({id:t,bsPrefix:e,className:n,type:r="checkbox",isValid:i=!1,isInvalid:s=!1,as:o="input",...l},u)=>{const{controlId:c}=w.useContext(pr);return e=oe(e,"form-check-input"),A.jsx(o,{...l,ref:u,type:r,id:t||c,className:ie(n,e,i&&"is-valid",s&&"is-invalid")})});Op.displayName="FormCheckInput";const ku=w.forwardRef(({bsPrefix:t,className:e,htmlFor:n,...r},i)=>{const{controlId:s}=w.useContext(pr);return t=oe(t,"form-check-label"),A.jsx("label",{...r,ref:i,htmlFor:n||s,className:ie(e,t)})});ku.displayName="FormCheckLabel";const eT=w.forwardRef(({id:t,bsPrefix:e,bsSwitchPrefix:n,inline:r=!1,reverse:i=!1,disabled:s=!1,isValid:o=!1,isInvalid:l=!1,feedbackTooltip:u=!1,feedback:c,feedbackType:f,className:h,style:m,title:v="",type:I="checkbox",label:k,children:P,as:S="input",...y},T)=>{e=oe(e,"form-check"),n=oe(n,"form-switch");const{controlId:O}=w.useContext(pr),b=w.useMemo(()=>({controlId:t||O}),[O,t]),M=!P&&k!=null&&k!==!1||wk(P,ku),E=A.jsx(Op,{...y,type:I==="switch"?"checkbox":I,ref:T,isValid:o,isInvalid:l,disabled:s,as:S});return A.jsx(pr.Provider,{value:b,children:A.jsx("div",{style:m,className:ie(h,M&&e,r&&`${e}-inline`,i&&`${e}-reverse`,I==="switch"&&n),children:P||A.jsxs(A.Fragment,{children:[E,M&&A.jsx(ku,{title:v,children:k}),c&&A.jsx(_c,{type:f,tooltip:u,children:c})]})})})});eT.displayName="FormCheck";const Nu=Object.assign(eT,{Input:Op,Label:ku}),tT=w.forwardRef(({bsPrefix:t,type:e,size:n,htmlSize:r,id:i,className:s,isValid:o=!1,isInvalid:l=!1,plaintext:u,readOnly:c,as:f="input",...h},m)=>{const{controlId:v}=w.useContext(pr);return t=oe(t,"form-control"),A.jsx(f,{...h,type:e,size:r,ref:m,readOnly:c,id:i||v,className:ie(s,u?`${t}-plaintext`:t,n&&`${t}-${n}`,e==="color"&&`${t}-color`,o&&"is-valid",l&&"is-invalid")})});tT.displayName="FormControl";const Ck=Object.assign(tT,{Feedback:_c}),nT=w.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=oe(e,"form-floating"),A.jsx(n,{ref:i,className:ie(t,e),...r})));nT.displayName="FormFloating";const bp=w.forwardRef(({controlId:t,as:e="div",...n},r)=>{const i=w.useMemo(()=>({controlId:t}),[t]);return A.jsx(pr.Provider,{value:i,children:A.jsx(e,{...n,ref:r})})});bp.displayName="FormGroup";const rT=w.forwardRef(({as:t="label",bsPrefix:e,column:n=!1,visuallyHidden:r=!1,className:i,htmlFor:s,...o},l)=>{const{controlId:u}=w.useContext(pr);e=oe(e,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const f=ie(i,e,r&&"visually-hidden",n&&c);return s=s||u,n?A.jsx(Xr,{ref:l,as:"label",className:f,htmlFor:s,...o}):A.jsx(t,{ref:l,className:f,htmlFor:s,...o})});rT.displayName="FormLabel";const iT=w.forwardRef(({bsPrefix:t,className:e,id:n,...r},i)=>{const{controlId:s}=w.useContext(pr);return t=oe(t,"form-range"),A.jsx("input",{...r,type:"range",ref:i,className:ie(e,t),id:n||s})});iT.displayName="FormRange";const sT=w.forwardRef(({bsPrefix:t,size:e,htmlSize:n,className:r,isValid:i=!1,isInvalid:s=!1,id:o,...l},u)=>{const{controlId:c}=w.useContext(pr);return t=oe(t,"form-select"),A.jsx("select",{...l,size:n,ref:u,className:ie(r,t,e&&`${t}-${e}`,i&&"is-valid",s&&"is-invalid"),id:o||c})});sT.displayName="FormSelect";const oT=w.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=oe(t,"form-text"),A.jsx(n,{...i,ref:s,className:ie(e,t,r&&"text-muted")})));oT.displayName="FormText";const aT=w.forwardRef((t,e)=>A.jsx(Nu,{...t,ref:e,type:"switch"}));aT.displayName="Switch";const Sk=Object.assign(aT,{Input:Nu.Input,Label:Nu.Label}),lT=w.forwardRef(({bsPrefix:t,className:e,children:n,controlId:r,label:i,...s},o)=>(t=oe(t,"form-floating"),A.jsxs(bp,{ref:o,className:ie(e,t),controlId:r,...s,children:[n,A.jsx("label",{htmlFor:r,children:i})]})));lT.displayName="FloatingLabel";const Ik={_ref:$t.any,validated:$t.bool,as:$t.elementType},Lp=w.forwardRef(({className:t,validated:e,as:n="form",...r},i)=>A.jsx(n,{...r,ref:i,className:ie(t,e&&"was-validated")}));Lp.displayName="Form";Lp.propTypes=Ik;const Je=Object.assign(Lp,{Group:bp,Control:Ck,Floating:nT,Check:Nu,Switch:Sk,Label:rT,Text:oT,Range:iT,Select:sT,FloatingLabel:lT}),sr=w.forwardRef(({bsPrefix:t,className:e,as:n="div",...r},i)=>{const s=oe(t,"row"),o=Iw(),l=xw(),u=`${s}-cols`,c=[];return o.forEach(f=>{const h=r[f];delete r[f];let m;h!=null&&typeof h=="object"?{cols:m}=h:m=h;const v=f!==l?`-${f}`:"";m!=null&&c.push(`${u}${v}-${m}`)}),A.jsx(n,{ref:i,...r,className:ie(e,s,...c)})});sr.displayName="Row";const xk=({id:t,title:e,price:n,image:r,qty:i})=>{const{remove:s}=w.useContext(hr);return A.jsx(Pn,{fluid:!0,className:"itemInCart",children:A.jsx("div",{children:A.jsxs(Ft,{style:{width:"100%",display:"flex",flexDirection:"row"},className:"cardImage",children:[A.jsx(Xr,{xs:6,md:3,children:A.jsx(Vp,{src:r,thumbnail:!0})}),A.jsxs(Xr,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[A.jsx("span",{children:e}),A.jsxs("span",{children:["Cantidad: ",i]}),A.jsxs("span",{children:["Subtotal: ",`$ ${(i*n).toFixed(2)}`]}),A.jsx(xt,{id:"btn-clear-float",variant:"outline-primary",onClick:()=>s(t),children:""})]})]},t)})})},Ak=()=>{const{cart:t,totalPrice:e,emptyCart:n}=w.useContext(hr),{showCart:r,setShowCart:i}=w.useContext(hr),s={display:r},o=()=>{i(r==="none"?"flex":"none")},l=()=>{n()};return A.jsxs(Pn,{className:"container-cart",style:s,children:[A.jsxs("div",{className:"containerClose",children:[A.jsx(xt,{variant:"outline-primary",onClick:o,className:"closeButton",children:A.jsx("h6",{id:"btn-cart",children:""})}),A.jsx("h4",{style:{color:"black",textAlign:"left"},children:"This is your product list:"})]}),A.jsx("div",{children:t.length===0?A.jsx("span",{className:"emptyCart",children:"Tu carrito est vacio. Agreguemos algo!."}):A.jsx("div",{className:"contenedorLista",children:t.map(u=>A.jsx(A.Fragment,{children:A.jsx(xk,{id:u.id,title:u.title,image:u.image,stock:u.stock,price:u.price,qty:u.qty},u.id)}))})}),A.jsx("div",{children:t.length!==0&&A.jsxs(A.Fragment,{children:[" ",A.jsxs("h2",{children:["Precio total: ",e()]}),A.jsxs("div",{className:"containerBtnCart",children:[A.jsx(On,{to:"/checkout",children:A.jsx(xt,{children:"Checkout"})}),A.jsx(xt,{onClick:l,variant:"outline-primary",children:""})]})]})})]})},Rk=()=>A.jsx(A.Fragment,{children:A.jsx(yk,{children:A.jsx(Pf,{bg:"dark","data-bs-theme":"dark",expand:"lg",children:A.jsxs(Pn,{children:[A.jsxs(On,{to:"/",className:"navbar-brand",children:[A.jsx("img",{src:ZI,width:"40",height:"40",className:"d-inline-block align-top",alt:"Logo Tienda"})," ","Richard Store"]}),A.jsx(Pf.Toggle,{"aria-controls":"basic-navbar-nav",className:"navIcon"}),A.jsx(Pf.Collapse,{id:"basic-navbar-nav",className:"navIcon",children:A.jsxs(kx,{className:"ms-auto",children:[A.jsx(On,{to:"/",className:"nav-link",children:"Inicio"}),A.jsxs(Df,{title:"Categoras",id:"basic-nav-dropdown",children:[A.jsx(On,{to:"/category/Hombres",className:"dropdown-item",children:"Hombres"}),A.jsx(Df.Divider,{}),A.jsx(On,{to:"/category/Mujeres",className:"dropdown-item",children:"Mujeres"}),A.jsx(Df.Divider,{}),A.jsx(On,{to:"/category/Ninos",className:"dropdown-item",children:"Nios"})]}),A.jsx(On,{to:"/contacto",className:"nav-link",children:"Contacto"}),A.jsx(On,{to:"/cart",className:"nav-link",children:"Carrito"}),A.jsx(mk,{}),A.jsx(Ak,{})]})})]})})})}),Pk=({handleAgregar:t})=>A.jsx(xt,{className:"btn-item-list",variant:"outline-primary",id:"addCart",onClick:t,children:""}),kk=({products:t})=>{const{cart:e,addToCart:n}=w.useContext(hr);return A.jsx(Xr,{lg:3,md:6,xs:12,className:"columna",children:A.jsxs(Ft,{style:{width:"18rem"},children:[A.jsx(Ft.Img,{variant:"top",src:t.image,atl:t.title}),A.jsxs(Ft.Body,{children:[A.jsx(Ft.Title,{children:t.title}),A.jsx(Ft.Text,{children:t.category}),A.jsxs("h6",{className:"card-price",variant:"primary",children:["$ ",t.price]}),A.jsxs(Xr,{id:"botonesItem",children:[A.jsx(On,{to:`/item/${t.id}`,id:"addCart",children:A.jsx(xt,{variant:"primary",children:"Ver ms"})}),A.jsx(Pk,{handleAgregar:()=>{n(t,1)}})]})]})]},t.id)})},Nk=({products:t,category:e})=>A.jsxs(A.Fragment,{children:[A.jsx(sr,{className:"titulo-tienda",children:A.jsxs("h2",{children:["Nuestros Productos: ",e]})}),A.jsx(sr,{xs:"4",children:t.map(n=>A.jsx(kk,{products:n},n.id))})]});var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},cT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,h=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,v=c&63;u||(v=64,o||(m=64)),r.push(n[f],n[h],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||h==null)throw new Vk;const m=s<<2|l>>4;if(r.push(m),c!==64){const v=l<<4&240|c>>2;if(r.push(v),h!==64){const I=c<<6&192|h;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Vk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ok=function(t){const e=uT(t);return cT.encodeByteArray(e,!0)},Du=function(t){return Ok(t).replace(/\./g,"")},bk=function(t){try{return cT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=()=>Lk().__FIREBASE_DEFAULTS__,Fk=()=>{if(typeof process>"u"||typeof ev>"u")return;const t=ev.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bk(t[1]);return e&&JSON.parse(e)},Mp=()=>{try{return Mk()||Fk()||jk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$k=t=>{var e,n;return(n=(e=Mp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bk=t=>{const e=$k(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fT=()=>{var t;return(t=Mp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Du(JSON.stringify(n)),Du(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qk(){var t;const e=(t=Mp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hk(){return!qk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kk(){try{return typeof indexedDB=="object"}catch{return!1}}function Gk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="FirebaseError";class Qs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qk,Object.setPrototypeOf(this,Qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dT.prototype.create)}}class dT{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Xk(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Qs(i,l,r)}}function Xk(t,e){return t.replace(Yk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Yk=/\{\$([^}]+)}/g;function Gd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(tv(s)&&tv(o)){if(!Gd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){return t&&t._delegate?t._delegate:t}class Ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Uk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eN(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Zk(t){return t===mi?void 0:t}function eN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Jk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const nN={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},rN=Ee.INFO,iN={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},sN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=iN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hT{constructor(e){this.name=e,this._logLevel=rN,this._logHandler=sN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const oN=(t,e)=>e.some(n=>t instanceof n);let nv,rv;function aN(){return nv||(nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lN(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Qd=new WeakMap,mT=new WeakMap,Of=new WeakMap,Fp=new WeakMap;function uN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pT.set(n,t)}).catch(()=>{}),Fp.set(e,t),e}function cN(t){if(Qd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qd.set(t,e)}let Xd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fN(t){Xd=t(Xd)}function dN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bf(this),e,...n);return mT.set(r,e.sort?e.sort():[e]),Wr(r)}:lN().includes(t)?function(...e){return t.apply(bf(this),e),Wr(pT.get(this))}:function(...e){return Wr(t.apply(bf(this),e))}}function hN(t){return typeof t=="function"?dN(t):(t instanceof IDBTransaction&&cN(t),oN(t,aN())?new Proxy(t,Xd):t)}function Wr(t){if(t instanceof IDBRequest)return uN(t);if(Of.has(t))return Of.get(t);const e=hN(t);return e!==t&&(Of.set(t,e),Fp.set(e,t)),e}const bf=t=>Fp.get(t);function pN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=Wr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wr(o.result),u.oldVersion,u.newVersion,Wr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const mN=["get","getKey","getAll","getAllKeys","count"],gN=["put","add","delete","clear"],Lf=new Map;function iv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mN.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Lf.set(e,s),s}fN(t=>({...t,get:(e,n,r)=>iv(e,n)||t.get(e,n,r),has:(e,n)=>!!iv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yd="@firebase/app",sv="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new hT("@firebase/app"),_N="@firebase/app-compat",wN="@firebase/analytics-compat",EN="@firebase/analytics",TN="@firebase/app-check-compat",CN="@firebase/app-check",SN="@firebase/auth",IN="@firebase/auth-compat",xN="@firebase/database",AN="@firebase/data-connect",RN="@firebase/database-compat",PN="@firebase/functions",kN="@firebase/functions-compat",NN="@firebase/installations",DN="@firebase/installations-compat",VN="@firebase/messaging",ON="@firebase/messaging-compat",bN="@firebase/performance",LN="@firebase/performance-compat",MN="@firebase/remote-config",FN="@firebase/remote-config-compat",jN="@firebase/storage",$N="@firebase/storage-compat",BN="@firebase/firestore",UN="@firebase/vertexai",zN="@firebase/firestore-compat",WN="firebase",qN="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd="[DEFAULT]",HN={[Yd]:"fire-core",[_N]:"fire-core-compat",[EN]:"fire-analytics",[wN]:"fire-analytics-compat",[CN]:"fire-app-check",[TN]:"fire-app-check-compat",[SN]:"fire-auth",[IN]:"fire-auth-compat",[xN]:"fire-rtdb",[AN]:"fire-data-connect",[RN]:"fire-rtdb-compat",[PN]:"fire-fn",[kN]:"fire-fn-compat",[NN]:"fire-iid",[DN]:"fire-iid-compat",[VN]:"fire-fcm",[ON]:"fire-fcm-compat",[bN]:"fire-perf",[LN]:"fire-perf-compat",[MN]:"fire-rc",[FN]:"fire-rc-compat",[jN]:"fire-gcs",[$N]:"fire-gcs-compat",[BN]:"fire-fst",[zN]:"fire-fst-compat",[UN]:"fire-vertex","fire-js":"fire-js",[WN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Map,KN=new Map,Zd=new Map;function ov(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ou(t){const e=t.name;if(Zd.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,t);for(const n of Vu.values())ov(n,t);for(const n of KN.values())ov(n,t);return!0}function GN(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new dT("app","Firebase",QN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=qN;function gT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=fT()),!n)throw qr.create("no-options");const s=Vu.get(i);if(s){if(Gd(n,s.options)&&Gd(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new tN(i);for(const u of Zd.values())o.addComponent(u);const l=new XN(n,r,o);return Vu.set(i,l),l}function JN(t=Jd){const e=Vu.get(t);if(!e&&t===Jd&&fT())return gT();if(!e)throw qr.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let i=(r=HN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(l.join(" "));return}Ou(new Ca(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="firebase-heartbeat-database",eD=1,Sa="firebase-heartbeat-store";let Mf=null;function yT(){return Mf||(Mf=pN(ZN,eD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sa)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),Mf}async function tD(t){try{const n=(await yT()).transaction(Sa),r=await n.objectStore(Sa).get(vT(t));return await n.done,r}catch(e){if(e instanceof Qs)mr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function av(t,e){try{const r=(await yT()).transaction(Sa,"readwrite");await r.objectStore(Sa).put(e,vT(t)),await r.done}catch(n){if(n instanceof Qs)mr.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(r.message)}}}function vT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=1024,rD=30*24*60*60*1e3;class iD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=rD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=lv(),{heartbeatsToSend:r,unsentEntries:i}=sD(this._heartbeatsCache.heartbeats),s=Du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mr.warn(n),""}}}function lv(){return new Date().toISOString().substring(0,10)}function sD(t,e=nD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),uv(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),uv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kk()?Gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return av(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uv(t){return Du(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(t){Ou(new Ca("platform-logger",e=>new yN(e),"PRIVATE")),Ou(new Ca("heartbeat",e=>new iD(e),"PRIVATE")),Ts(Yd,sv,t),Ts(Yd,sv,"esm2017"),Ts("fire-js","")}aD("");var cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ii,_T;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,g){function x(){}x.prototype=g.prototype,E.D=g.prototype,E.prototype=new x,E.prototype.constructor=E,E.C=function(R,D,N){for(var C=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)C[ne-2]=arguments[ne];return g.prototype[D].apply(R,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,x){x||(x=0);var R=Array(16);if(typeof g=="string")for(var D=0;16>D;++D)R[D]=g.charCodeAt(x++)|g.charCodeAt(x++)<<8|g.charCodeAt(x++)<<16|g.charCodeAt(x++)<<24;else for(D=0;16>D;++D)R[D]=g[x++]|g[x++]<<8|g[x++]<<16|g[x++]<<24;g=E.g[0],x=E.g[1],D=E.g[2];var N=E.g[3],C=g+(N^x&(D^N))+R[0]+3614090360&4294967295;g=x+(C<<7&4294967295|C>>>25),C=N+(D^g&(x^D))+R[1]+3905402710&4294967295,N=g+(C<<12&4294967295|C>>>20),C=D+(x^N&(g^x))+R[2]+606105819&4294967295,D=N+(C<<17&4294967295|C>>>15),C=x+(g^D&(N^g))+R[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=g+(N^x&(D^N))+R[4]+4118548399&4294967295,g=x+(C<<7&4294967295|C>>>25),C=N+(D^g&(x^D))+R[5]+1200080426&4294967295,N=g+(C<<12&4294967295|C>>>20),C=D+(x^N&(g^x))+R[6]+2821735955&4294967295,D=N+(C<<17&4294967295|C>>>15),C=x+(g^D&(N^g))+R[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=g+(N^x&(D^N))+R[8]+1770035416&4294967295,g=x+(C<<7&4294967295|C>>>25),C=N+(D^g&(x^D))+R[9]+2336552879&4294967295,N=g+(C<<12&4294967295|C>>>20),C=D+(x^N&(g^x))+R[10]+4294925233&4294967295,D=N+(C<<17&4294967295|C>>>15),C=x+(g^D&(N^g))+R[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=g+(N^x&(D^N))+R[12]+1804603682&4294967295,g=x+(C<<7&4294967295|C>>>25),C=N+(D^g&(x^D))+R[13]+4254626195&4294967295,N=g+(C<<12&4294967295|C>>>20),C=D+(x^N&(g^x))+R[14]+2792965006&4294967295,D=N+(C<<17&4294967295|C>>>15),C=x+(g^D&(N^g))+R[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=g+(D^N&(x^D))+R[1]+4129170786&4294967295,g=x+(C<<5&4294967295|C>>>27),C=N+(x^D&(g^x))+R[6]+3225465664&4294967295,N=g+(C<<9&4294967295|C>>>23),C=D+(g^x&(N^g))+R[11]+643717713&4294967295,D=N+(C<<14&4294967295|C>>>18),C=x+(N^g&(D^N))+R[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=g+(D^N&(x^D))+R[5]+3593408605&4294967295,g=x+(C<<5&4294967295|C>>>27),C=N+(x^D&(g^x))+R[10]+38016083&4294967295,N=g+(C<<9&4294967295|C>>>23),C=D+(g^x&(N^g))+R[15]+3634488961&4294967295,D=N+(C<<14&4294967295|C>>>18),C=x+(N^g&(D^N))+R[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=g+(D^N&(x^D))+R[9]+568446438&4294967295,g=x+(C<<5&4294967295|C>>>27),C=N+(x^D&(g^x))+R[14]+3275163606&4294967295,N=g+(C<<9&4294967295|C>>>23),C=D+(g^x&(N^g))+R[3]+4107603335&4294967295,D=N+(C<<14&4294967295|C>>>18),C=x+(N^g&(D^N))+R[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=g+(D^N&(x^D))+R[13]+2850285829&4294967295,g=x+(C<<5&4294967295|C>>>27),C=N+(x^D&(g^x))+R[2]+4243563512&4294967295,N=g+(C<<9&4294967295|C>>>23),C=D+(g^x&(N^g))+R[7]+1735328473&4294967295,D=N+(C<<14&4294967295|C>>>18),C=x+(N^g&(D^N))+R[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=g+(x^D^N)+R[5]+4294588738&4294967295,g=x+(C<<4&4294967295|C>>>28),C=N+(g^x^D)+R[8]+2272392833&4294967295,N=g+(C<<11&4294967295|C>>>21),C=D+(N^g^x)+R[11]+1839030562&4294967295,D=N+(C<<16&4294967295|C>>>16),C=x+(D^N^g)+R[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=g+(x^D^N)+R[1]+2763975236&4294967295,g=x+(C<<4&4294967295|C>>>28),C=N+(g^x^D)+R[4]+1272893353&4294967295,N=g+(C<<11&4294967295|C>>>21),C=D+(N^g^x)+R[7]+4139469664&4294967295,D=N+(C<<16&4294967295|C>>>16),C=x+(D^N^g)+R[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=g+(x^D^N)+R[13]+681279174&4294967295,g=x+(C<<4&4294967295|C>>>28),C=N+(g^x^D)+R[0]+3936430074&4294967295,N=g+(C<<11&4294967295|C>>>21),C=D+(N^g^x)+R[3]+3572445317&4294967295,D=N+(C<<16&4294967295|C>>>16),C=x+(D^N^g)+R[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=g+(x^D^N)+R[9]+3654602809&4294967295,g=x+(C<<4&4294967295|C>>>28),C=N+(g^x^D)+R[12]+3873151461&4294967295,N=g+(C<<11&4294967295|C>>>21),C=D+(N^g^x)+R[15]+530742520&4294967295,D=N+(C<<16&4294967295|C>>>16),C=x+(D^N^g)+R[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=g+(D^(x|~N))+R[0]+4096336452&4294967295,g=x+(C<<6&4294967295|C>>>26),C=N+(x^(g|~D))+R[7]+1126891415&4294967295,N=g+(C<<10&4294967295|C>>>22),C=D+(g^(N|~x))+R[14]+2878612391&4294967295,D=N+(C<<15&4294967295|C>>>17),C=x+(N^(D|~g))+R[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=g+(D^(x|~N))+R[12]+1700485571&4294967295,g=x+(C<<6&4294967295|C>>>26),C=N+(x^(g|~D))+R[3]+2399980690&4294967295,N=g+(C<<10&4294967295|C>>>22),C=D+(g^(N|~x))+R[10]+4293915773&4294967295,D=N+(C<<15&4294967295|C>>>17),C=x+(N^(D|~g))+R[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=g+(D^(x|~N))+R[8]+1873313359&4294967295,g=x+(C<<6&4294967295|C>>>26),C=N+(x^(g|~D))+R[15]+4264355552&4294967295,N=g+(C<<10&4294967295|C>>>22),C=D+(g^(N|~x))+R[6]+2734768916&4294967295,D=N+(C<<15&4294967295|C>>>17),C=x+(N^(D|~g))+R[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=g+(D^(x|~N))+R[4]+4149444226&4294967295,g=x+(C<<6&4294967295|C>>>26),C=N+(x^(g|~D))+R[11]+3174756917&4294967295,N=g+(C<<10&4294967295|C>>>22),C=D+(g^(N|~x))+R[2]+718787259&4294967295,D=N+(C<<15&4294967295|C>>>17),C=x+(N^(D|~g))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+N&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var x=g-this.blockSize,R=this.B,D=this.h,N=0;N<g;){if(D==0)for(;N<=x;)i(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<g;)if(R[D++]=E.charCodeAt(N++),D==this.blockSize){i(this,R),D=0;break}}else for(;N<g;)if(R[D++]=E[N++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var x=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=x&255,x/=256;for(this.u(E),E=Array(16),g=x=0;4>g;++g)for(var R=0;32>R;R+=8)E[x++]=this.g[g]>>>R&255;return E};function s(E,g){var x=l;return Object.prototype.hasOwnProperty.call(x,E)?x[E]:x[E]=g(E)}function o(E,g){this.h=g;for(var x=[],R=!0,D=E.length-1;0<=D;D--){var N=E[D]|0;R&&N==g||(x[D]=N,R=!1)}this.g=x}var l={};function u(E){return-128<=E&&128>E?s(E,function(g){return new o([g|0],0>g?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return P(c(-E));for(var g=[],x=1,R=0;E>=x;R++)g[R]=E/x|0,x*=4294967296;return new o(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return P(f(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(g,8)),R=h,D=0;D<E.length;D+=8){var N=Math.min(8,E.length-D),C=parseInt(E.substring(D,D+N),g);8>N?(N=c(Math.pow(g,N)),R=R.j(N).add(c(C))):(R=R.j(x),R=R.add(c(C)))}return R}var h=u(0),m=u(1),v=u(16777216);t=o.prototype,t.m=function(){if(k(this))return-P(this).m();for(var E=0,g=1,x=0;x<this.g.length;x++){var R=this.i(x);E+=(0<=R?R:4294967296+R)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(k(this))return"-"+P(this).toString(E);for(var g=c(Math.pow(E,6)),x=this,R="";;){var D=O(x,g).g;x=S(x,D.j(g));var N=((0<x.g.length?x.g[0]:x.h)>>>0).toString(E);if(x=D,I(x))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function k(E){return E.h==-1}t.l=function(E){return E=S(this,E),k(E)?-1:I(E)?0:1};function P(E){for(var g=E.g.length,x=[],R=0;R<g;R++)x[R]=~E.g[R];return new o(x,~E.h).add(m)}t.abs=function(){return k(this)?P(this):this},t.add=function(E){for(var g=Math.max(this.g.length,E.g.length),x=[],R=0,D=0;D<=g;D++){var N=R+(this.i(D)&65535)+(E.i(D)&65535),C=(N>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);R=C>>>16,N&=65535,C&=65535,x[D]=C<<16|N}return new o(x,x[x.length-1]&-2147483648?-1:0)};function S(E,g){return E.add(P(g))}t.j=function(E){if(I(this)||I(E))return h;if(k(this))return k(E)?P(this).j(P(E)):P(P(this).j(E));if(k(E))return P(this.j(P(E)));if(0>this.l(v)&&0>E.l(v))return c(this.m()*E.m());for(var g=this.g.length+E.g.length,x=[],R=0;R<2*g;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<E.g.length;D++){var N=this.i(R)>>>16,C=this.i(R)&65535,ne=E.i(D)>>>16,ue=E.i(D)&65535;x[2*R+2*D]+=C*ue,y(x,2*R+2*D),x[2*R+2*D+1]+=N*ue,y(x,2*R+2*D+1),x[2*R+2*D+1]+=C*ne,y(x,2*R+2*D+1),x[2*R+2*D+2]+=N*ne,y(x,2*R+2*D+2)}for(R=0;R<g;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=g;R<2*g;R++)x[R]=0;return new o(x,0)};function y(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function T(E,g){this.g=E,this.h=g}function O(E,g){if(I(g))throw Error("division by zero");if(I(E))return new T(h,h);if(k(E))return g=O(P(E),g),new T(P(g.g),P(g.h));if(k(g))return g=O(E,P(g)),new T(P(g.g),g.h);if(30<E.g.length){if(k(E)||k(g))throw Error("slowDivide_ only works with positive integers.");for(var x=m,R=g;0>=R.l(E);)x=b(x),R=b(R);var D=M(x,1),N=M(R,1);for(R=M(R,2),x=M(x,2);!I(R);){var C=N.add(R);0>=C.l(E)&&(D=D.add(x),N=C),R=M(R,1),x=M(x,1)}return g=S(E,D.j(g)),new T(D,g)}for(D=h;0<=E.l(g);){for(x=Math.max(1,Math.floor(E.m()/g.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=c(x),C=N.j(g);k(C)||0<C.l(E);)x-=R,N=c(x),C=N.j(g);I(N)&&(N=m),D=D.add(N),E=S(E,C)}return new T(D,E)}t.A=function(E){return O(this,E).h},t.and=function(E){for(var g=Math.max(this.g.length,E.g.length),x=[],R=0;R<g;R++)x[R]=this.i(R)&E.i(R);return new o(x,this.h&E.h)},t.or=function(E){for(var g=Math.max(this.g.length,E.g.length),x=[],R=0;R<g;R++)x[R]=this.i(R)|E.i(R);return new o(x,this.h|E.h)},t.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),x=[],R=0;R<g;R++)x[R]=this.i(R)^E.i(R);return new o(x,this.h^E.h)};function b(E){for(var g=E.g.length+1,x=[],R=0;R<g;R++)x[R]=E.i(R)<<1|E.i(R-1)>>>31;return new o(x,E.h)}function M(E,g){var x=g>>5;g%=32;for(var R=E.g.length-x,D=[],N=0;N<R;N++)D[N]=0<g?E.i(N+x)>>>g|E.i(N+x+1)<<32-g:E.i(N+x);return new o(D,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_T=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=f,Ii=o}).apply(typeof cv<"u"?cv:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wT,Vo,ET,Hl,eh,TT,CT,ST;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var p=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var L=a[_];if(!(L in p))break e;p=p[L]}a=a[a.length-1],_=p[a],d=d(_),d!=_&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var p=0,_=!1,L={next:function(){if(!_&&p<a.length){var j=p++;return{value:d(j,a[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return s(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,p){return a.call.apply(a.bind,arguments)}function h(a,d,p){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),a.apply(d,L)}}return function(){return a.apply(d,arguments)}}function m(a,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,m.apply(null,arguments)}function v(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function I(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(_,L,j){for(var K=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)K[Ne-2]=arguments[Ne];return d.prototype[L].apply(_,K)}}function k(a){const d=a.length;if(0<d){const p=Array(d);for(let _=0;_<d;_++)p[_]=a[_];return p}return[]}function P(a,d){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const L=a.length||0,j=_.length||0;a.length=L+j;for(let K=0;K<j;K++)a[L+K]=_[K]}else a.push(_)}}class S{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function O(a){return O[" "](a),a}O[" "]=function(){};var b=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(a,d,p){for(const _ in a)d.call(p,a[_],_,a)}function E(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function g(a){const d={};for(const p in a)d[p]=a[p];return d}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let p,_;for(let L=1;L<arguments.length;L++){_=arguments[L];for(p in _)a[p]=_[p];for(let j=0;j<x.length;j++)p=x[j],Object.prototype.hasOwnProperty.call(_,p)&&(a[p]=_[p])}}function D(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function C(){var a=Y;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class ne{constructor(){this.h=this.g=null}add(d,p){const _=ue.get();_.set(d,p),this.h?this.h.next=_:this.g=_,this.h=_}}var ue=new S(()=>new ae,a=>a.reset());class ae{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,z=!1,Y=new ne,Q=()=>{const a=l.Promise.resolve(void 0);ce=()=>{a.then(pe)}};var pe=()=>{for(var a;a=C();){try{a.h.call(a.g)}catch(p){N(p)}var d=ue;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}z=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function Pe(a,d){if(ve.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(b){e:{try{O(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:qe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Pe.aa.h.call(this)}}I(Pe,ve);var qe={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var nt="closure_listenable_"+(1e6*Math.random()|0),Rt=0;function on(a,d,p,_,L){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!_,this.ha=L,this.key=++Rt,this.da=this.fa=!1}function an(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Kt(a){this.src=a,this.g={},this.h=0}Kt.prototype.add=function(a,d,p,_,L){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var K=Gt(a,d,_,L);return-1<K?(d=a[K],p||(d.fa=!1)):(d=new on(d,this.src,j,!!_,L),d.fa=p,a.push(d)),d};function Nn(a,d){var p=d.type;if(p in a.g){var _=a.g[p],L=Array.prototype.indexOf.call(_,d,void 0),j;(j=0<=L)&&Array.prototype.splice.call(_,L,1),j&&(an(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Gt(a,d,p,_){for(var L=0;L<a.length;++L){var j=a[L];if(!j.da&&j.listener==d&&j.capture==!!p&&j.ha==_)return L}return-1}var Qt="closure_lm_"+(1e6*Math.random()|0),ke={};function qn(a,d,p,_,L){if(Array.isArray(d)){for(var j=0;j<d.length;j++)qn(a,d[j],p,_,L);return null}return p=fe(p),a&&a[nt]?a.K(d,p,c(_)?!!_.capture:!!_,L):Hn(a,d,p,!1,_,L)}function Hn(a,d,p,_,L,j){if(!d)throw Error("Invalid event type");var K=c(L)?!!L.capture:!!L,Ne=q(a);if(Ne||(a[Qt]=Ne=new Kt(a)),p=Ne.add(d,p,_,K,j),p.proxy)return p;if(_=V(),p.proxy=_,_.src=a,_.listener=p,a.addEventListener)Ce||(L=K),L===void 0&&(L=!1),a.addEventListener(d.toString(),_,L);else if(a.attachEvent)a.attachEvent(G(d.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function V(){function a(p){return d.call(a.src,a.listener,p)}const d=H;return a}function F(a,d,p,_,L){if(Array.isArray(d))for(var j=0;j<d.length;j++)F(a,d[j],p,_,L);else _=c(_)?!!_.capture:!!_,p=fe(p),a&&a[nt]?(a=a.i,d=String(d).toString(),d in a.g&&(j=a.g[d],p=Gt(j,p,_,L),-1<p&&(an(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete a.g[d],a.h--)))):a&&(a=q(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Gt(d,p,_,L)),(p=-1<a?d[a]:null)&&$(p))}function $(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[nt])Nn(d.i,a);else{var p=a.type,_=a.proxy;d.removeEventListener?d.removeEventListener(p,_,a.capture):d.detachEvent?d.detachEvent(G(p),_):d.addListener&&d.removeListener&&d.removeListener(_),(p=q(d))?(Nn(p,a),p.h==0&&(p.src=null,d[Qt]=null)):an(a)}}}function G(a){return a in ke?ke[a]:ke[a]="on"+a}function H(a,d){if(a.da)a=!0;else{d=new Pe(d,this);var p=a.listener,_=a.ha||a.src;a.fa&&$(a),a=p.call(_,d)}return a}function q(a){return a=a[Qt],a instanceof Kt?a:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(a){return typeof a=="function"?a:(a[te]||(a[te]=function(d){return a.handleEvent(d)}),a[te])}function me(){he.call(this),this.i=new Kt(this),this.M=this,this.F=null}I(me,he),me.prototype[nt]=!0,me.prototype.removeEventListener=function(a,d,p,_){F(this,a,d,p,_)};function ge(a,d){var p,_=a.F;if(_)for(p=[];_;_=_.F)p.push(_);if(a=a.M,_=d.type||d,typeof d=="string")d=new ve(d,a);else if(d instanceof ve)d.target=d.target||a;else{var L=d;d=new ve(_,a),R(d,L)}if(L=!0,p)for(var j=p.length-1;0<=j;j--){var K=d.g=p[j];L=Pt(K,_,!0,d)&&L}if(K=d.g=a,L=Pt(K,_,!0,d)&&L,L=Pt(K,_,!1,d)&&L,p)for(j=0;j<p.length;j++)K=d.g=p[j],L=Pt(K,_,!1,d)&&L}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],_=0;_<p.length;_++)an(p[_]);delete a.g[d],a.h--}}this.F=null},me.prototype.K=function(a,d,p,_){return this.i.add(String(a),d,!1,p,_)},me.prototype.L=function(a,d,p,_){return this.i.add(String(a),d,!0,p,_)};function Pt(a,d,p,_){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,j=0;j<d.length;++j){var K=d[j];if(K&&!K.da&&K.capture==p){var Ne=K.listener,ft=K.ha||K.src;K.fa&&Nn(a.i,K),L=Ne.call(ft,_)!==!1&&L}}return L&&!_.defaultPrevented}function Ka(a,d,p){if(typeof a=="function")p&&(a=m(a,p));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function zi(a){a.g=Ka(()=>{a.g=null,a.i&&(a.i=!1,zi(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class to extends he{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:zi(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(a){he.call(this),this.h=a,this.g={}}I(ai,he);var no=[];function Ga(a){M(a.g,function(d,p){this.g.hasOwnProperty(p)&&$(d)},a),a.g={}}ai.prototype.N=function(){ai.aa.N.call(this),Ga(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wi=l.JSON.stringify,tC=l.JSON.parse,nC=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Lc(){}Lc.prototype.h=null;function wm(a){return a.h||(a.h=a.i())}function Em(){}var ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mc(){ve.call(this,"d")}I(Mc,ve);function Fc(){ve.call(this,"c")}I(Fc,ve);var li={},Tm=null;function Qa(){return Tm=Tm||new me}li.La="serverreachability";function Cm(a){ve.call(this,li.La,a)}I(Cm,ve);function io(a){const d=Qa();ge(d,new Cm(d))}li.STAT_EVENT="statevent";function Sm(a,d){ve.call(this,li.STAT_EVENT,a),this.stat=d}I(Sm,ve);function kt(a){const d=Qa();ge(d,new Sm(d,a))}li.Ma="timingevent";function Im(a,d){ve.call(this,li.Ma,a),this.size=d}I(Im,ve);function so(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function oo(){this.g=!0}oo.prototype.xa=function(){this.g=!1};function rC(a,d,p,_,L,j){a.info(function(){if(a.g)if(j)for(var K="",Ne=j.split("&"),ft=0;ft<Ne.length;ft++){var Ie=Ne[ft].split("=");if(1<Ie.length){var vt=Ie[0];Ie=Ie[1];var _t=vt.split("_");K=2<=_t.length&&_t[1]=="type"?K+(vt+"="+Ie+"&"):K+(vt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+d+`
`+p+`
`+K})}function iC(a,d,p,_,L,j,K){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+d+`
`+p+`
`+j+" "+K})}function qi(a,d,p,_){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+oC(a,p)+(_?" "+_:"")})}function sC(a,d){a.info(function(){return"TIMEOUT: "+d})}oo.prototype.info=function(){};function oC(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var _=p[a];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<L.length;K++)L[K]=""}}}}return Wi(p)}catch{return d}}var Xa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jc;function Ya(){}I(Ya,Lc),Ya.prototype.g=function(){return new XMLHttpRequest},Ya.prototype.i=function(){return{}},jc=new Ya;function wr(a,d,p,_){this.j=a,this.i=d,this.l=p,this.R=_||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Am}function Am(){this.i=null,this.g="",this.h=!1}var Rm={},$c={};function Bc(a,d,p){a.L=1,a.v=tl(Kn(d)),a.m=p,a.P=!0,Pm(a,null)}function Pm(a,d){a.F=Date.now(),Ja(a),a.A=Kn(a.v);var p=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),zm(p.i,"t",_),a.C=0,p=a.j.J,a.h=new Am,a.g=ag(a.j,p?d:null,!a.m),0<a.O&&(a.M=new to(m(a.Y,a,a.g),a.O)),d=a.U,p=a.g,_=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(no[0]=L.toString()),L=no);for(var j=0;j<L.length;j++){var K=qn(p,L[j],_||d.handleEvent,!1,d.h||d);if(!K)break;d.g[K.key]=K}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),io(),rC(a.i,a.u,a.A,a.l,a.R,a.m)}wr.prototype.ca=function(a){a=a.target;const d=this.M;d&&Gn(a)==3?d.j():this.Y(a)},wr.prototype.Y=function(a){try{if(a==this.g)e:{const _t=Gn(this.g);var d=this.g.Ba();const Gi=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Xm(this.g)))){this.J||_t!=4||d==7||(d==8||0>=Gi?io(3):io(2)),Uc(this);var p=this.g.Z();this.X=p;t:if(km(this)){var _=Xm(this.g);a="";var L=_.length,j=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),ao(this);var K="";break t}this.h.i=new l.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,a+=this.h.i.decode(_[d],{stream:!(j&&d==L-1)});_.length=0,this.h.g+=a,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=p==200,iC(this.i,this.u,this.A,this.l,this.R,_t,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,ft=this.g;if((Ne=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ne)){var Ie=Ne;break t}}Ie=null}if(p=Ie)qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zc(this,p);else{this.o=!1,this.s=3,kt(12),ui(this),ao(this);break e}}if(this.P){p=!0;let vn;for(;!this.J&&this.C<K.length;)if(vn=aC(this,K),vn==$c){_t==4&&(this.s=4,kt(14),p=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==Rm){this.s=4,kt(15),qi(this.i,this.l,K,"[Invalid Chunk]"),p=!1;break}else qi(this.i,this.l,vn,null),zc(this,vn);if(km(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||K.length!=0||this.h.h||(this.s=1,kt(16),p=!1),this.o=this.o&&p,!p)qi(this.i,this.l,K,"[Invalid Chunked Response]"),ui(this),ao(this);else if(0<K.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Qc(vt),vt.M=!0,kt(11))}}else qi(this.i,this.l,K,null),zc(this,K);_t==4&&ui(this),this.o&&!this.J&&(_t==4?rg(this.j,this):(this.o=!1,Ja(this)))}else SC(this.g),p==400&&0<K.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),ui(this),ao(this)}}}catch{}finally{}};function km(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function aC(a,d){var p=a.C,_=d.indexOf(`
`,p);return _==-1?$c:(p=Number(d.substring(p,_)),isNaN(p)?Rm:(_+=1,_+p>d.length?$c:(d=d.slice(_,_+p),a.C=_+p,d)))}wr.prototype.cancel=function(){this.J=!0,ui(this)};function Ja(a){a.S=Date.now()+a.I,Nm(a,a.I)}function Nm(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=so(m(a.ba,a),d)}function Uc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}wr.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(sC(this.i,this.A),this.L!=2&&(io(),kt(17)),ui(this),this.s=2,ao(this)):Nm(this,this.S-a)};function ao(a){a.j.G==0||a.J||rg(a.j,a)}function ui(a){Uc(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Ga(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function zc(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||Wc(p.h,a))){if(!a.K&&Wc(p.h,a)&&p.G==3){try{var _=p.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var L=_;if(L[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)al(p),sl(p);else break e;Gc(p),kt(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=so(m(p.Za,p),6e3));if(1>=Om(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else fi(p,11)}else if((a.K||p.g==a)&&al(p),!y(d))for(L=p.Da.g.parse(d),d=0;d<L.length;d++){let Ie=L[d];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];const vt=Ie[3];vt!=null&&(p.la=vt,p.j.info("VER="+p.la));const _t=Ie[4];_t!=null&&(p.Aa=_t,p.j.info("SVER="+p.Aa));const Gi=Ie[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(_=1.5*Gi,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const vn=a.g;if(vn){const ul=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ul){var j=_.h;j.g||ul.indexOf("spdy")==-1&&ul.indexOf("quic")==-1&&ul.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(qc(j,j.h),j.h=null))}if(_.D){const Xc=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xc&&(_.ya=Xc,Ve(_.I,_.D,Xc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var K=a;if(_.qa=og(_,_.J?_.ia:null,_.W),K.K){bm(_.h,K);var Ne=K,ft=_.L;ft&&(Ne.I=ft),Ne.B&&(Uc(Ne),Ja(Ne)),_.g=K}else tg(_);0<p.i.length&&ol(p)}else Ie[0]!="stop"&&Ie[0]!="close"||fi(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?fi(p,7):Kc(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}io(4)}catch{}}var lC=class{constructor(a,d){this.g=a,this.map=d}};function Dm(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Om(a){return a.h?1:a.g?a.g.size:0}function Wc(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function qc(a,d){a.g?a.g.add(d):a.h=d}function bm(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Dm.prototype.cancel=function(){if(this.i=Lm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Lm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return k(a.i)}function uC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],p=a.length,_=0;_<p;_++)d.push(a[_]);return d}d=[],p=0;for(_ in a)d[p++]=a[_];return d}function cC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const _ in a)d[p++]=_;return d}}}function Mm(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=cC(a),_=uC(a),L=_.length,j=0;j<L;j++)d.call(void 0,_[j],p&&p[j],a)}var Fm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fC(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var _=a[p].indexOf("="),L=null;if(0<=_){var j=a[p].substring(0,_);L=a[p].substring(_+1)}else j=a[p];d(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ci(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ci){this.h=a.h,Za(this,a.j),this.o=a.o,this.g=a.g,el(this,a.s),this.l=a.l;var d=a.i,p=new co;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),jm(this,p),this.m=a.m}else a&&(d=String(a).match(Fm))?(this.h=!1,Za(this,d[1]||"",!0),this.o=lo(d[2]||""),this.g=lo(d[3]||"",!0),el(this,d[4]),this.l=lo(d[5]||"",!0),jm(this,d[6]||"",!0),this.m=lo(d[7]||"")):(this.h=!1,this.i=new co(null,this.h))}ci.prototype.toString=function(){var a=[],d=this.j;d&&a.push(uo(d,$m,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(uo(d,$m,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(uo(p,p.charAt(0)=="/"?pC:hC,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",uo(p,gC)),a.join("")};function Kn(a){return new ci(a)}function Za(a,d,p){a.j=p?lo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function el(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function jm(a,d,p){d instanceof co?(a.i=d,yC(a.i,a.h)):(p||(d=uo(d,mC)),a.i=new co(d,a.h))}function Ve(a,d,p){a.i.set(d,p)}function tl(a){return Ve(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function lo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function uo(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,dC),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function dC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $m=/[#\/\?@]/g,hC=/[#\?:]/g,pC=/[#\?]/g,mC=/[#\?@]/g,gC=/#/g;function co(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Er(a){a.g||(a.g=new Map,a.h=0,a.i&&fC(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=co.prototype,t.add=function(a,d){Er(this),this.i=null,a=Hi(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function Bm(a,d){Er(a),d=Hi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Um(a,d){return Er(a),d=Hi(a,d),a.g.has(d)}t.forEach=function(a,d){Er(this),this.g.forEach(function(p,_){p.forEach(function(L){a.call(d,L,_,this)},this)},this)},t.na=function(){Er(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let _=0;_<d.length;_++){const L=a[_];for(let j=0;j<L.length;j++)p.push(d[_])}return p},t.V=function(a){Er(this);let d=[];if(typeof a=="string")Um(this,a)&&(d=d.concat(this.g.get(Hi(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return Er(this),this.i=null,a=Hi(this,a),Um(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function zm(a,d,p){Bm(a,d),0<p.length&&(a.i=null,a.g.set(Hi(a,d),k(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var _=d[p];const j=encodeURIComponent(String(_)),K=this.V(_);for(_=0;_<K.length;_++){var L=j;K[_]!==""&&(L+="="+encodeURIComponent(String(K[_]))),a.push(L)}}return this.i=a.join("&")};function Hi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function yC(a,d){d&&!a.j&&(Er(a),a.i=null,a.g.forEach(function(p,_){var L=_.toLowerCase();_!=L&&(Bm(this,_),zm(this,L,p))},a)),a.j=d}function vC(a,d){const p=new oo;if(l.Image){const _=new Image;_.onload=v(Tr,p,"TestLoadImage: loaded",!0,d,_),_.onerror=v(Tr,p,"TestLoadImage: error",!1,d,_),_.onabort=v(Tr,p,"TestLoadImage: abort",!1,d,_),_.ontimeout=v(Tr,p,"TestLoadImage: timeout",!1,d,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else d(!1)}function _C(a,d){const p=new oo,_=new AbortController,L=setTimeout(()=>{_.abort(),Tr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:_.signal}).then(j=>{clearTimeout(L),j.ok?Tr(p,"TestPingServer: ok",!0,d):Tr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Tr(p,"TestPingServer: error",!1,d)})}function Tr(a,d,p,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(p)}catch{}}function wC(){this.g=new nC}function EC(a,d,p){const _=p||"";try{Mm(a,function(L,j){let K=L;c(L)&&(K=Wi(L)),d.push(_+j+"="+encodeURIComponent(K))})}catch(L){throw d.push(_+"type="+encodeURIComponent("_badmap")),L}}function nl(a){this.l=a.Ub||null,this.j=a.eb||!1}I(nl,Lc),nl.prototype.g=function(){return new rl(this.l,this.j)},nl.prototype.i=function(a){return function(){return a}}({});function rl(a,d){me.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(rl,me),t=rl.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ho(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ho(this)),this.g&&(this.readyState=3,ho(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?fo(this):ho(this),this.readyState==3&&Wm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,fo(this))},t.Qa=function(a){this.g&&(this.response=a,fo(this))},t.ga=function(){this.g&&fo(this)};function fo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ho(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function ho(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function qm(a){let d="";return M(a,function(p,_){d+=_,d+=":",d+=p,d+=`\r
`}),d}function Hc(a,d,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=qm(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):Ve(a,d,p))}function ze(a){me.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ze,me);var TC=/^https?$/i,CC=["POST","PUT"];t=ze.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jc.g(),this.v=this.o?wm(this.o):wm(jc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(j){Hm(this,j);return}if(a=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)p.set(L,_[L]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const j of _.keys())p.set(j,_.get(j));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(CC,d,void 0))||_||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of p)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qm(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){Hm(this,j)}};function Hm(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Km(a),il(a)}function Km(a){a.A||(a.A=!0,ge(a,"complete"),ge(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ge(this,"complete"),ge(this,"abort"),il(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gm(this):this.bb())},t.bb=function(){Gm(this)};function Gm(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Gn(a)!=4||a.Z()!=2)){if(a.u&&Gn(a)==4)Ka(a.Ea,0,a);else if(ge(a,"readystatechange"),Gn(a)==4){a.h=!1;try{const K=a.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var _;if(_=K===0){var L=String(a.D).match(Fm)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),_=!TC.test(L?L.toLowerCase():"")}p=_}if(p)ge(a,"complete"),ge(a,"success");else{a.m=6;try{var j=2<Gn(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Km(a)}}finally{il(a)}}}}function il(a,d){if(a.g){Qm(a);const p=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ge(a,"ready");try{p.onreadystatechange=_}catch{}}}function Qm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Gn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),tC(d)}};function Xm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function SC(a){const d={};a=(a.g&&2<=Gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var p=D(a[_]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=d[L]||[];d[L]=j,j.push(p)}E(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function po(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function Ym(a){this.Aa=0,this.i=[],this.j=new oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=po("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=po("baseRetryDelayMs",5e3,a),this.cb=po("retryDelaySeedMs",1e4,a),this.Wa=po("forwardChannelMaxRetries",2,a),this.wa=po("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Dm(a&&a.concurrentRequestLimit),this.Da=new wC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ym.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,_){kt(0),this.W=a,this.H=d||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=og(this,null,this.W),ol(this)};function Kc(a){if(Jm(a),a.G==3){var d=a.U++,p=Kn(a.I);if(Ve(p,"SID",a.K),Ve(p,"RID",d),Ve(p,"TYPE","terminate"),mo(a,p),d=new wr(a,a.j,d),d.L=2,d.v=tl(Kn(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=ag(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ja(d)}sg(a)}function sl(a){a.g&&(Qc(a),a.g.cancel(),a.g=null)}function Jm(a){sl(a),a.u&&(l.clearTimeout(a.u),a.u=null),al(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ol(a){if(!Vm(a.h)&&!a.s){a.s=!0;var d=a.Ga;ce||Q(),z||(ce(),z=!0),Y.add(d,a),a.B=0}}function IC(a,d){return Om(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=so(m(a.Ga,a,d),ig(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new wr(this,this.j,a);let j=this.o;if(this.S&&(j?(j=g(j),R(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=eg(this,L,d),p=Kn(this.I),Ve(p,"RID",a),Ve(p,"CVER",22),this.D&&Ve(p,"X-HTTP-Session-Id",this.D),mo(this,p),j&&(this.O?d="headers="+encodeURIComponent(String(qm(j)))+"&"+d:this.m&&Hc(p,this.m,j)),qc(this.h,L),this.Ua&&Ve(p,"TYPE","init"),this.P?(Ve(p,"$req",d),Ve(p,"SID","null"),L.T=!0,Bc(L,p,null)):Bc(L,p,d),this.G=2}}else this.G==3&&(a?Zm(this,a):this.i.length==0||Vm(this.h)||Zm(this))};function Zm(a,d){var p;d?p=d.l:p=a.U++;const _=Kn(a.I);Ve(_,"SID",a.K),Ve(_,"RID",p),Ve(_,"AID",a.T),mo(a,_),a.m&&a.o&&Hc(_,a.m,a.o),p=new wr(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=eg(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),qc(a.h,p),Bc(p,_,d)}function mo(a,d){a.H&&M(a.H,function(p,_){Ve(d,_,p)}),a.l&&Mm({},function(p,_){Ve(d,_,p)})}function eg(a,d,p){p=Math.min(a.i.length,p);var _=a.l?m(a.l.Na,a.l,a):null;e:{var L=a.i;let j=-1;for(;;){const K=["count="+p];j==-1?0<p?(j=L[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Ne=!0;for(let ft=0;ft<p;ft++){let Ie=L[ft].g;const vt=L[ft].map;if(Ie-=j,0>Ie)j=Math.max(0,L[ft].g-100),Ne=!1;else try{EC(vt,K,"req"+Ie+"_")}catch{_&&_(vt)}}if(Ne){_=K.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,_}function tg(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ce||Q(),z||(ce(),z=!0),Y.add(d,a),a.v=0}}function Gc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=so(m(a.Fa,a),ig(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,ng(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=so(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),sl(this),ng(this))};function Qc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function ng(a){a.g=new wr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Kn(a.qa);Ve(d,"RID","rpc"),Ve(d,"SID",a.K),Ve(d,"AID",a.T),Ve(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ve(d,"TO",a.ja),Ve(d,"TYPE","xmlhttp"),mo(a,d),a.m&&a.o&&Hc(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=tl(Kn(d)),p.m=null,p.P=!0,Pm(p,a)}t.Za=function(){this.C!=null&&(this.C=null,sl(this),Gc(this),kt(19))};function al(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function rg(a,d){var p=null;if(a.g==d){al(a),Qc(a),a.g=null;var _=2}else if(Wc(a.h,d))p=d.D,bm(a.h,d),_=1;else return;if(a.G!=0){if(d.o)if(_==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var L=a.B;_=Qa(),ge(_,new Im(_,p)),ol(a)}else tg(a);else if(L=d.s,L==3||L==0&&0<d.X||!(_==1&&IC(a,d)||_==2&&Gc(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),L){case 1:fi(a,5);break;case 4:fi(a,10);break;case 3:fi(a,6);break;default:fi(a,2)}}}function ig(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function fi(a,d){if(a.j.info("Error code "+d),d==2){var p=m(a.fb,a),_=a.Xa;const L=!_;_=new ci(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Za(_,"https"),tl(_),L?vC(_.toString(),p):_C(_.toString(),p)}else kt(2);a.G=0,a.l&&a.l.sa(d),sg(a),Jm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function sg(a){if(a.G=0,a.ka=[],a.l){const d=Lm(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function og(a,d,p){var _=p instanceof ci?Kn(p):new ci(p);if(_.g!="")d&&(_.g=d+"."+_.g),el(_,_.s);else{var L=l.location;_=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var j=new ci(null);_&&Za(j,_),d&&(j.g=d),L&&el(j,L),p&&(j.l=p),_=j}return p=a.D,d=a.ya,p&&d&&Ve(_,p,d),Ve(_,"VER",a.la),mo(a,_),_}function ag(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ze(new nl({eb:p})):new ze(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lg(){}t=lg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ll(){}ll.prototype.g=function(a,d){return new Xt(a,d)};function Xt(a,d){me.call(this),this.g=new Ym(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!y(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ki(this)}I(Xt,me),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){Kc(this.g)},Xt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=Wi(a),a=p);d.i.push(new lC(d.Ya++,a)),d.G==3&&ol(d)},Xt.prototype.N=function(){this.g.l=null,delete this.j,Kc(this.g),delete this.g,Xt.aa.N.call(this)};function ug(a){Mc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}I(ug,Mc);function cg(){Fc.call(this),this.status=1}I(cg,Fc);function Ki(a){this.g=a}I(Ki,lg),Ki.prototype.ua=function(){ge(this.g,"a")},Ki.prototype.ta=function(a){ge(this.g,new ug(a))},Ki.prototype.sa=function(a){ge(this.g,new cg)},Ki.prototype.ra=function(){ge(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,ST=function(){return new ll},CT=function(){return Qa()},TT=li,eh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,Hl=Xa,xm.COMPLETE="complete",ET=xm,Em.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",me.prototype.listen=me.prototype.K,Vo=Em,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,wT=ze}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xs="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new hT("@firebase/firestore");function Zi(){return Vi.logLevel}function X(t,...e){if(Vi.logLevel<=Ee.DEBUG){const n=e.map(jp);Vi.debug(`Firestore (${Xs}): ${t}`,...n)}}function gr(t,...e){if(Vi.logLevel<=Ee.ERROR){const n=e.map(jp);Vi.error(`Firestore (${Xs}): ${t}`,...n)}}function Ls(t,...e){if(Vi.logLevel<=Ee.WARN){const n=e.map(jp);Vi.warn(`Firestore (${Xs}): ${t}`,...n)}}function jp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${Xs}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function Ae(t,e){t||se()}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class uD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cD{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ae(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new or;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new or,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new or)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new IT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Ct(e)}}class fD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ae(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new hD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.timestamp=e}static fromTimestamp(e){return new le(e)}static min(){return new le(new ot(0,0))}static max(){return new le(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Ia{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const gD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends Ia{construct(e,n,r){return new pt(e,n,r)}static isValidIdentifier(e){return gD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new Z(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(n)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Le.fromString(e))}static fromName(e){return new re(Le.fromString(e).popFirst(5))}static empty(){return new re(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Le(e.slice()))}}function yD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Yr(i,re.empty(),e)}function vD(t){return new Yr(t.readTime,t.key,-1)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(le.min(),re.empty(),-1)}static max(){return new Yr(le.max(),re.empty(),-1)}}function _D(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ED{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==wD)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(f=>{o[c]=f,++l,l===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function TD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Js(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wc.oe=-1;function Ec(t){return t==null}function bu(t){return t===0&&1/t==-1/0}function CD(t){return typeof t=="number"&&Number.isInteger(t)&&!bu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dv(e)),e=ID(t.get(n),e);return dv(e)}function ID(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function dv(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function AT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new Ue(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new Ue(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(e){return new pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new In([])}unionWith(e){let n=new ct(pt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new RT("Invalid base64 string: "+s):s}}(e);return new yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yt.EMPTY_BYTE_STRING=new yt("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=xD.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zr(t){return typeof t=="string"?yt.fromBase64String(t):yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tc(t){const e=t.mapValue.fields.__previous_value__;return $p(e)?Tc(e):e}function xa(t){const e=Jr(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Aa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Aa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Aa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ei(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$p(t)?4:PD(t)?9007199254740991:RD(t)?10:11:se()}function Wn(t,e){if(t===e)return!0;const n=ei(t);if(n!==ei(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Jr(i.timestampValue),l=Jr(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Zr(i.bytesValue).isEqual(Zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ke(i.geoPointValue.latitude)===Ke(s.geoPointValue.latitude)&&Ke(i.geoPointValue.longitude)===Ke(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ke(i.integerValue)===Ke(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ke(i.doubleValue),l=Ke(s.doubleValue);return o===l?bu(o)===bu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Ms(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(hv(o)!==hv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Wn(o[u],l[u])))return!1;return!0}(t,e);default:return se()}}function Ra(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function Fs(t,e){if(t===e)return 0;const n=ei(t),r=ei(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Ke(s.integerValue||s.doubleValue),u=Ke(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return mv(t.timestampValue,e.timestampValue);case 4:return mv(xa(t),xa(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){const l=Zr(s),u=Zr(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=Te(l[c],u[c]);if(f!==0)return f}return Te(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Te(Ke(s.latitude),Ke(o.latitude));return l!==0?l:Te(Ke(s.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gv(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,f;const h=s.fields||{},m=o.fields||{},v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,I=(u=m.value)===null||u===void 0?void 0:u.arrayValue,k=Te(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((f=I==null?void 0:I.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:gv(v,I)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Nl.mapValue&&o===Nl.mapValue)return 0;if(s===Nl.mapValue)return 1;if(o===Nl.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let h=0;h<u.length&&h<f.length;++h){const m=Te(u[h],f[h]);if(m!==0)return m;const v=Fs(l[u[h]],c[f[h]]);if(v!==0)return v}return Te(u.length,f.length)}(t.mapValue,e.mapValue);default:throw se()}}function mv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Jr(t),r=Jr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function gv(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fs(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function js(t){return th(t)}function th(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=th(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${th(n.fields[o])}`;return i+"}"}(t.mapValue):se()}function Kl(t){switch(ei(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tc(t);return e?16+Kl(e):16;case 5:return 2*t.stringValue.length;case 6:return Zr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Kl(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ji(r.fields,(s,o)=>{i+=s.length+Kl(o)}),i}(t.mapValue);default:throw se()}}function yv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function nh(t){return!!t&&"integerValue"in t}function Bp(t){return!!t&&"arrayValue"in t}function vv(t){return!!t&&"nullValue"in t}function _v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gl(t){return!!t&&"mapValue"in t}function RD(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Qo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=pt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=Qo(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ji(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fn(Qo(this.value))}}function PT(t){const e=[];return ji(t.fields,(n,r)=>{const i=new pt([n]);if(Gl(r)){const s=PT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new It(e,0,le.min(),le.min(),le.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,le.min(),le.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,le.min(),le.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.position=e,this.inclusive=n}}function wv(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=Fs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ev(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function kD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{}class et extends kT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DD(e,n,r):n==="array-contains"?new bD(e,r):n==="in"?new LD(e,r):n==="not-in"?new MD(e,r):n==="array-contains-any"?new FD(e,r):new et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VD(e,r):new OD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fs(n,this.value)):n!==null&&ei(this.value)===ei(n)&&this.matchesComparison(Fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends kT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new kn(e,n)}matches(e){return NT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function NT(t){return t.op==="and"}function DT(t){return ND(t)&&NT(t)}function ND(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function rh(t){if(t instanceof et)return t.field.canonicalString()+t.op.toString()+js(t.value);if(DT(t))return t.filters.map(e=>rh(e)).join(",");{const e=t.filters.map(n=>rh(n)).join(",");return`${t.op}(${e})`}}function VT(t,e){return t instanceof et?function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&VT(o,i.filters[l]),!0):!1}(t,e):void se()}function OT(t){return t instanceof et?function(n){return`${n.field.canonicalString()} ${n.op} ${js(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"}(t):"Filter"}class DD extends et{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class VD extends et{constructor(e,n){super(e,"in",n),this.keys=bT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class OD extends et{constructor(e,n){super(e,"not-in",n),this.keys=bT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class bD extends et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bp(n)&&Ra(n.arrayValue,this.value)}}class LD extends et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ra(this.value.arrayValue,n)}}class MD extends et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ra(this.value.arrayValue,n)}}class FD extends et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ra(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function Tv(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jD(t,e,n,r,i,s,o)}function Up(t){const e=de(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ec(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>js(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>js(r)).join(",")),e.ue=n}return e.ue}function zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ev(t.startAt,e.startAt)&&Ev(t.endAt,e.endAt)}function ih(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $D(t,e,n,r,i,s,o,l){return new Ba(t,e,n,r,i,s,o,l)}function Wp(t){return new Ba(t)}function Cv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LT(t){return t.collectionGroup!==null}function Xo(t){const e=de(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new ct(pt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Mu(s,r))}),n.has(pt.keyField().canonicalString())||e.ce.push(new Mu(pt.keyField(),r))}return e.ce}function Un(t){const e=de(t);return e.le||(e.le=BD(e,Xo(t))),e.le}function BD(t,e){if(t.limitType==="F")return Tv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Mu(i.field,s)});const n=t.endAt?new Lu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Lu(t.startAt.position,t.startAt.inclusive):null;return Tv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sh(t,e){const n=t.filters.concat([e]);return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function oh(t,e,n){return new Ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cc(t,e){return zp(Un(t),Un(e))&&t.limitType===e.limitType}function MT(t){return`${Up(Un(t))}|lt:${t.limitType}`}function es(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>OT(i)).join(", ")}]`),Ec(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>js(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>js(i)).join(",")),`Target(${r})`}(Un(t))}; limitType=${t.limitType})`}function Sc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Xo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=wv(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,Xo(r),i)||r.endAt&&!function(o,l,u){const c=wv(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,Xo(r),i))}(t,e)}function UD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FT(t){return(e,n)=>{let r=!1;for(const i of Xo(t)){const s=zD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zD(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?Fs(u,c):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ji(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return AT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Ue(re.comparator);function yr(){return WD}const jT=new Ue(re.comparator);function Oo(...t){let e=jT;for(const n of t)e=e.insert(n.key,n);return e}function $T(t){let e=jT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Yo()}function BT(){return Yo()}function Yo(){return new $i(t=>t.toString(),(t,e)=>t.isEqual(e))}const qD=new Ue(re.comparator),HD=new ct(re.comparator);function _e(...t){let e=HD;for(const n of t)e=e.add(n);return e}const KD=new ct(Te);function GD(){return KD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bu(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function QD(t,e){return CD(e)?UT(e):qp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(){this._=void 0}}function XD(t,e,n){return t instanceof Fu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$p(s)&&(s=Tc(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Pa?WT(t,e):t instanceof ka?qT(t,e):function(i,s){const o=zT(i,s),l=Sv(o)+Sv(i.Pe);return nh(o)&&nh(i.Pe)?UT(l):qp(i.serializer,l)}(t,e)}function YD(t,e,n){return t instanceof Pa?WT(t,e):t instanceof ka?qT(t,e):n}function zT(t,e){return t instanceof ju?function(r){return nh(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fu extends Ic{}class Pa extends Ic{constructor(e){super(),this.elements=e}}function WT(t,e){const n=HT(e);for(const r of t.elements)n.some(i=>Wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ka extends Ic{constructor(e){super(),this.elements=e}}function qT(t,e){let n=HT(e);for(const r of t.elements)n=n.filter(i=>!Wn(i,r));return{arrayValue:{values:n}}}class ju extends Ic{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Sv(t){return Ke(t.integerValue||t.doubleValue)}function HT(t){return Bp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function JD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Pa&&i instanceof Pa||r instanceof ka&&i instanceof ka?Ms(r.elements,i.elements,Wn):r instanceof ju&&i instanceof ju?Wn(r.Pe,i.Pe):r instanceof Fu&&i instanceof Fu}(t.transform,e.transform)}class ZD{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ql(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xc{}function KT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new QT(t.key,ar.none()):new Ua(t.key,t.data,ar.none());{const n=t.data,r=fn.empty();let i=new ct(pt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bi(t.key,r,new In(i.toArray()),ar.none())}}function eV(t,e,n){t instanceof Ua?function(i,s,o){const l=i.value.clone(),u=xv(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Bi?function(i,s,o){if(!Ql(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=xv(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(GT(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Jo(t,e,n,r){return t instanceof Ua?function(s,o,l,u){if(!Ql(s.precondition,o))return l;const c=s.value.clone(),f=Av(s.fieldTransforms,u,o);return c.setAll(f),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bi?function(s,o,l,u){if(!Ql(s.precondition,o))return l;const c=Av(s.fieldTransforms,u,o),f=o.data;return f.setAll(GT(s)),f.setAll(c),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,l){return Ql(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function tV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zT(r.transform,i||null);s!=null&&(n===null&&(n=fn.empty()),n.set(r.field,s))}return n||null}function Iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ms(r,i,(s,o)=>JD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ua extends xc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bi extends xc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function GT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xv(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,YD(o,l,n[i]))}return r}function Av(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,XD(s,o,e))}return r}class QT extends xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nV extends xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=KT(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,r)=>Iv(n,r))&&Ms(this.baseMutations,e.baseMutations,(n,r)=>Iv(n,r))}}class Hp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return qD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,we;function oV(t){switch(t){default:return se();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function XT(t){if(t===void 0)return gr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Ye.OK:return U.OK;case Ye.CANCELLED:return U.CANCELLED;case Ye.UNKNOWN:return U.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return U.INTERNAL;case Ye.UNAVAILABLE:return U.UNAVAILABLE;case Ye.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Ye.NOT_FOUND:return U.NOT_FOUND;case Ye.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Ye.ABORTED:return U.ABORTED;case Ye.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Ye.DATA_LOSS:return U.DATA_LOSS;default:return se()}}(we=Ye||(Ye={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Ii([4294967295,4294967295],0);function Rv(t){const e=aV().encode(t),n=new _T;return n.update(e),new Uint8Array(n.digest())}function Pv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ii([n,r],0),new Ii([i,s],0)]}class Kp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bo(`Invalid padding: ${n}`);if(r<0)throw new bo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ii.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ii.fromNumber(r)));return i.compare(lV)===1&&(i=new Ii([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Rv(e),[r,i]=Pv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Kp(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Rv(e),[r,i]=Pv(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,za.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ac(le.min(),i,new Ue(Te),yr(),_e())}}class za{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new za(r,n,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class YT{constructor(e,n){this.targetId=e,this.me=n}}class JT{constructor(e,n,r=yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kv{constructor(){this.fe=0,this.ge=Dv(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),n=_e(),r=_e();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new za(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Dv()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uV{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=Nv(),this.Qe=new Ue(Te)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(ih(s))if(r===0){const o=new re(s.path);this.Ue(n,o,It.newNoDocument(o,le.min()))}else Ae(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=Zr(r).toUint8Array()}catch(u){if(u instanceof RT)return Ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Kp(o,i,s)}catch(u){return Ls(u instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&ih(l.target)){const u=new re(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,It.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=_e();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Ac(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=Nv(),this.Qe=new Ue(Te),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new kv,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(Te),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kv),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Nv(){return new Ue(re.comparator)}function Dv(){return new Ue(re.comparator)}const cV={asc:"ASCENDING",desc:"DESCENDING"},fV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dV={and:"AND",or:"OR"};class hV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ah(t,e){return t.useProto3Json||Ec(e)?e:{value:e}}function $u(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pV(t,e){return $u(t,e.toTimestamp())}function zn(t){return Ae(!!t),le.fromTimestamp(function(n){const r=Jr(n);return new ot(r.seconds,r.nanos)}(t))}function Gp(t,e){return lh(t,e).canonicalString()}function lh(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function e1(t){const e=Le.fromString(t);return Ae(s1(e)),e}function uh(t,e){return Gp(t.databaseId,e.path)}function Ff(t,e){const n=e1(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(n1(n))}function t1(t,e){return Gp(t.databaseId,e)}function mV(t){const e=e1(t);return e.length===4?Le.emptyPath():n1(e)}function ch(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function n1(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Vv(t,e,n){return{name:uh(t,e),fields:n.value.mapValue.fields}}function gV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(Ae(f===void 0||typeof f=="string"),yt.fromBase64String(f||"")):(Ae(f===void 0||f instanceof Buffer||f instanceof Uint8Array),yt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const f=c.code===void 0?U.UNKNOWN:XT(c.code);return new Z(f,c.message||"")}(o);n=new JT(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ff(t,r.document.name),s=zn(r.document.updateTime),o=r.document.createTime?zn(r.document.createTime):le.min(),l=new fn({mapValue:{fields:r.document.fields}}),u=It.newFoundDocument(i,s,o,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Xl(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ff(t,r.document),s=r.readTime?zn(r.readTime):le.min(),o=It.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Xl([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ff(t,r.document),s=r.removedTargetIds||[];n=new Xl([],s,i,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new sV(i,s),l=r.targetId;n=new YT(l,o)}}return n}function yV(t,e){let n;if(e instanceof Ua)n={update:Vv(t,e.key,e.value)};else if(e instanceof QT)n={delete:uh(t,e.key)};else if(e instanceof Bi)n={update:Vv(t,e.key,e.data),updateMask:xV(e.fieldMask)};else{if(!(e instanceof nV))return se();n={verify:uh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ju)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:se()}(t,e.precondition)),n}function vV(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?zn(i.updateTime):zn(s);return o.isEqual(le.min())&&(o=zn(s)),new ZD(o,i.transformResults||[])}(n,e))):[]}function _V(t,e){return{documents:[t1(t,e.path)]}}function wV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=t1(t,i);const s=function(c){if(c.length!==0)return i1(kn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ts(m.field),direction:CV(m.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=ah(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function EV(t){let e=mV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=r1(h);return m instanceof kn&&DT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(I){return new Mu(ns(I.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,Ec(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(h){const m=!!h.before,v=h.values||[];return new Lu(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const m=!h.before,v=h.values||[];return new Lu(v,m)}(n.endAt)),$D(e,i,o,s,l,"F",u,c)}function TV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ns(n.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ns(n.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ns(n.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ns(n.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return et.create(ns(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>r1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function CV(t){return cV[t]}function SV(t){return fV[t]}function IV(t){return dV[t]}function ts(t){return{fieldPath:t.canonicalString()}}function ns(t){return pt.fromServerFormat(t.fieldPath)}function i1(t){return t instanceof et?function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NAN"}};if(vv(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NAN"}};if(vv(n.value))return{unaryFilter:{field:ts(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ts(n.field),op:SV(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>i1(i));return r.length===1?r[0]:{compositeFilter:{op:IV(n.op),filters:r}}}(t):se()}function xV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function s1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,i,s=le.min(),o=le.min(),l=yt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.ct=e}}function RV(t){const e=EV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?oh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(){this.un=new kV}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Yr.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class kV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mt(e,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mt.DEFAULT_COLLECTION_PERCENTILE=10,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mt.DEFAULT=new Mt(41943040,Mt.DEFAULT_COLLECTION_PERCENTILE,Mt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mt.DISABLED=new Mt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new $s(0)}static kn(){return new $s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv([t,e],[n,r]){const i=Te(t,n);return i===0?Te(e,r):i}class NV{constructor(e){this.Un=e,this.buffer=new ct(bv),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();bv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Js(n)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ys(n)}await this.Hn(3e5)})}}class VV{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(wc.oe);const r=new NV(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Ov)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),Zi()<=Ee.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${h} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function OV(t,e){return new VV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.changes=new $i(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Jo(r.mutation,i,In.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Oo();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=yr();const o=Yo(),l=function(){return Yo()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Bi)?s=s.insert(c.key,c):f!==void 0?(o.set(c.key,f.mutation.getFieldMask()),Jo(f.mutation,c,f.mutation.getFieldMask(),ot.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,f)=>o.set(c,f)),n.forEach((c,f)=>{var h;return l.set(c,new LV(f,(h=o.get(c))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Yo();let i=new Ue((o,l)=>o-l),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||In.empty();f=l.applyToLocalView(c,f),r.set(u,f);const h=(i.get(l.batchId)||_e()).add(u);i=i.insert(l.batchId,h)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,h=BT();f.forEach(m=>{if(!s.has(m)){const v=KT(n.get(m),r.get(m));v!==null&&h.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(wi());let l=-1,u=s;return o.next(c=>B.forEach(c,(f,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,_e())).next(f=>({batchId:l,changes:$T(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=Oo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Oo();return this.indexManager.getCollectionParents(e,s).next(l=>B.forEach(l,u=>{const c=function(h,m){return new Ba(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const f=c.getKey();o.get(f)===null&&(o=o.insert(f,It.newInvalidDocument(f)))});let l=Oo();return o.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Jo(f.mutation,c,In.empty(),ot.now()),Sc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:zn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:RV(i.bundledQuery),readTime:zn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.overlays=new Ue(re.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),s=n.length+1,o=new re(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ue((c,f)=>c-f);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=s.get(c.largestBatchId);f===null&&(f=wi(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return B.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new iV(n,r));let s=this.Ir.get(n);s===void 0&&(s=_e(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.sessionToken=yt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Tr=new ct(at.Er),this.dr=new ct(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new re(new Le([])),r=new at(n,e),i=new at(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new re(new Le([])),r=new at(n,e),i=new at(n,e+1);let s=_e();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ct(at.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rV(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new at(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Te);return n.forEach(i=>{const s=new at(i,0),o=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;re.isDocumentKey(s)||(s=s.child(""));const o=new at(new re(s),0);let l=new ct(Te);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),B.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new at(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new at(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.Mr=e,this.docs=function(){return new Ue(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yr();const o=n.path,l=new re(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_D(vD(f),r)<=0||(i.has(f.key)||Sc(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){se()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new zV(this)}getSize(e){return B.resolve(this.size)}}class zV extends bV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.persistence=e,this.Nr=new $i(n=>Up(n),zp),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qp,this.targetCount=0,this.kr=$s.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new $s(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wc(0),this.Kr=!1,this.Kr=!0,this.$r=new $V,this.referenceDelegate=e(this),this.Ur=new WV(this),this.indexManager=new PV,this.remoteDocumentCache=function(i){return new UV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new AV(n),this.Gr=new FV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new jV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new BV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new qV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qV extends ED{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Jr=new Qp,this.Yr=null}static Zr(e){return new Xp(e)}get Xr(){if(this.Yr)return this.Yr;throw se()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=re.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,le.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Bu{constructor(e,n){this.persistence=e,this.ti=new $i(r=>SD(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=OV(this,n)}static Zr(e,n){return new Bu(e,n)}zr(){}jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return B.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(l=>{l||(r++,s.removeEntry(o,le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kl(e.data.value)),n}nr(e,n,r){return B.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=_e(),i=_e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Hk()?8:TD(Wk())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HV;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Zi()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",es(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Zi()<=Ee.DEBUG&&X("QueryEngine","Query:",es(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Zi()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",es(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(n))):B.resolve())}Yi(e,n){if(Cv(n))return B.resolve(null);let r=Un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=oh(n,null,"F"),r=Un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=_e(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,oh(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Cv(n)||i.isEqual(le.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(Zi()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),es(n)),this.rs(e,o,n,yD(i,-1)).next(l=>l))})}ts(e,n){let r=new ct(FT(e));return n.forEach((i,s)=>{Sc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Zi()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",es(n)),this.Ji.getDocumentsMatchingQuery(e,n,Yr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ue(Te),this._s=new $i(s=>Up(s),zp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function QV(t,e,n,r){return new GV(t,e,n,r)}async function a1(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=_e();for(const c of i){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function XV(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const h=c.batch,m=h.keys();let v=B.resolve();return m.forEach(I=>{v=v.next(()=>f.getEntry(u,I)).next(k=>{const P=c.docVersions.get(I);Ae(P!==null),k.version.compareTo(P)<0&&(h.applyToRemoteDocument(k,c),k.isValidDocument()&&(k.setReadTime(c.commitVersion),f.addEntry(k)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=_e();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function l1(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function YV(t,e){const n=de(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;l.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,f.addedDocuments,h)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(yt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(h,v),function(k,P,S){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(m,v,f)&&l.push(n.Ur.updateTargetData(s,v))});let u=yr(),c=_e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(JV(s,o,e.documentUpdates).next(f=>{u=f.Ps,c=f.Is})),!r.isEqual(le.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(f)}return B.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function JV(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function ZV(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function eO(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function fh(t,e,n){const r=de(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Js(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Lv(t,e,n){const r=de(t);let i=le.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,f){const h=de(u),m=h._s.get(f);return m!==void 0?B.resolve(h.os.get(m)):h.Ur.getTargetData(c,f)}(r,o,Un(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:le.min(),n?s:_e())).next(l=>(tO(r,UD(e),l),{documents:l,Ts:s})))}function tO(t,e,n){let r=t.us.get(e)||le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Mv{constructor(){this.activeTargetIds=GD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this.so=new Mv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl=null;function jf(){return Dl===null?Dl=function(){return 268435456+Math.round(2147483648*Math.random())}():Dl++,"0x"+Dl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt="WebChannelConnection";class oO extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=jf(),u=this.xo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(f=>(X("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw Ls("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=iO[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=jf();return new Promise((o,l)=>{const u=new wT;u.setWithCredentials(!0),u.listenOnce(ET.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Hl.NO_ERROR:const f=u.getResponseJson();X(Tt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Hl.TIMEOUT:X(Tt,`RPC '${e}' ${s} timed out`),l(new Z(U.DEADLINE_EXCEEDED,"Request time out"));break;case Hl.HTTP_ERROR:const h=u.getStatus();if(X(Tt,`RPC '${e}' ${s} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const I=function(P){const S=P.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(S)>=0?S:U.UNKNOWN}(v.status);l(new Z(I,v.message))}else l(new Z(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(U.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{X(Tt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(Tt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=jf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ST(),l=CT(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=s.join("");X(Tt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const h=o.createWebChannel(f,u);let m=!1,v=!1;const I=new sO({Io:P=>{v?X(Tt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(X(Tt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),X(Tt,`RPC '${e}' stream ${i} sending:`,P),h.send(P))},To:()=>h.close()}),k=(P,S,y)=>{P.listen(S,T=>{try{y(T)}catch(O){setTimeout(()=>{throw O},0)}})};return k(h,Vo.EventType.OPEN,()=>{v||(X(Tt,`RPC '${e}' stream ${i} transport opened.`),I.yo())}),k(h,Vo.EventType.CLOSE,()=>{v||(v=!0,X(Tt,`RPC '${e}' stream ${i} transport closed`),I.So())}),k(h,Vo.EventType.ERROR,P=>{v||(v=!0,Ls(Tt,`RPC '${e}' stream ${i} transport errored:`,P),I.So(new Z(U.UNAVAILABLE,"The operation could not be completed")))}),k(h,Vo.EventType.MESSAGE,P=>{var S;if(!v){const y=P.data[0];Ae(!!y);const T=y,O=T.error||((S=T[0])===null||S===void 0?void 0:S.error);if(O){X(Tt,`RPC '${e}' stream ${i} received error:`,O);const b=O.status;let M=function(x){const R=Ye[x];if(R!==void 0)return XT(R)}(b),E=O.message;M===void 0&&(M=U.INTERNAL,E="Unknown error status: "+b+" with message "+O.message),v=!0,I.So(new Z(M,E)),h.close()}else X(Tt,`RPC '${e}' stream ${i} received:`,y),I.bo(y)}}),k(l,TT.STAT_EVENT,P=>{P.stat===eh.PROXY?X(Tt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===eh.NOPROXY&&X(Tt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function $f(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){return new hV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new u1(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Z(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aO extends c1{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=gV(this.serializer,e),r=function(s){if(!("targetChange"in s))return le.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?le.min():o.readTime?zn(o.readTime):le.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ch(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=ih(u)?{documents:_V(s,u)}:{query:wV(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=ZT(s,o.resumeToken);const c=ah(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(le.min())>0){l.readTime=$u(s,o.snapshotVersion.toTimestamp());const c=ah(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=TV(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ch(this.serializer),n.removeTarget=e,this.a_(n)}}class lO extends c1{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=vV(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ch(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>yV(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,lh(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(U.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,lh(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):X("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ui(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=de(u);c.L_.add(4),await Wa(c),c.q_.set("Unknown"),c.L_.delete(4),await Pc(c)}(this))})}),this.q_=new cO(r,i)}}async function Pc(t){if(Ui(t))for(const e of t.B_)await e(!0)}async function Wa(t){for(const e of t.B_)await e(!1)}function f1(t,e){const n=de(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tm(n)?em(n):Zs(n).r_()&&Zp(n,e))}function Jp(t,e){const n=de(t),r=Zs(n);n.N_.delete(e),r.r_()&&d1(n,e),n.N_.size===0&&(r.r_()?r.o_():Ui(n)&&n.q_.set("Unknown"))}function Zp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zs(t).A_(e)}function d1(t,e){t.Q_.xe(e),Zs(t).R_(e)}function em(t){t.Q_=new uV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zs(t).start(),t.q_.v_()}function tm(t){return Ui(t)&&!Zs(t).n_()&&t.N_.size>0}function Ui(t){return de(t).L_.size===0}function h1(t){t.Q_=void 0}async function dO(t){t.q_.set("Online")}async function hO(t){t.N_.forEach((e,n)=>{Zp(t,e)})}async function pO(t,e){h1(t),tm(t)?(t.q_.M_(e),em(t)):t.q_.set("Unknown")}async function mO(t,e,n){if(t.q_.set("Online"),e instanceof JT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uu(t,r)}else if(e instanceof Xl?t.Q_.Ke(e):e instanceof YT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(le.min()))try{const r=await l1(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.N_.get(c);f&&s.N_.set(c,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const f=s.N_.get(u);if(!f)return;s.N_.set(u,f.withResumeToken(yt.EMPTY_BYTE_STRING,f.snapshotVersion)),d1(s,u);const h=new Or(f.target,u,c,f.sequenceNumber);Zp(s,h)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await Uu(t,r)}}async function Uu(t,e,n){if(!Js(e))throw e;t.L_.add(1),await Wa(t),t.q_.set("Offline"),n||(n=()=>l1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Pc(t)})}function p1(t,e){return e().catch(n=>Uu(t,n,e))}async function kc(t){const e=de(t),n=ti(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gO(e);)try{const i=await ZV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,yO(e,i)}catch(i){await Uu(e,i)}m1(e)&&g1(e)}function gO(t){return Ui(t)&&t.O_.length<10}function yO(t,e){t.O_.push(e);const n=ti(t);n.r_()&&n.V_&&n.m_(e.mutations)}function m1(t){return Ui(t)&&!ti(t).n_()&&t.O_.length>0}function g1(t){ti(t).start()}async function vO(t){ti(t).p_()}async function _O(t){const e=ti(t);for(const n of t.O_)e.m_(n.mutations)}async function wO(t,e,n){const r=t.O_.shift(),i=Hp.from(r,e,n);await p1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await kc(t)}async function EO(t,e){e&&ti(t).V_&&await async function(r,i){if(function(o){return oV(o)&&o!==U.ABORTED}(i.code)){const s=r.O_.shift();ti(r).s_(),await p1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await kc(r)}}(t,e),m1(t)&&g1(t)}async function jv(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ui(n);n.L_.add(3),await Wa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Pc(n)}async function TO(t,e){const n=de(t);e?(n.L_.delete(2),await Pc(n)):e||(n.L_.add(2),await Wa(n),n.q_.set("Unknown"))}function Zs(t){return t.K_||(t.K_=function(n,r,i){const s=de(n);return s.w_(),new aO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:dO.bind(null,t),Ro:hO.bind(null,t),mo:pO.bind(null,t),d_:mO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tm(t)?em(t):t.q_.set("Unknown")):(await t.K_.stop(),h1(t))})),t.K_}function ti(t){return t.U_||(t.U_=function(n,r,i){const s=de(n);return s.w_(),new lO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vO.bind(null,t),mo:EO.bind(null,t),f_:_O.bind(null,t),g_:wO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await kc(t)):(await t.U_.stop(),t.O_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new nm(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Js(t))return new Z(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Oo(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new Cs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.W_=new Ue(re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):se():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bs{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Bs(e,n,Cs.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class SO{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=de(n),s=i.queries;i.queries=Bv(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new Z(U.ABORTED,"Firestore shutting down"))}}function Bv(){return new $i(t=>MT(t),Cc)}async function y1(t,e){const n=de(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new CO,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=rm(o,`Initialization of query '${es(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&im(n)}async function v1(t,e){const n=de(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function IO(t,e){const n=de(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&im(n)}function xO(t,e,n){const r=de(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function im(t){t.Y_.forEach(e=>{e.next()})}var dh,Uv;(Uv=dh||(dh={})).ea="default",Uv.Cache="cache";class _1{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.key=e}}class E1{constructor(e){this.key=e}}class AO{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=FT(e),this.Ra=new Cs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new $v,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),v=Sc(this.query,h)?h:null,I=!!m&&this.mutatedKeys.has(m.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;m&&v?m.data.isEqual(v.data)?I!==k&&(r.track({type:3,doc:v}),P=!0):this.ga(m,v)||(r.track({type:2,doc:v}),P=!0,(u&&this.Aa(v,u)>0||c&&this.Aa(v,c)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),P=!0):m&&!v&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(l=!0)),P&&(v?(o=o.add(v),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((f,h)=>function(v,I){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return k(v)-k(I)}(f.type,h.type)||this.Aa(f.doc,h.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Bs(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new $v,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new E1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new w1(r))}),n}ba(e){this.Ta=e.Ts,this.da=_e();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Bs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class RO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class PO{constructor(e){this.key=e,this.va=!1}}class kO{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new $i(l=>MT(l),Cc),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(re.comparator),this.Na=new Map,this.La=new Qp,this.Ba={},this.ka=new Map,this.qa=$s.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function NO(t,e,n=!0){const r=A1(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await T1(r,e,n,!0),i}async function DO(t,e){const n=A1(t);await T1(n,e,!0,!1)}async function T1(t,e,n,r){const i=await eO(t.localStore,Un(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await VO(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&f1(t.remoteStore,i),l}async function VO(t,e,n,r,i){t.Ka=(h,m,v)=>async function(k,P,S,y){let T=P.view.ma(S);T.ns&&(T=await Lv(k.localStore,P.query,!1).then(({documents:E})=>P.view.ma(E,T)));const O=y&&y.targetChanges.get(P.targetId),b=y&&y.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(T,k.isPrimaryClient,O,b);return Wv(k,P.targetId,M.wa),M.snapshot}(t,h,m,v);const s=await Lv(t.localStore,e,!0),o=new AO(e,s.Ts),l=o.ma(s.documents),u=za.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);Wv(t,n,c.wa);const f=new RO(e,n,o);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function OO(t,e,n){const r=de(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Cc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jp(r.remoteStore,i.targetId),hh(r,i.targetId)}).catch(Ys)):(hh(r,i.targetId),await fh(r.localStore,i.targetId,!0))}async function bO(t,e){const n=de(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jp(n.remoteStore,r.targetId))}async function LO(t,e,n){const r=zO(t);try{const i=await function(o,l){const u=de(o),c=ot.now(),f=l.reduce((v,I)=>v.add(I.key),_e());let h,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let I=yr(),k=_e();return u.cs.getEntries(v,f).next(P=>{I=P,I.forEach((S,y)=>{y.isValidDocument()||(k=k.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,I)).next(P=>{h=P;const S=[];for(const y of l){const T=tV(y,h.get(y.key).overlayedDocument);T!=null&&S.push(new Bi(y.key,T,PT(T.value.mapValue),ar.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,S,l)}).next(P=>{m=P;const S=P.applyToLocalDocumentSet(h,k);return u.documentOverlayCache.saveOverlays(v,P.batchId,S)})}).then(()=>({batchId:m.batchId,changes:$T(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ue(Te)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await qa(r,i.changes),await kc(r.remoteStore)}catch(i){const s=rm(i,"Failed to persist write");n.reject(s)}}async function C1(t,e){const n=de(t);try{const r=await YV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ae(o.va):i.removedDocuments.size>0&&(Ae(o.va),o.va=!1))}),await qa(n,r,e)}catch(r){await Ys(r)}}function zv(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=de(o);u.onlineState=l;let c=!1;u.queries.forEach((f,h)=>{for(const m of h.j_)m.Z_(l)&&(c=!0)}),c&&im(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MO(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ue(re.comparator);o=o.insert(s,It.newNoDocument(s,le.min()));const l=_e().add(s),u=new Ac(le.min(),new Map,new Ue(Te),o,l);await C1(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),sm(r)}else await fh(r.localStore,e,!1).then(()=>hh(r,e,n)).catch(Ys)}async function FO(t,e){const n=de(t),r=e.batch.batchId;try{const i=await XV(n.localStore,e);I1(n,r,null),S1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qa(n,i)}catch(i){await Ys(i)}}async function jO(t,e,n){const r=de(t);try{const i=await function(o,l){const u=de(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(h=>(Ae(h!==null),f=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);I1(r,e,n),S1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await qa(r,i)}catch(i){await Ys(i)}}function S1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function I1(t,e,n){const r=de(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function hh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||x1(t,r)})}function x1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Jp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),sm(t))}function Wv(t,e,n){for(const r of n)r instanceof w1?(t.La.addReference(r.key,e),$O(t,r)):r instanceof E1?(X("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||x1(t,r.key)):se()}function $O(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(X("SyncEngine","New document in limbo: "+n),t.xa.add(r),sm(t))}function sm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new re(Le.fromString(e)),r=t.qa.next();t.Na.set(r,new PO(n)),t.Oa=t.Oa.insert(n,r),f1(t.remoteStore,new Or(Un(Wp(n.path)),r,"TargetPurposeLimboResolution",wc.oe))}}async function qa(t,e,n){const r=de(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Yp.Wi(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const f=de(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,m=>B.forEach(m.$i,v=>f.persistence.referenceDelegate.addReference(h,m.targetId,v)).next(()=>B.forEach(m.Ui,v=>f.persistence.referenceDelegate.removeReference(h,m.targetId,v)))))}catch(h){if(!Js(h))throw h;X("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const m=h.targetId;if(!h.fromCache){const v=f.os.get(m),I=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(I);f.os=f.os.insert(m,k)}}}(r.localStore,s))}async function BO(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await a1(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new Z(U.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await qa(n,r.hs)}}function UO(t,e){const n=de(t),r=n.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function A1(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=C1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MO.bind(null,e),e.Ca.d_=IO.bind(null,e.eventManager),e.Ca.$a=xO.bind(null,e.eventManager),e}function zO(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=FO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jO.bind(null,e),e}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return QV(this.persistence,new KV,e.initialUser,this.serializer)}Ga(e){return new o1(Xp.Zr,this.serializer)}Wa(e){return new nO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class WO extends zu{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ae(this.persistence.referenceDelegate instanceof Bu);const r=this.persistence.referenceDelegate.garbageCollector;return new DV(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Mt.withCacheSize(this.cacheSizeBytes):Mt.DEFAULT;return new o1(r=>Bu.Zr(r,n),this.serializer)}}class ph{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BO.bind(null,this.syncEngine),await TO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SO}()}createDatastore(e){const n=Rc(e.databaseInfo.databaseId),r=function(s){return new oO(s)}(e.databaseInfo);return function(s,o,l,u){return new uO(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new fO(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>zv(this.syncEngine,n,0),function(){return Fv.D()?new Fv:new rO}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,f){const h=new kO(i,s,o,l,u,c);return f&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=de(i);X("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Wa(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ph.provider={build:()=>new ph};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=xT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await a1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function qv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HO(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>jv(e.remoteStore,i)),t._onlineComponents=e}async function HO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new zu)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await Bf(t,new WO(void 0));return t._offlineComponents}async function P1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await qv(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await qv(t,new ph))),t._onlineComponents}function KO(t){return P1(t).then(e=>e.syncEngine)}async function k1(t){const e=await P1(t),n=e.eventManager;return n.onListen=NO.bind(null,e.syncEngine),n.onUnlisten=OO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=DO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bO.bind(null,e.syncEngine),n}function GO(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new R1({next:m=>{f.Za(),o.enqueueAndForget(()=>v1(s,h));const v=m.docs.has(l);!v&&m.fromCache?c.reject(new Z(U.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?c.reject(new Z(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new _1(Wp(l.path),f,{includeMetadataChanges:!0,_a:!0});return y1(s,h)}(await k1(t),t.asyncQueue,e,n,r)),r.promise}function QO(t,e,n={}){const r=new or;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const f=new R1({next:m=>{f.Za(),o.enqueueAndForget(()=>v1(s,h)),m.fromCache&&u.source==="server"?c.reject(new Z(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),h=new _1(l,f,{includeMetadataChanges:!0,_a:!0});return y1(s,h)}(await k1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e,n){if(!n)throw new Z(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XO(t,e,n,r){if(e===!0&&r===!0)throw new Z(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kv(t){if(!re.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Gv(t){if(re.isDocumentKey(t))throw new Z(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function Us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nc(t);throw new Z(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new lD;switch(r.type){case"firstParty":return new dD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hv.get(n);r&&(X("ComponentProvider","Removing Datastore"),Hv.delete(n),r.terminate())}(this),Promise.resolve()}}function YO(t,e,n,r={}){var i;const s=(t=Us(t,Dc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Ct.MOCK_USER;else{l=zk(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(c)}t._authCredentials=new uD(new IT(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new eo(this.firestore,e,this._query)}}class en{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class Hr extends eo{constructor(e,n,r){super(e,n,Wp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new re(e))}withConverter(e){return new Hr(this.firestore,e,this._path)}}function V1(t,e,...n){if(t=bs(t),D1("collection","path",e),t instanceof Dc){const r=Le.fromString(e,...n);return Gv(r),new Hr(t,null,r)}{if(!(t instanceof en||t instanceof Hr))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Gv(r),new Hr(t.firestore,null,r)}}function O1(t,e,...n){if(t=bs(t),arguments.length===1&&(e=xT.newId()),D1("doc","path",e),t instanceof Dc){const r=Le.fromString(e,...n);return Kv(r),new en(t,null,new re(r))}{if(!(t instanceof en||t instanceof Hr))throw new Z(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return Kv(r),new en(t.firestore,t instanceof Hr?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new u1(this,"async_queue_retry"),this.Vu=()=>{const r=$f();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$f();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$f();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new or;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Js(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=nm.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Vc extends Dc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xv,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xv(e),this._firestoreClient=void 0,await e}}}function JO(t,e){const n=typeof t=="object"?t:JN(),r=typeof t=="string"?t:"(default)",i=GN(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Bk("firestore");s&&YO(i,...s)}return i}function om(t){if(t._terminated)throw new Z(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ZO(t),t._firestoreClient}function ZO(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,f){return new AD(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,N1(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new qO(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zs(yt.fromBase64String(e))}catch(n){throw new Z(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zs(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=/^__.*__$/;class t2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ua(e,this.data,n,this.fieldTransforms)}}function L1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class cm{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(L1(this.Cu)&&e2.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class n2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rc(e)}Qu(e,n,r,i=!1){return new cm({Cu:e,methodName:n,qu:r,path:pt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M1(t){const e=t._freezeSettings(),n=Rc(t._databaseId);return new n2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function r2(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);$1("Data must be an object, but it was:",o,r);const l=F1(r,o);let u,c;if(s.merge)u=new In(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=s2(e,h,n);if(!o.contains(m))throw new Z(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);a2(f,m)||f.push(m)}u=new In(f),c=o.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=o.fieldTransforms;return new t2(new fn(l),u,c)}function i2(t,e,n,r=!1){return fm(n,t.Qu(r?4:3,e))}function fm(t,e){if(j1(t=bs(t)))return $1("Unsupported field value:",e,t),F1(t,e);if(t instanceof b1)return function(r,i){if(!L1(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=fm(l,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=bs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return QD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ot.fromDate(r);return{timestampValue:$u(i.serializer,s)}}if(r instanceof ot){const s=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$u(i.serializer,s)}}if(r instanceof lm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zs)return{bytesValue:ZT(i.serializer,r._byteString)};if(r instanceof en){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Gp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof um)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Bu("VectorValues must only contain numeric values.");return qp(l.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nc(r)}`)}(t,e)}function F1(t,e){const n={};return AT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ji(t,(r,i)=>{const s=fm(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function j1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof lm||t instanceof zs||t instanceof en||t instanceof b1||t instanceof um)}function $1(t,e,n){if(!j1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Nc(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function s2(t,e,n){if((e=bs(e))instanceof am)return e._internalPath;if(typeof e=="string")return B1(t,e);throw Wu("Field path arguments must be of type string or ",t,!1,void 0,n)}const o2=new RegExp("[~\\*/\\[\\]]");function B1(t,e,n){if(e.search(o2)>=0)throw Wu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new am(...e.split("."))._internalPath}catch{throw Wu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wu(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new Z(U.INVALID_ARGUMENT,l+t+u)}function a2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class l2 extends U1{data(){return super.data()}}function dm(t,e){return typeof e=="string"?B1(t,e):e instanceof am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class c2 extends hm{}function f2(t,e,...n){let r=[];e instanceof hm&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof pm).length,l=s.filter(u=>u instanceof Oc).length;if(o>1||o>0&&l>0)throw new Z(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Oc extends c2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oc(e,n,r)}_apply(e){const n=this._parse(e);return z1(e._query,n),new eo(e.firestore,e.converter,sh(e._query,n))}_parse(e){const n=M1(e.firestore);return function(s,o,l,u,c,f,h){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Z(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Jv(h,f);const v=[];for(const I of h)v.push(Yv(u,s,I));m={arrayValue:{values:v}}}else m=Yv(u,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Jv(h,f),m=i2(l,o,h,f==="in"||f==="not-in");return et.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function d2(t,e,n){const r=e,i=dm("where",t);return Oc._create(i,r,n)}class pm extends hm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new pm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)z1(o,u),o=sh(o,u)}(e._query,n),new eo(e.firestore,e.converter,sh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Yv(t,e,n){if(typeof(n=bs(n))=="string"){if(n==="")throw new Z(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!re.isDocumentKey(r))throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yv(t,new re(r))}if(n instanceof en)return yv(t,n._key);throw new Z(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(n)}.`)}function Jv(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function z1(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class h2{convertValue(e,n="none"){switch(ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ji(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ke(o.doubleValue));return new um(s)}convertGeoPoint(e){return new lm(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tc(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xa(e));default:return null}}convertTimestamp(e){const n=Jr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ae(s1(r));const i=new Aa(r.get(1),r.get(3)),s=new re(r.popFirst(5));return i.isEqual(n)||gr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class W1 extends U1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yl extends W1{data(e={}){return super.data(e)}}class m2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Lo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yl(this._firestore,this._userDataWriter,r.key,r,new Lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new Yl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new Yl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Lo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:g2(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function g2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t){t=Us(t,en);const e=Us(t.firestore,Vc);return GO(om(e),t._key).then(n=>E2(e,t,n))}class q1 extends h2{constructor(e){super(),this.firestore=e}convertBytes(e){return new zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function v2(t){t=Us(t,eo);const e=Us(t.firestore,Vc),n=om(e),r=new q1(e);return u2(t._query),QO(n,t._query).then(i=>new m2(e,r,t,i))}function _2(t,e){const n=Us(t.firestore,Vc),r=O1(t),i=p2(t.converter,e);return w2(n,[r2(M1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function w2(t,e){return function(r,i){const s=new or;return r.asyncQueue.enqueueAndForget(async()=>LO(await KO(r),i,s)),s.promise}(om(t),e)}function E2(t,e,n){const r=n.docs.get(e._key),i=new q1(t);return new W1(t,i,e._key,r,new Lo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Xs=i})(YN),Ou(new Ca("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Vc(new cD(r.getProvider("auth-internal")),new pD(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Aa(c.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ts(fv,"4.7.4",e),Ts(fv,"4.7.4","esm2017")})();var T2="firebase",C2="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(T2,C2,"app");const S2={apiKey:void 0,authDomain:"richardstore-af657.firebaseapp.com",projectId:"richardstore-af657",storageBucket:"richardstore-af657.appspot.com",messagingSenderId:"596971287963",appId:"1:596971287963:web:3cfa3271e24424f89f5d3e",measurementId:"G-JMST2ZW0QD"},I2=gT(S2),mm=JO(I2),Zv=()=>{const[t,e]=w.useState([]);w.useState("Productos");const n=BE().idCategory;return w.useEffect(()=>{const r=V1(mm,"items"),i=n?f2(r,d2("category","==",n)):r;v2(i).then(s=>{e(s.docs.map(o=>({...o.data(),id:o.id})))})},[n]),A.jsx(Pn,{children:A.jsx(Nk,{products:t,category:n})})},x2=({qty:t,handleRestar:e,handleSumar:n,handleAgregar:r})=>A.jsxs("div",{children:[A.jsxs("div",{className:"item-count",children:[A.jsx(xt,{variant:"secondary",onClick:e,children:"-"}),A.jsx("p",{className:"qty",children:t}),A.jsx(xt,{variant:"secondary",onClick:n,children:"+"})]}),A.jsx(xt,{variant:"primary",className:"agregar-al-carrito",onClick:r,children:"Agregar al carrito"})]}),A2=({item:t})=>{const{cart:e,addToCart:n}=w.useContext(hr),[r,i]=w.useState(1),s=()=>{r>1&&i(r-1)},o=()=>{r<t.stock&&i(r+1)};return A.jsx(Pn,{className:"container-detailed",children:A.jsx(sr,{children:A.jsxs(Ft,{style:{width:"18rem"},children:[A.jsx(Ft.Img,{variant:"top",src:t.image}),A.jsxs(Ft.Body,{children:[A.jsx(Ft.Title,{children:t.title}),A.jsx(Ft.Text,{children:t.category}),A.jsxs(Ft.Text,{children:["Stock: ",t.stock]}),A.jsx(Ft.Text,{children:t.description}),A.jsxs("h6",{className:"card-price",variant:"primary",children:["$ ",t.price]}),A.jsx(x2,{qty:r,handleRestar:s,handleSumar:o,handleAgregar:()=>{n(t,r)}})]})]},t.id)})})},R2=()=>{const[t,e]=w.useState(null),n=BE().id;return w.useEffect(()=>{const r=O1(mm,"items",n);y2(r).then(i=>{e({...i.data(),id:i.id})})},[n]),A.jsx(A.Fragment,{children:t&&A.jsx(A2,{item:t})})};var Ha=t=>t.type==="checkbox",Ei=t=>t instanceof Date,Dt=t=>t==null;const H1=t=>typeof t=="object";var Xe=t=>!Dt(t)&&!Array.isArray(t)&&H1(t)&&!Ei(t),P2=t=>Xe(t)&&t.target?Ha(t.target)?t.target.checked:t.target.value:t,k2=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,N2=(t,e)=>t.has(k2(e)),D2=t=>{const e=t.constructor&&t.constructor.prototype;return Xe(e)&&e.hasOwnProperty("isPrototypeOf")},gm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ln(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(gm&&(t instanceof Blob||t instanceof FileList))&&(n||Xe(t)))if(e=n?[]:{},!n&&!D2(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=ln(t[r]));else return t;return e}var bc=t=>Array.isArray(t)?t.filter(Boolean):[],He=t=>t===void 0,ee=(t,e,n)=>{if(!e||!Xe(t))return n;const r=bc(e.split(/[,[\].]+?/)).reduce((i,s)=>Dt(i)?i:i[s],t);return He(r)||r===t?He(t[e])?n:t[e]:r},bn=t=>typeof t=="boolean",ym=t=>/^\w*$/.test(t),K1=t=>bc(t.replace(/["|']|\]/g,"").split(/\.|\[/)),be=(t,e,n)=>{let r=-1;const i=ym(e)?[e]:K1(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const c=t[l];u=Xe(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(l==="__proto__")return;t[l]=u,t=t[l]}return t};const e_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Sn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Qn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};xe.createContext(null);var V2=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Sn.all&&(e._proxyFormState[o]=!r||Sn.all),t[o]}});return i},Lt=t=>Xe(t)&&!Object.keys(t).length,O2=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Lt(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Sn.all)},Jl=t=>Array.isArray(t)?t:[t];function b2(t){const e=xe.useRef(t);e.current=t,xe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Mn=t=>typeof t=="string",L2=(t,e,n,r,i)=>Mn(t)?(r&&e.watch.add(t),ee(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ee(n,s))):(r&&(e.watchAll=!0),n),M2=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},t_=t=>({isOnSubmit:!t||t===Sn.onSubmit,isOnBlur:t===Sn.onBlur,isOnChange:t===Sn.onChange,isOnAll:t===Sn.all,isOnTouch:t===Sn.onTouched}),n_=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Zo=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ee(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Zo(l,e))break}else if(Xe(l)&&Zo(l,e))break}}};var F2=(t,e,n)=>{const r=Jl(ee(t,n));return be(r,"root",e[n]),be(t,n,r),t},vm=t=>t.type==="file",nr=t=>typeof t=="function",qu=t=>{if(!gm)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zl=t=>Mn(t),_m=t=>t.type==="radio",Hu=t=>t instanceof RegExp;const r_={value:!1,isValid:!1},i_={value:!0,isValid:!0};var G1=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!He(t[0].attributes.value)?He(t[0].value)||t[0].value===""?i_:{value:t[0].value,isValid:!0}:i_:r_}return r_};const s_={isValid:!1,value:null};var Q1=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,s_):s_;function o_(t,e,n="validate"){if(Zl(t)||Array.isArray(t)&&t.every(Zl)||bn(t)&&!t)return{type:n,message:Zl(t)?t:"",ref:e}}var Ji=t=>Xe(t)&&!Hu(t)?t:{value:t,message:""},a_=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:c,min:f,max:h,pattern:m,validate:v,name:I,valueAsNumber:k,mount:P,disabled:S}=t._f,y=ee(e,I);if(!P||S)return{};const T=o?o[0]:s,O=N=>{r&&T.reportValidity&&(T.setCustomValidity(bn(N)?"":N||""),T.reportValidity())},b={},M=_m(s),E=Ha(s),g=M||E,x=(k||vm(s))&&He(s.value)&&He(y)||qu(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,R=M2.bind(null,I,n,b),D=(N,C,ne,ue=Qn.maxLength,ae=Qn.minLength)=>{const ce=N?C:ne;b[I]={type:N?ue:ae,message:ce,ref:s,...R(N?ue:ae,ce)}};if(i?!Array.isArray(y)||!y.length:l&&(!g&&(x||Dt(y))||bn(y)&&!y||E&&!G1(o).isValid||M&&!Q1(o).isValid)){const{value:N,message:C}=Zl(l)?{value:!!l,message:l}:Ji(l);if(N&&(b[I]={type:Qn.required,message:C,ref:T,...R(Qn.required,C)},!n))return O(C),b}if(!x&&(!Dt(f)||!Dt(h))){let N,C;const ne=Ji(h),ue=Ji(f);if(!Dt(y)&&!isNaN(y)){const ae=s.valueAsNumber||y&&+y;Dt(ne.value)||(N=ae>ne.value),Dt(ue.value)||(C=ae<ue.value)}else{const ae=s.valueAsDate||new Date(y),ce=Q=>new Date(new Date().toDateString()+" "+Q),z=s.type=="time",Y=s.type=="week";Mn(ne.value)&&y&&(N=z?ce(y)>ce(ne.value):Y?y>ne.value:ae>new Date(ne.value)),Mn(ue.value)&&y&&(C=z?ce(y)<ce(ue.value):Y?y<ue.value:ae<new Date(ue.value))}if((N||C)&&(D(!!N,ne.message,ue.message,Qn.max,Qn.min),!n))return O(b[I].message),b}if((u||c)&&!x&&(Mn(y)||i&&Array.isArray(y))){const N=Ji(u),C=Ji(c),ne=!Dt(N.value)&&y.length>+N.value,ue=!Dt(C.value)&&y.length<+C.value;if((ne||ue)&&(D(ne,N.message,C.message),!n))return O(b[I].message),b}if(m&&!x&&Mn(y)){const{value:N,message:C}=Ji(m);if(Hu(N)&&!y.match(N)&&(b[I]={type:Qn.pattern,message:C,ref:s,...R(Qn.pattern,C)},!n))return O(C),b}if(v){if(nr(v)){const N=await v(y,e),C=o_(N,T);if(C&&(b[I]={...C,...R(Qn.validate,C.message)},!n))return O(C.message),b}else if(Xe(v)){let N={};for(const C in v){if(!Lt(N)&&!n)break;const ne=o_(await v[C](y,e),T,C);ne&&(N={...ne,...R(C,ne.message)},O(ne.message),n&&(b[I]=N))}if(!Lt(N)&&(b[I]={ref:T,...N},!n))return b}}return O(!0),b};function j2(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=He(t)?r++:t[e[r++]];return t}function $2(t){for(const e in t)if(t.hasOwnProperty(e)&&!He(t[e]))return!1;return!0}function rt(t,e){const n=Array.isArray(e)?e:ym(e)?[e]:K1(e),r=n.length===1?t:j2(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Xe(r)&&Lt(r)||Array.isArray(r)&&$2(r))&&rt(t,n.slice(0,-1)),t}var Uf=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},mh=t=>Dt(t)||!H1(t);function Pr(t,e){if(mh(t)||mh(e))return t===e;if(Ei(t)&&Ei(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ei(s)&&Ei(o)||Xe(s)&&Xe(o)||Array.isArray(s)&&Array.isArray(o)?!Pr(s,o):s!==o)return!1}}return!0}var X1=t=>t.type==="select-multiple",B2=t=>_m(t)||Ha(t),zf=t=>qu(t)&&t.isConnected,Y1=t=>{for(const e in t)if(nr(t[e]))return!0;return!1};function Ku(t,e={}){const n=Array.isArray(t);if(Xe(t)||n)for(const r in t)Array.isArray(t[r])||Xe(t[r])&&!Y1(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ku(t[r],e[r])):Dt(t[r])||(e[r]=!0);return e}function J1(t,e,n){const r=Array.isArray(t);if(Xe(t)||r)for(const i in t)Array.isArray(t[i])||Xe(t[i])&&!Y1(t[i])?He(e)||mh(n[i])?n[i]=Array.isArray(t[i])?Ku(t[i],[]):{...Ku(t[i])}:J1(t[i],Dt(e)?{}:e[i],n[i]):n[i]=!Pr(t[i],e[i]);return n}var xo=(t,e)=>J1(t,e,Ku(e)),Z1=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>He(t)?t:e?t===""?NaN:t&&+t:n&&Mn(t)?new Date(t):r?r(t):t;function Wf(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return vm(e)?e.files:_m(e)?Q1(t.refs).value:X1(e)?[...e.selectedOptions].map(({value:n})=>n):Ha(e)?G1(t.refs).value:Z1(He(e.value)?t.ref.value:e.value,t)}var U2=(t,e,n,r)=>{const i={};for(const s of t){const o=ee(e,s);o&&be(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Ao=t=>He(t)?t:Hu(t)?t.source:Xe(t)?Hu(t.value)?t.value.source:t.value:t;const l_="AsyncFunction";var z2=t=>(!t||!t.validate)&&!!(nr(t.validate)&&t.validate.constructor.name===l_||Xe(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===l_)),W2=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function u_(t,e,n){const r=ee(t,n);if(r||ym(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ee(e,s),l=ee(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var q2=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,H2=(t,e)=>!bc(ee(t,e)).length&&rt(t,e);const K2={mode:Sn.onSubmit,reValidateMode:Sn.onChange,shouldFocusError:!0};function G2(t={}){let e={...K2,...t},n={submitCount:0,isDirty:!1,isLoading:nr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Xe(e.defaultValues)||Xe(e.values)?ln(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ln(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Uf(),array:Uf(),state:Uf()},m=t_(e.mode),v=t_(e.reValidateMode),I=e.criteriaMode===Sn.all,k=V=>F=>{clearTimeout(c),c=setTimeout(V,F)},P=async V=>{if(!t.disabled&&(f.isValid||V)){const F=e.resolver?Lt((await g()).errors):await R(r,!0);F!==n.isValid&&h.state.next({isValid:F})}},S=(V,F)=>{!t.disabled&&(f.isValidating||f.validatingFields)&&((V||Array.from(l.mount)).forEach($=>{$&&(F?be(n.validatingFields,$,F):rt(n.validatingFields,$))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Lt(n.validatingFields)}))},y=(V,F=[],$,G,H=!0,q=!0)=>{if(G&&$&&!t.disabled){if(o.action=!0,q&&Array.isArray(ee(r,V))){const te=$(ee(r,V),G.argA,G.argB);H&&be(r,V,te)}if(q&&Array.isArray(ee(n.errors,V))){const te=$(ee(n.errors,V),G.argA,G.argB);H&&be(n.errors,V,te),H2(n.errors,V)}if(f.touchedFields&&q&&Array.isArray(ee(n.touchedFields,V))){const te=$(ee(n.touchedFields,V),G.argA,G.argB);H&&be(n.touchedFields,V,te)}f.dirtyFields&&(n.dirtyFields=xo(i,s)),h.state.next({name:V,isDirty:N(V,F),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else be(s,V,F)},T=(V,F)=>{be(n.errors,V,F),h.state.next({errors:n.errors})},O=V=>{n.errors=V,h.state.next({errors:n.errors,isValid:!1})},b=(V,F,$,G)=>{const H=ee(r,V);if(H){const q=ee(s,V,He($)?ee(i,V):$);He(q)||G&&G.defaultChecked||F?be(s,V,F?q:Wf(H._f)):ue(V,q),o.mount&&P()}},M=(V,F,$,G,H)=>{let q=!1,te=!1;const fe={name:V};if(!t.disabled){const me=!!(ee(r,V)&&ee(r,V)._f&&ee(r,V)._f.disabled);if(!$||G){f.isDirty&&(te=n.isDirty,n.isDirty=fe.isDirty=N(),q=te!==fe.isDirty);const ge=me||Pr(ee(i,V),F);te=!!(!me&&ee(n.dirtyFields,V)),ge||me?rt(n.dirtyFields,V):be(n.dirtyFields,V,!0),fe.dirtyFields=n.dirtyFields,q=q||f.dirtyFields&&te!==!ge}if($){const ge=ee(n.touchedFields,V);ge||(be(n.touchedFields,V,$),fe.touchedFields=n.touchedFields,q=q||f.touchedFields&&ge!==$)}q&&H&&h.state.next(fe)}return q?fe:{}},E=(V,F,$,G)=>{const H=ee(n.errors,V),q=f.isValid&&bn(F)&&n.isValid!==F;if(t.delayError&&$?(u=k(()=>T(V,$)),u(t.delayError)):(clearTimeout(c),u=null,$?be(n.errors,V,$):rt(n.errors,V)),($?!Pr(H,$):H)||!Lt(G)||q){const te={...G,...q&&bn(F)?{isValid:F}:{},errors:n.errors,name:V};n={...n,...te},h.state.next(te)}},g=async V=>{S(V,!0);const F=await e.resolver(s,e.context,U2(V||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(V),F},x=async V=>{const{errors:F}=await g(V);if(V)for(const $ of V){const G=ee(F,$);G?be(n.errors,$,G):rt(n.errors,$)}else n.errors=F;return F},R=async(V,F,$={valid:!0})=>{for(const G in V){const H=V[G];if(H){const{_f:q,...te}=H;if(q){const fe=l.array.has(q.name),me=H._f&&z2(H._f);me&&f.validatingFields&&S([G],!0);const ge=await a_(H,s,I,e.shouldUseNativeValidation&&!F,fe);if(me&&f.validatingFields&&S([G]),ge[q.name]&&($.valid=!1,F))break;!F&&(ee(ge,q.name)?fe?F2(n.errors,ge,q.name):be(n.errors,q.name,ge[q.name]):rt(n.errors,q.name))}!Lt(te)&&await R(te,F,$)}}return $.valid},D=()=>{for(const V of l.unMount){const F=ee(r,V);F&&(F._f.refs?F._f.refs.every($=>!zf($)):!zf(F._f.ref))&&qe(V)}l.unMount=new Set},N=(V,F)=>!t.disabled&&(V&&F&&be(s,V,F),!Pr(pe(),i)),C=(V,F,$)=>L2(V,l,{...o.mount?s:He(F)?i:Mn(V)?{[V]:F}:F},$,F),ne=V=>bc(ee(o.mount?s:i,V,t.shouldUnregister?ee(i,V,[]):[])),ue=(V,F,$={})=>{const G=ee(r,V);let H=F;if(G){const q=G._f;q&&(!q.disabled&&be(s,V,Z1(F,q)),H=qu(q.ref)&&Dt(F)?"":F,X1(q.ref)?[...q.ref.options].forEach(te=>te.selected=H.includes(te.value)):q.refs?Ha(q.ref)?q.refs.length>1?q.refs.forEach(te=>(!te.defaultChecked||!te.disabled)&&(te.checked=Array.isArray(H)?!!H.find(fe=>fe===te.value):H===te.value)):q.refs[0]&&(q.refs[0].checked=!!H):q.refs.forEach(te=>te.checked=te.value===H):vm(q.ref)?q.ref.value="":(q.ref.value=H,q.ref.type||h.values.next({name:V,values:{...s}})))}($.shouldDirty||$.shouldTouch)&&M(V,H,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&Q(V)},ae=(V,F,$)=>{for(const G in F){const H=F[G],q=`${V}.${G}`,te=ee(r,q);(l.array.has(V)||Xe(H)||te&&!te._f)&&!Ei(H)?ae(q,H,$):ue(q,H,$)}},ce=(V,F,$={})=>{const G=ee(r,V),H=l.array.has(V),q=ln(F);be(s,V,q),H?(h.array.next({name:V,values:{...s}}),(f.isDirty||f.dirtyFields)&&$.shouldDirty&&h.state.next({name:V,dirtyFields:xo(i,s),isDirty:N(V,q)})):G&&!G._f&&!Dt(q)?ae(V,q,$):ue(V,q,$),n_(V,l)&&h.state.next({...n}),h.values.next({name:o.mount?V:void 0,values:{...s}})},z=async V=>{o.mount=!0;const F=V.target;let $=F.name,G=!0;const H=ee(r,$),q=()=>F.type?Wf(H._f):P2(V),te=fe=>{G=Number.isNaN(fe)||Ei(fe)&&isNaN(fe.getTime())||Pr(fe,ee(s,$,fe))};if(H){let fe,me;const ge=q(),Pt=V.type===e_.BLUR||V.type===e_.FOCUS_OUT,Ka=!W2(H._f)&&!e.resolver&&!ee(n.errors,$)&&!H._f.deps||q2(Pt,ee(n.touchedFields,$),n.isSubmitted,v,m),zi=n_($,l,Pt);be(s,$,ge),Pt?(H._f.onBlur&&H._f.onBlur(V),u&&u(0)):H._f.onChange&&H._f.onChange(V);const to=M($,ge,Pt,!1),ai=!Lt(to)||zi;if(!Pt&&h.values.next({name:$,type:V.type,values:{...s}}),Ka)return f.isValid&&(t.mode==="onBlur"?Pt&&P():P()),ai&&h.state.next({name:$,...zi?{}:to});if(!Pt&&zi&&h.state.next({...n}),e.resolver){const{errors:no}=await g([$]);if(te(ge),G){const Ga=u_(n.errors,r,$),Wi=u_(no,r,Ga.name||$);fe=Wi.error,$=Wi.name,me=Lt(no)}}else S([$],!0),fe=(await a_(H,s,I,e.shouldUseNativeValidation))[$],S([$]),te(ge),G&&(fe?me=!1:f.isValid&&(me=await R(r,!0)));G&&(H._f.deps&&Q(H._f.deps),E($,me,fe,to))}},Y=(V,F)=>{if(ee(n.errors,F)&&V.focus)return V.focus(),1},Q=async(V,F={})=>{let $,G;const H=Jl(V);if(e.resolver){const q=await x(He(V)?V:H);$=Lt(q),G=V?!H.some(te=>ee(q,te)):$}else V?(G=(await Promise.all(H.map(async q=>{const te=ee(r,q);return await R(te&&te._f?{[q]:te}:te)}))).every(Boolean),!(!G&&!n.isValid)&&P()):G=$=await R(r);return h.state.next({...!Mn(V)||f.isValid&&$!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:$}:{},errors:n.errors}),F.shouldFocus&&!G&&Zo(r,Y,V?H:l.mount),G},pe=V=>{const F={...o.mount?s:i};return He(V)?F:Mn(V)?ee(F,V):V.map($=>ee(F,$))},he=(V,F)=>({invalid:!!ee((F||n).errors,V),isDirty:!!ee((F||n).dirtyFields,V),error:ee((F||n).errors,V),isValidating:!!ee(n.validatingFields,V),isTouched:!!ee((F||n).touchedFields,V)}),ve=V=>{V&&Jl(V).forEach(F=>rt(n.errors,F)),h.state.next({errors:V?n.errors:{}})},Ce=(V,F,$)=>{const G=(ee(r,V,{_f:{}})._f||{}).ref,H=ee(n.errors,V)||{},{ref:q,message:te,type:fe,...me}=H;be(n.errors,V,{...me,...F,ref:G}),h.state.next({name:V,errors:n.errors,isValid:!1}),$&&$.shouldFocus&&G&&G.focus&&G.focus()},Pe=(V,F)=>nr(V)?h.values.subscribe({next:$=>V(C(void 0,F),$)}):C(V,F,!0),qe=(V,F={})=>{for(const $ of V?Jl(V):l.mount)l.mount.delete($),l.array.delete($),F.keepValue||(rt(r,$),rt(s,$)),!F.keepError&&rt(n.errors,$),!F.keepDirty&&rt(n.dirtyFields,$),!F.keepTouched&&rt(n.touchedFields,$),!F.keepIsValidating&&rt(n.validatingFields,$),!e.shouldUnregister&&!F.keepDefaultValue&&rt(i,$);h.values.next({values:{...s}}),h.state.next({...n,...F.keepDirty?{isDirty:N()}:{}}),!F.keepIsValid&&P()},nt=({disabled:V,name:F,field:$,fields:G,value:H})=>{if(bn(V)&&o.mount||V){const q=V?void 0:He(H)?Wf($?$._f:ee(G,F)._f):H;be(s,F,q),M(F,q,!1,!1,!0)}},Rt=(V,F={})=>{let $=ee(r,V);const G=bn(F.disabled)||bn(t.disabled);return be(r,V,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:V}},name:V,mount:!0,...F}}),l.mount.add(V),$?nt({field:$,disabled:bn(F.disabled)?F.disabled:t.disabled,name:V,value:F.value}):b(V,!0,F.value),{...G?{disabled:F.disabled||t.disabled}:{},...e.progressive?{required:!!F.required,min:Ao(F.min),max:Ao(F.max),minLength:Ao(F.minLength),maxLength:Ao(F.maxLength),pattern:Ao(F.pattern)}:{},name:V,onChange:z,onBlur:z,ref:H=>{if(H){Rt(V,F),$=ee(r,V);const q=He(H.value)&&H.querySelectorAll&&H.querySelectorAll("input,select,textarea")[0]||H,te=B2(q),fe=$._f.refs||[];if(te?fe.find(me=>me===q):q===$._f.ref)return;be(r,V,{_f:{...$._f,...te?{refs:[...fe.filter(zf),q,...Array.isArray(ee(i,V))?[{}]:[]],ref:{type:q.type,name:V}}:{ref:q}}}),b(V,!1,void 0,q)}else $=ee(r,V,{}),$._f&&($._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(N2(l.array,V)&&o.action)&&l.unMount.add(V)}}},on=()=>e.shouldFocusError&&Zo(r,Y,l.mount),an=V=>{bn(V)&&(h.state.next({disabled:V}),Zo(r,(F,$)=>{const G=ee(r,$);G&&(F.disabled=G._f.disabled||V,Array.isArray(G._f.refs)&&G._f.refs.forEach(H=>{H.disabled=G._f.disabled||V}))},0,!1))},Kt=(V,F)=>async $=>{let G;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let H=ln(s);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:q,values:te}=await g();n.errors=q,H=te}else await R(r);if(rt(n.errors,"root"),Lt(n.errors)){h.state.next({errors:{}});try{await V(H,$)}catch(q){G=q}}else F&&await F({...n.errors},$),on(),setTimeout(on);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lt(n.errors)&&!G,submitCount:n.submitCount+1,errors:n.errors}),G)throw G},Nn=(V,F={})=>{ee(r,V)&&(He(F.defaultValue)?ce(V,ln(ee(i,V))):(ce(V,F.defaultValue),be(i,V,ln(F.defaultValue))),F.keepTouched||rt(n.touchedFields,V),F.keepDirty||(rt(n.dirtyFields,V),n.isDirty=F.defaultValue?N(V,ln(ee(i,V))):N()),F.keepError||(rt(n.errors,V),f.isValid&&P()),h.state.next({...n}))},Gt=(V,F={})=>{const $=V?ln(V):i,G=ln($),H=Lt(V),q=H?i:G;if(F.keepDefaultValues||(i=$),!F.keepValues){if(F.keepDirtyValues){const te=new Set([...l.mount,...Object.keys(xo(i,s))]);for(const fe of Array.from(te))ee(n.dirtyFields,fe)?be(q,fe,ee(s,fe)):ce(fe,ee(q,fe))}else{if(gm&&He(V))for(const te of l.mount){const fe=ee(r,te);if(fe&&fe._f){const me=Array.isArray(fe._f.refs)?fe._f.refs[0]:fe._f.ref;if(qu(me)){const ge=me.closest("form");if(ge){ge.reset();break}}}}r={}}s=t.shouldUnregister?F.keepDefaultValues?ln(i):{}:ln(q),h.array.next({values:{...q}}),h.values.next({values:{...q}})}l={mount:F.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!F.keepIsValid||!!F.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:F.keepSubmitCount?n.submitCount:0,isDirty:H?!1:F.keepDirty?n.isDirty:!!(F.keepDefaultValues&&!Pr(V,i)),isSubmitted:F.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:H?{}:F.keepDirtyValues?F.keepDefaultValues&&s?xo(i,s):n.dirtyFields:F.keepDefaultValues&&V?xo(i,V):F.keepDirty?n.dirtyFields:{},touchedFields:F.keepTouched?n.touchedFields:{},errors:F.keepErrors?n.errors:{},isSubmitSuccessful:F.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Qt=(V,F)=>Gt(nr(V)?V(s):V,F);return{control:{register:Rt,unregister:qe,getFieldState:he,handleSubmit:Kt,setError:Ce,_executeSchema:g,_getWatch:C,_getDirty:N,_updateValid:P,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:nt,_getFieldArray:ne,_reset:Gt,_resetDefaultValues:()=>nr(e.defaultValues)&&e.defaultValues().then(V=>{Qt(V,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:V=>{n={...n,...V}},_disableForm:an,_subjects:h,_proxyFormState:f,_setErrors:O,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(V){o=V},get _defaultValues(){return i},get _names(){return l},set _names(V){l=V},get _formState(){return n},set _formState(V){n=V},get _options(){return e},set _options(V){e={...e,...V}}},trigger:Q,register:Rt,handleSubmit:Kt,watch:Pe,setValue:ce,getValues:pe,reset:Qt,resetField:Nn,clearErrors:ve,unregister:qe,setError:Ce,setFocus:(V,F={})=>{const $=ee(r,V),G=$&&$._f;if(G){const H=G.refs?G.refs[0]:G.ref;H.focus&&(H.focus(),F.shouldSelect&&H.select())}},getFieldState:he}}function eC(t={}){const e=xe.useRef(),n=xe.useRef(),[r,i]=xe.useState({isDirty:!1,isValidating:!1,isLoading:nr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:nr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...G2(t),formState:r});const s=e.current.control;return s._options=t,b2({subject:s._subjects.state,next:o=>{O2(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),xe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),xe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),xe.useEffect(()=>{t.values&&!Pr(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),xe.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),xe.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),xe.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),xe.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=V2(r,s),e.current}const Q2=()=>{const{register:t,handleSubmit:e}=eC(),n=r=>{console.log(r)};return A.jsxs(Pn,{className:"contenedorFormulario",children:[A.jsx(sr,{children:A.jsx("h1",{className:"tituloFormulario",children:"Contacto"})}),A.jsx(sr,{children:A.jsxs(Je,{onSubmit:e(n),children:[A.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicName",children:[A.jsx(Je.Label,{children:"Name"}),A.jsx(Je.Control,{type:"name",placeholder:"Enter name",...t("nombre")})]}),A.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicEmail",children:[A.jsx(Je.Label,{children:"Email address"}),A.jsx(Je.Control,{type:"email",placeholder:"Enter email",...t("email")})]}),A.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPhone",children:[A.jsx(Je.Label,{children:"Phone"}),A.jsx(Je.Control,{type:"phone",placeholder:"Phone",...t("phone")})]}),A.jsx(xt,{variant:"primary",type:"submit",children:"Submit"})]})})]})},X2=()=>{const{remove:t,cart:e,totalPrice:n}=w.useContext(hr),r=()=>{emptyCart()};return A.jsx("div",{children:e.length===0?A.jsx(Pn,{children:A.jsx("h1",{className:"emptyCart",children:"Tu carrito est vacio. Agreguemos algo!."})}):A.jsxs(Pn,{fluid:!0,children:[A.jsx("h1",{children:"Resumen de sus productos"}),e.map(i=>A.jsx("div",{className:"itemInCart",children:A.jsxs(Ft,{style:{width:"100%",display:"flex",flexDirection:"row"},className:"cardImage",children:[A.jsx(Xr,{xs:6,md:3,children:A.jsx(Vp,{src:i.image,thumbnail:!0})}),A.jsxs(Xr,{style:{display:"flex",flexDirection:"column",width:"100%"},children:[A.jsx("span",{children:i.title}),A.jsxs("span",{children:["Cantidad: ",i.qty]}),A.jsxs("span",{children:["Subtotal: ",`$ ${(i.qty*i.price).toFixed(2)}`]}),A.jsx(xt,{variant:"outline-primary",onClick:()=>t(i.id),children:""})]})]})},i.id)),A.jsxs("h2",{className:"totalPrice",children:["Precio Total: $ ",n()," "]}),A.jsxs("div",{className:"containerBtnCart",children:[A.jsx(On,{to:"/checkout",children:A.jsx(xt,{children:"Checkout"})}),A.jsx(xt,{onClick:r,variant:"outline-primary",children:""})]})]})})},Y2=()=>{const[t,e]=w.useState(""),{cart:n,totalPrice:r,emptyCart:i}=w.useContext(hr),{register:s,handleSubmit:o}=eC(),l=u=>{const c={cliente:u,productos:n,total:r()},f=V1(mm,"pedidos");_2(f,c).then(h=>{e(h.id),i()})};return t?A.jsxs(Pn,{children:[A.jsx("h1",{className:"main-title",children:"Muchas gracias por tu compra"}),A.jsxs(sr,{children:["Tu nmero de pedido es: ",t]})]}):A.jsxs(Pn,{className:"contenedorFormulario",children:[A.jsx(sr,{children:A.jsx("h1",{className:"tituloFormulario",children:"Finalizar Compra"})}),A.jsx(sr,{children:A.jsxs(Je,{onSubmit:o(l),children:[A.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicName",children:[A.jsx(Je.Label,{children:"Name"}),A.jsx(Je.Control,{type:"name",placeholder:"Enter name",...s("nombre")})]}),A.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicEmail",children:[A.jsx(Je.Label,{children:"Email address"}),A.jsx(Je.Control,{type:"email",placeholder:"Enter email",...s("email")})]}),A.jsxs(Je.Group,{className:"mb-3",controlId:"formBasicPhone",children:[A.jsx(Je.Label,{children:"Phone"}),A.jsx(Je.Control,{type:"phone",placeholder:"Phone",...s("phone")})]}),A.jsx(xt,{variant:"primary",type:"submit",children:"Comprar"})]})})]})};function J2(){return A.jsx(A.Fragment,{children:A.jsx(pk,{children:A.jsxs(uk,{children:[A.jsx(Rk,{}),A.jsxs(nk,{children:[A.jsx(pi,{main:!0,path:"",element:A.jsx(Zv,{})}),A.jsx(pi,{path:"/contacto",element:A.jsx(Q2,{})}),A.jsx(pi,{path:"/item/:id",element:A.jsx(R2,{})}),A.jsx(pi,{path:"/category/:idCategory",element:A.jsx(Zv,{})}),A.jsx(pi,{path:"/cart",element:A.jsx(X2,{})}),A.jsx(pi,{path:"/checkout",element:A.jsx(Y2,{})})]})]})})})}Cw(document.getElementById("root")).render(A.jsx(J2,{}));
